!function(){var a={788:function(e,t,a){var o;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){for(var t=e,a=t.lib.BlockCipher,o=t.algo,c=[],n=[],r=[],i=[],d=[],s=[],l=[],u=[],m=[],p=[],b=[],f=0;f<256;f++)b[f]=f<128?f<<1:f<<1^283;for(var h=0,g=0,f=0;f<256;f++){var v=g^g<<1^g<<2^g<<3^g<<4,x=(c[h]=v=v>>>8^255&v^99,b[n[v]=h]),_=b[x],y=b[_],w=257*b[v]^16843008*v;r[h]=w<<24|w>>>8,i[h]=w<<16|w>>>16,d[h]=w<<8|w>>>24,s[h]=w,l[v]=(w=16843009*y^65537*_^257*x^16843008*h)<<24|w>>>8,u[v]=w<<16|w>>>16,m[v]=w<<8|w>>>24,p[v]=w,h?(h=x^b[b[b[y^x]]],g^=b[b[g]]):h=g=1}var M=[0,1,2,4,8,16,32,64,128,27,54],o=o.AES=a.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,a=e.sigBytes/4,o=4*(1+(this._nRounds=6+a)),n=this._keySchedule=[],r=0;r<o;r++)r<a?n[r]=t[r]:(s=n[r-1],r%a?6<a&&r%a==4&&(s=c[s>>>24]<<24|c[s>>>16&255]<<16|c[s>>>8&255]<<8|c[255&s]):(s=c[(s=s<<8|s>>>24)>>>24]<<24|c[s>>>16&255]<<16|c[s>>>8&255]<<8|c[255&s],s^=M[r/a|0]<<24),n[r]=n[r-a]^s);for(var i=this._invKeySchedule=[],d=0;d<o;d++){var s,r=o-d;s=d%4?n[r]:n[r-4],i[d]=d<4||r<=4?s:l[c[s>>>24]]^u[c[s>>>16&255]]^m[c[s>>>8&255]]^p[c[255&s]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,i,d,s,c)},decryptBlock:function(e,t){var a=e[t+1],a=(e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,l,u,m,p,n),e[t+1]);e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,o,n,r,i,d){for(var s=this._nRounds,c=e[t]^a[0],l=e[t+1]^a[1],u=e[t+2]^a[2],m=e[t+3]^a[3],p=4,b=1;b<s;b++)var f=o[c>>>24]^n[l>>>16&255]^r[u>>>8&255]^i[255&m]^a[p++],h=o[l>>>24]^n[u>>>16&255]^r[m>>>8&255]^i[255&c]^a[p++],g=o[u>>>24]^n[m>>>16&255]^r[c>>>8&255]^i[255&l]^a[p++],v=o[m>>>24]^n[c>>>16&255]^r[l>>>8&255]^i[255&u]^a[p++],c=f,l=h,u=g,m=v;f=(d[c>>>24]<<24|d[l>>>16&255]<<16|d[u>>>8&255]<<8|d[255&m])^a[p++],h=(d[l>>>24]<<24|d[u>>>16&255]<<16|d[m>>>8&255]<<8|d[255&c])^a[p++],g=(d[u>>>24]<<24|d[m>>>16&255]<<16|d[c>>>8&255]<<8|d[255&l])^a[p++],v=(d[m>>>24]<<24|d[c>>>16&255]<<16|d[l>>>8&255]<<8|d[255&u])^a[p++];e[t]=f,e[t+1]=h,e[t+2]=g,e[t+3]=v},keySize:8});return t.AES=a._createHelper(o),e.AES},"object"===n(t)?e.exports=t=o(a(656),a(662),a(624),a(915),a(402)):(a=[a(656),a(662),a(624),a(915),a(402)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},402:function(e,t,a){var o;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){function n(e){return"string"==typeof e?b:p}function r(e,t,a){var o,n=this._iv;n?(o=n,this._iv=void 0):o=this._prevBlock;for(var r=0;r<a;r++)e[t+r]^=o[r]}var t,a,i,o,d,s,c,l,u,m,p,b;e.lib.Cipher||(t=(e=e).lib,a=t.Base,i=t.WordArray,o=t.BufferedBlockAlgorithm,(d=e.enc).Utf8,s=d.Base64,c=e.algo.EvpKDF,l=t.Cipher=o.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(o){return{encrypt:function(e,t,a){return n(t).encrypt(o,e,t,a)},decrypt:function(e,t,a){return n(t).decrypt(o,e,t,a)}}}}),t.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=e.mode={},u=t.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=d.CBC=((d=u.extend()).Encryptor=d.extend({processBlock:function(e,t){var a=this._cipher,o=a.blockSize;r.call(this,e,t,o),a.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),d.Decryptor=d.extend({processBlock:function(e,t){var a=this._cipher,o=a.blockSize,n=e.slice(t,t+o);a.decryptBlock(e,t),r.call(this,e,t,o),this._prevBlock=n}}),d),d=(e.pad={}).Pkcs7={pad:function(e,t){for(var t=4*t,a=t-e.sigBytes%t,o=a<<24|a<<16|a<<8|a,n=[],r=0;r<a;r+=4)n.push(o);t=i.create(n,a);e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.BlockCipher=l.extend({cfg:l.cfg.extend({mode:u,padding:d}),reset:function(){l.reset.call(this);var e,t=this.cfg,a=t.iv,t=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=t.createEncryptor:(e=t.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,a&&a.words):(this._mode=e.call(t,this,a&&a.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),m=t.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,e=e.salt,e=e?i.create([1398893684,1701076831]).concat(e).concat(t):t;return e.toString(s)},parse:function(e){var t,e=s.parse(e),a=e.words;return 1398893684==a[0]&&1701076831==a[1]&&(t=i.create(a.slice(2,4)),a.splice(0,4),e.sigBytes-=16),m.create({ciphertext:e,salt:t})}},p=t.SerializableCipher=a.extend({cfg:a.extend({format:u}),encrypt:function(e,t,a,o){o=this.cfg.extend(o);var n=e.createEncryptor(a,o),t=n.finalize(t),n=n.cfg;return m.create({ciphertext:t,key:a,iv:n.iv,algorithm:e,mode:n.mode,padding:n.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,a,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(a,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),d=(e.kdf={}).OpenSSL={execute:function(e,t,a,o){o=o||i.random(8);e=c.create({keySize:t+a}).compute(e,o),a=i.create(e.words.slice(t),4*a);return e.sigBytes=4*t,m.create({key:e,iv:a,salt:o})}},b=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,a,o){a=(o=this.cfg.extend(o)).kdf.execute(a,e.keySize,e.ivSize),o.iv=a.iv,e=p.encrypt.call(this,e,t,a.key,o);return e.mixIn(a),e},decrypt:function(e,t,a,o){o=this.cfg.extend(o),t=this._parse(t,o.format);a=o.kdf.execute(a,e.keySize,e.ivSize,t.salt);return o.iv=a.iv,p.decrypt.call(this,e,t,a.key,o)}}))},"object"===n(t)?e.exports=t=o(a(656),a(915)):(a=[a(656),a(915)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},656:function(e,t,b){var a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){var o,c=Math;if("undefined"!=typeof window&&window.crypto&&(o=window.crypto),"undefined"!=typeof self&&self.crypto&&(o=self.crypto),!(o=!(o=!(o="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:o)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:o)&&void 0!==b.g&&b.g.crypto?b.g.crypto:o))try{o=b(480)}catch(e){}var a=Object.create||function(e){return t.prototype=e,e=new t,t.prototype=null,e};function t(){}var e={},n=e.lib={},r=n.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=n.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,a=e.words,o=this.sigBytes,n=e.sigBytes;if(this.clamp(),o%4)for(var r=0;r<n;r++){var i=a[r>>>2]>>>24-r%4*8&255;t[o+r>>>2]|=i<<24-(o+r)%4*8}else for(var d=0;d<n;d+=4)t[o+d>>>2]=a[d>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=c.ceil(t/4)},clone:function(){var e;return(e=r.clone.call(this)).words=this.words.slice(0),e},random:function(e){for(var t=[],a=0;a<e;a+=4)t.push(function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new l.init(t,e)}}),i=e.enc={},d=i.Hex={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],n=0;n<a;n++){var r=t[n>>>2]>>>24-n%4*8&255;o.push((r>>>4).toString(16)),o.push((15&r).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o+=2)a[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new l.init(a,t/2)}},s=i.Latin1={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],n=0;n<a;n++){var r=t[n>>>2]>>>24-n%4*8&255;o.push(String.fromCharCode(r))}return o.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o++)a[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new l.init(a,t)}},u=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},m=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,a=this._data,o=a.words,n=a.sigBytes,r=this.blockSize,i=n/(4*r),d=(i=e?c.ceil(i):c.max((0|i)-this._minBufferSize,0))*r,e=c.min(4*d,n);if(d){for(var s=0;s<d;s+=r)this._doProcessBlock(o,s);t=o.splice(0,d),a.sigBytes-=e}return new l.init(t,e)},clone:function(){var e;return(e=r.clone.call(this))._data=this._data.clone(),e},_minBufferSize:0}),p=(n.Hasher=m.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(e,t){return new a.init(t).finalize(e)}},_createHmacHelper:function(a){return function(e,t){return new p.HMAC.init(a,t).finalize(e)}}}),e.algo={});return e},"object"===o(t)?e.exports=t=a():void 0!==(t="function"==typeof(a=a)?a.apply(t,[]):a)&&(e.exports=t)},662:function(e,t,a){var o;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var b;return b=e.lib.WordArray,e.enc.Base64={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=this._map,n=(e.clamp(),[]),r=0;r<a;r+=3)for(var i=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,d=0;d<4&&r+.75*d<a;d++)n.push(o.charAt(i>>>6*(3-d)&63));var s=o.charAt(64);if(s)for(;n.length%4;)n.push(s);return n.join("")},parse:function(e){var t=e.length,a=this._map;if(!(o=this._reverseMap))for(var o=this._reverseMap=[],n=0;n<a.length;n++)o[a.charCodeAt(n)]=n;for(var r,i,d=a.charAt(64),s=(!d||-1!==(d=e.indexOf(d))&&(t=d),e),c=t,l=o,u=[],m=0,p=0;p<c;p++)p%4&&(i=l[s.charCodeAt(p-1)]<<p%4*2,r=l[s.charCodeAt(p)]>>>6-p%4*2,i=i|r,u[m>>>2]|=i<<24-m%4*8,m++);return b.create(u,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"===n(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},623:function(e,t,a){var o;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return e.enc.Utf8},"object"===n(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},915:function(e,t,a){var o;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,a,o,l,n,r;return a=(t=e).lib,o=a.Base,l=a.WordArray,a=t.algo,n=a.MD5,r=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:n,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a,o=this.cfg,n=o.hasher.create(),r=l.create(),i=r.words,d=o.keySize,s=o.iterations;i.length<d;){a&&n.update(a),a=n.update(e).finalize(t),n.reset();for(var c=1;c<s;c++)a=n.finalize(a),n.reset();r.concat(a)}return r.sigBytes=4*d,r}}),t.EvpKDF=function(e,t,a){return r.create(a).compute(e,t)},e.EvpKDF},"object"===n(t)?e.exports=t=o(a(656),a(272),a(260)):(a=[a(656),a(272),a(260)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},260:function(e,t,a){var o;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,d;t=e.lib.Base,d=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=d.parse(t));for(var a=e.blockSize,o=4*a,e=((t=t.sigBytes>o?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),n=e.words,r=t.words,i=0;i<a;i++)n[i]^=1549556828,r[i]^=909522486;e.sigBytes=t.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})},"object"===n(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},624:function(e,t,a){var o;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){for(var s=Math,t=e,a=(n=t.lib).WordArray,o=n.Hasher,n=t.algo,k=[],r=0;r<64;r++)k[r]=4294967296*s.abs(s.sin(r+1))|0;function D(e,t,a,o,n,r,i){e=e+(t&a|~t&o)+n+i;return(e<<r|e>>>32-r)+t}function T(e,t,a,o,n,r,i){e=e+(t&o|a&~o)+n+i;return(e<<r|e>>>32-r)+t}function A(e,t,a,o,n,r,i){e=e+(t^a^o)+n+i;return(e<<r|e>>>32-r)+t}function S(e,t,a,o,n,r,i){e=e+(a^(t|~o))+n+i;return(e<<r|e>>>32-r)+t}return n=n.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var o=t+a,n=e[o];e[o]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var r=this._hash.words,i=e[t+0],d=e[t+1],s=e[t+2],c=e[t+3],l=e[t+4],u=e[t+5],m=e[t+6],p=e[t+7],b=e[t+8],f=e[t+9],h=e[t+10],g=e[t+11],v=e[t+12],x=e[t+13],_=e[t+14],y=e[t+15],w=D(r[0],P=r[1],E=r[2],M=r[3],i,7,k[0]),M=D(M,w,P,E,d,12,k[1]),E=D(E,M,w,P,s,17,k[2]),P=D(P,E,M,w,c,22,k[3]);w=D(w,P,E,M,l,7,k[4]),M=D(M,w,P,E,u,12,k[5]),E=D(E,M,w,P,m,17,k[6]),P=D(P,E,M,w,p,22,k[7]),w=D(w,P,E,M,b,7,k[8]),M=D(M,w,P,E,f,12,k[9]),E=D(E,M,w,P,h,17,k[10]),P=D(P,E,M,w,g,22,k[11]),w=D(w,P,E,M,v,7,k[12]),M=D(M,w,P,E,x,12,k[13]),E=D(E,M,w,P,_,17,k[14]),w=T(w,P=D(P,E,M,w,y,22,k[15]),E,M,d,5,k[16]),M=T(M,w,P,E,m,9,k[17]),E=T(E,M,w,P,g,14,k[18]),P=T(P,E,M,w,i,20,k[19]),w=T(w,P,E,M,u,5,k[20]),M=T(M,w,P,E,h,9,k[21]),E=T(E,M,w,P,y,14,k[22]),P=T(P,E,M,w,l,20,k[23]),w=T(w,P,E,M,f,5,k[24]),M=T(M,w,P,E,_,9,k[25]),E=T(E,M,w,P,c,14,k[26]),P=T(P,E,M,w,b,20,k[27]),w=T(w,P,E,M,x,5,k[28]),M=T(M,w,P,E,s,9,k[29]),E=T(E,M,w,P,p,14,k[30]),w=A(w,P=T(P,E,M,w,v,20,k[31]),E,M,u,4,k[32]),M=A(M,w,P,E,b,11,k[33]),E=A(E,M,w,P,g,16,k[34]),P=A(P,E,M,w,_,23,k[35]),w=A(w,P,E,M,d,4,k[36]),M=A(M,w,P,E,l,11,k[37]),E=A(E,M,w,P,p,16,k[38]),P=A(P,E,M,w,h,23,k[39]),w=A(w,P,E,M,x,4,k[40]),M=A(M,w,P,E,i,11,k[41]),E=A(E,M,w,P,c,16,k[42]),P=A(P,E,M,w,m,23,k[43]),w=A(w,P,E,M,f,4,k[44]),M=A(M,w,P,E,v,11,k[45]),E=A(E,M,w,P,y,16,k[46]),w=S(w,P=A(P,E,M,w,s,23,k[47]),E,M,i,6,k[48]),M=S(M,w,P,E,p,10,k[49]),E=S(E,M,w,P,_,15,k[50]),P=S(P,E,M,w,u,21,k[51]),w=S(w,P,E,M,v,6,k[52]),M=S(M,w,P,E,c,10,k[53]),E=S(E,M,w,P,h,15,k[54]),P=S(P,E,M,w,d,21,k[55]),w=S(w,P,E,M,b,6,k[56]),M=S(M,w,P,E,y,10,k[57]),E=S(E,M,w,P,m,15,k[58]),P=S(P,E,M,w,x,21,k[59]),w=S(w,P,E,M,l,6,k[60]),M=S(M,w,P,E,g,10,k[61]),E=S(E,M,w,P,s,15,k[62]),P=S(P,E,M,w,f,21,k[63]),r[0]=r[0]+w|0,r[1]=r[1]+P|0,r[2]=r[2]+E|0,r[3]=r[3]+M|0},_doFinalize:function(){for(var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes,n=(t[o>>>5]|=128<<24-o%32,s.floor(a/4294967296)),n=(t[15+(64+o>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t[14+(64+o>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),r=n.words,i=0;i<4;i++){var d=r[i];r[i]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return n},clone:function(){var e;return(e=o.clone.call(this))._hash=this._hash.clone(),e}}),t.MD5=o._createHelper(n),t.HmacMD5=o._createHmacHelper(n),e.MD5},"object"===n(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},272:function(e,t,a){var o;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,a,o,n,l;return a=(t=e).lib,o=a.WordArray,n=a.Hasher,a=t.algo,l=[],a=a.SHA1=n.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=this._hash.words,o=a[0],n=a[1],r=a[2],i=a[3],d=a[4],s=0;s<80;s++){s<16?l[s]=0|e[t+s]:(c=l[s-3]^l[s-8]^l[s-14]^l[s-16],l[s]=c<<1|c>>>31);var c=(o<<5|o>>>27)+d+l[s];c+=s<20?1518500249+(n&r|~n&i):s<40?1859775393+(n^r^i):s<60?(n&r|n&i|r&i)-1894007588:(n^r^i)-899497514,d=i,i=r,r=n<<30|n>>>2,n=o,o=c}a[0]=a[0]+o|0,a[1]=a[1]+n|0,a[2]=a[2]+r|0,a[3]=a[3]+i|0,a[4]=a[4]+d|0},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(64+o>>>9<<4)]=Math.floor(a/4294967296),t[15+(64+o>>>9<<4)]=a,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e;return(e=n.clone.call(this))._hash=this._hash.clone(),e}}),t.SHA1=n._createHelper(a),t.HmacSHA1=n._createHmacHelper(a),e.SHA1},"object"===n(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},344:function(e,t,a){function u(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function m(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=a.nmd(e),a=function(){"use strict";function a(e,t){return!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?m(JSON.stringify(e)).map(function(e){return String.fromCharCode(e.charCodeAt(0)+t)}).join(""):JSON.parse(m(e).map(function(e){return String.fromCharCode(e.charCodeAt(0)-t)}).join(""))}function e(){var o=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!d())return!1;Object.keys(localStorage).forEach(function(e){var t,a=localStorage.getItem(e);if(a){try{t=JSON.parse(a)}catch(e){return}r(t)&&s in t&&(Date.now()>t.ttl||o)&&localStorage.removeItem(e)}})}var t,o={d:function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},n={},i=(o.d(n,{default:function(){return l}}),function(){}),r=function(e){return null!==e&&"Object"===e.constructor.name},d=function(){if(void 0!==t)return t;t=!0;try{localStorage||(t=!1)}catch(e){t=!1}return e(),t},s=String.fromCharCode(0),c={ttl:null,encrypt:!1,encrypter:a,decrypter:function(e,t){return a(e,t,!1)},secret:75},l={config:c,set:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!d())return!1;a=Object.assign(Object.assign(Object.assign({},c),a),{encrypt:!1!==a.encrypt&&(a.encrypt||c.encrypt),ttl:null===a.ttl?null:a.ttl||c.ttl});try{var o,n=a.ttl&&!isNaN(a.ttl)&&0<a.ttl,r=n?(u(o={},s,t),u(o,"ttl",Date.now()+1e3*a.ttl),o):t;a.encrypt&&(n?r[s]=(a.encrypter||i)(r[s],a.secret):r=(a.encrypter||i)(r,a.secret)),localStorage.setItem(e,JSON.stringify(r))}catch(e){return!1}},get:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!d())return null;var a=localStorage.getItem(e);if(!a)return null;var t=Object.assign(Object.assign(Object.assign({},c),t),{encrypt:!1!==t.encrypt&&(t.encrypt||c.encrypt),ttl:null===t.ttl?null:t.ttl||c.ttl}),a=JSON.parse(a),o=r(a)&&s in a;if(t.decrypt||t.encrypt)try{o?a[s]=(t.decrypter||i)(a[s],t.secret):a=(t.decrypter||i)(a,t.secret)}catch(e){}return o?Date.now()>a.ttl?(localStorage.removeItem(e),null):a[s]:a},flush:e,clear:function(){if(!d())return!1;localStorage.clear()},remove:function(e){if(!d())return!1;localStorage.removeItem(e)}};return n.default},"object"==n(t)&&"object"==n(e)?e.exports=a():void 0!==(t="function"==typeof(a=a)?a.apply(t,[]):a)&&(e.exports=t)},36:function(e,t,a){"use strict";var s=a(300);e.exports=function(o,e,t){var n=[],a=!1,r=-1;function i(){for(r=0;r<n.length;r+=2)try{o(n[r],s(n[r+1]),d)}catch(e){t.error(e)}r=-1}function d(){a||(a=!0,e(function(){a=!1,i()}))}return d.sync=i,{mount:function(e,t){if(null!=t&&null==t.view&&"function"!=typeof t)throw new TypeError("m.mount expects a component, not a vnode.");var a=n.indexOf(e);0<=a&&(n.splice(a,2),a<=r&&(r-=2),o(e,[])),null!=t&&(n.push(e,t),o(e,s(t),d))},redraw:d}}},741:function(e,t,a){"use strict";function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=a(300),M=a(963),E=a(64),P=a(50),k=a(660),D=a(792),T=a(319),A=a(195),S={};function C(t){try{return decodeURIComponent(t)}catch(e){return t}}e.exports=function(n,c){var l,u,m,p,b,f,e=null==n?null:"function"==typeof n.setImmediate?n.setImmediate:n.setTimeout,h=E.resolve(),t=!1,r=!1,g=0,v=S,i={onbeforeupdate:function(){return!(!(g=g?2:1)||S===v)},onremove:function(){n.removeEventListener("popstate",s,!1),n.removeEventListener("hashchange",d,!1)},view:function(){var e;if(g&&S!==v)return e=[o(m,p.key,p)],v?v.render(e[0]):e}},x=y.SKIP={};function d(){t=!1;var e=n.location.hash,i=("#"!==y.prefix[0]&&(e=n.location.search+e,"?"!==y.prefix[0]&&"/"!==(e=n.location.pathname+e)[0]&&(e="/"+e)),e.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,C).slice(y.prefix.length)),d=k(i);function s(e){console.error(e),_(u,null,{replace:!0})}T(d.params,n.history.state),function t(a){for(;a<l.length;a++){var o,e,n,r;if(l[a].check(d))return o=l[a].component,e=l[a].route,r=f=function(e){if(r===f){if(e===x)return t(a+1);m=null==e||"function"!=typeof e.view&&"function"!=typeof e?"div":e,p=d.params,b=i,f=null,v=o.render?o:null,2===g?c.redraw():(g=2,c.redraw.sync())}},void((n=o).view||"function"==typeof o?(o={},r(n)):o.onmatch?h.then(function(){return o.onmatch(d.params,i,e)}).then(r,i===u?null:s):r("div"))}if(i===u)throw new Error("Could not resolve default route "+u+".");_(u,null,{replace:!0})}(0)}function s(){t||(t=!0,e(d))}function _(e,t,a){var o;e=P(e,t),r?(s(),t=a?a.state:null,o=a?a.title:null,a&&a.replace?n.history.replaceState(t,o,y.prefix+e):n.history.pushState(t,o,y.prefix+e)):n.location.href=y.prefix+e}function y(e,t,a){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(l=Object.keys(a).map(function(e){if("/"!==e[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:e,component:a[e],check:D(e)}}),null!=(u=t)){var o=k(t);if(!l.some(function(e){return e.check(o)}))throw new ReferenceError("Default route doesn't match any known routes.")}"function"==typeof n.history.pushState?n.addEventListener("popstate",s,!1):"#"===y.prefix[0]&&n.addEventListener("hashchange",d,!1),r=!0,c.mount(e,i),d()}return y.set=function(e,t,a){null!=f&&((a=a||{}).replace=!0),f=null,_(e,t,a)},y.get=function(){return b},y.prefix="#!",y.Link={view:function(e){var a,o,n,t=M(e.attrs.selector||"a",A(e.attrs,["options","params","selector","onclick"]),e.children);return(t.attrs.disabled=Boolean(t.attrs.disabled))?(t.attrs.href=null,t.attrs["aria-disabled"]="true"):(a=e.attrs.options,o=e.attrs.onclick,n=P(t.attrs.href,e.attrs.params),t.attrs.href=y.prefix+n,t.attrs.onclick=function(e){var t;"function"==typeof o?t=o.call(e.currentTarget,e):null!=o&&"object"===w(o)&&"function"==typeof o.handleEvent&&o.handleEvent(e),!1===t||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,y.set(n,null,a))}),t}},y.param=function(e){return p&&null!=e?p[e]:p},y}},632:function(e,t,a){"use strict";var o=a(963);o.trust=a(158),o.fragment=a(613),e.exports=o},360:function(e,t,a){"use strict";function o(){return n.apply(this,arguments)}var n=a(632),r=a(924),i=a(945);o.m=n,o.trust=n.trust,o.fragment=n.fragment,o.Fragment="[",o.mount=i.mount,o.route=a(208),o.render=a(754),o.redraw=i.redraw,o.request=r.request,o.jsonp=r.jsonp,o.parseQueryString=a(256),o.buildQueryString=a(19),o.parsePathname=a(660),o.buildPathname=a(50),o.vnode=a(300),o.PromisePolyfill=a(121),o.censor=a(195),e.exports=o},945:function(e,t,a){"use strict";var o=a(754);e.exports=a(36)(o,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},50:function(e,t,a){"use strict";var u=a(19),m=a(319);e.exports=function(e,o){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==o)return e;var t=e.indexOf("?"),a=e.indexOf("#"),n=a<0?e.length:a,r=e.slice(0,t<0?n:t),i={},r=(m(i,o),r.replace(/:([^\/\.-]+)(\.{3})?/g,function(e,t,a){return delete i[t],null==o[t]?e:a?o[t]:encodeURIComponent(String(o[t]))})),d=r.indexOf("?"),s=r.indexOf("#"),c=s<0?r.length:s,l=r.slice(0,d<0?c:d),n=(0<=t&&(l+=e.slice(t,n)),0<=d&&(l+=(t<0?"?":"&")+r.slice(d,c)),u(i));return n&&(l+=(t<0&&d<0?"?":"&")+n),0<=a&&(l+=e.slice(a)),0<=s&&(l+=(a<0?"":"&")+r.slice(s)),l}},792:function(e,t,a){"use strict";var d=a(660);e.exports=function(e){var o=d(e),n=Object.keys(o.params),r=[],i=new RegExp("^"+o.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(e,t,a){return null==t?"\\"+e:(r.push({k:t,r:"..."===a}),"..."===a?"(.*)":"."===a?"([^/]+)\\.":"([^/]+)"+(a||""))})+"$");return function(e){for(var t=0;t<n.length;t++)if(o.params[n[t]]!==e.params[n[t]])return!1;if(!r.length)return i.test(e.path);var a=i.exec(e.path);if(null==a)return!1;for(t=0;t<r.length;t++)e.params[r[t].k]=r[t].r?a[t+1]:decodeURIComponent(a[t+1]);return!0}}},660:function(e,t,a){"use strict";var n=a(256);e.exports=function(e){var t=e.indexOf("?"),a=e.indexOf("#"),a=a<0?e.length:a,o=e.slice(0,t<0?a:t).replace(/\/{2,}/g,"/");return o?1<(o="/"!==o[0]?"/"+o:o).length&&"/"===o[o.length-1]&&(o=o.slice(0,-1)):o="/",{path:o,params:t<0?{}:n(e.slice(t+1,a))}}},121:function(e){"use strict";function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){if(!(this instanceof p))throw new Error("Promise must be called with 'new'.");if("function"!=typeof e)throw new TypeError("executor must be a function.");var r=this,i=[],d=[],n=t(i,!0),s=t(d,!1),c=r._instance={resolvers:i,rejectors:d},l="function"==typeof setImmediate?setImmediate:setTimeout;function t(o,n){return function t(a){var e;try{if(!n||null==a||"object"!==m(a)&&"function"!=typeof a||"function"!=typeof(e=a.then))l(function(){n||0!==o.length||console.error("Possible unhandled promise rejection:",a);for(var e=0;e<o.length;e++)o[e](a);i.length=0,d.length=0,c.state=n,c.retry=function(){t(a)}});else{if(a===r)throw new TypeError("Promise can't be resolved with itself.");u(e.bind(a))}}catch(e){s(e)}}}function u(e){var a=0;function t(t){return function(e){0<a++||t(e)}}var o=t(s);try{e(t(n),o)}catch(e){o(e)}}u(e)}p.prototype.then=function(e,t){var n,r,i=this._instance;function a(t,e,a,o){e.push(function(e){if("function"!=typeof t)a(e);else try{n(t(e))}catch(e){r&&r(e)}}),"function"==typeof i.retry&&o===i.state&&i.retry()}var o=new p(function(e,t){n=e,r=t});return a(e,i.resolvers,n,!0),a(t,i.rejectors,r,!1),o},p.prototype.catch=function(e){return this.then(null,e)},p.prototype.finally=function(t){return this.then(function(e){return p.resolve(t()).then(function(){return e})},function(e){return p.resolve(t()).then(function(){return p.reject(e)})})},p.resolve=function(t){return t instanceof p?t:new p(function(e){e(t)})},p.reject=function(a){return new p(function(e,t){t(a)})},p.all=function(d){return new p(function(a,o){var n=d.length,r=0,i=[];if(0===d.length)a([]);else for(var e=0;e<d.length;e++)!function(t){function e(e){r++,i[t]=e,r===n&&a(i)}null==d[t]||"object"!==m(d[t])&&"function"!=typeof d[t]||"function"!=typeof d[t].then?e(d[t]):d[t].then(e,o)}(e)})},p.race=function(o){return new p(function(e,t){for(var a=0;a<o.length;a++)o[a].then(e,t)})},e.exports=p},64:function(e,t,a){"use strict";var o=a(121);"undefined"!=typeof window?(void 0===window.Promise?window.Promise=o:window.Promise.prototype.finally||(window.Promise.prototype.finally=o.prototype.finally),e.exports=window.Promise):void 0!==a.g?(void 0===a.g.Promise?a.g.Promise=o:a.g.Promise.prototype.finally||(a.g.Promise.prototype.finally=o.prototype.finally),e.exports=a.g.Promise):e.exports=o},19:function(e){"use strict";e.exports=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t,n=[];for(t in e)!function e(t,a){if(Array.isArray(a))for(var o=0;o<a.length;o++)e(t+"["+o+"]",a[o]);else if("[object Object]"===Object.prototype.toString.call(a))for(var o in a)e(t+"["+o+"]",a[o]);else n.push(encodeURIComponent(t)+(null!=a&&""!==a?"="+encodeURIComponent(a):""))}(t,e[t]);return n.join("&")}},256:function(e){"use strict";function b(t){try{return decodeURIComponent(t)}catch(e){return t}}e.exports=function(e){if(""===e||null==e)return{};for(var t=(e="?"===e.charAt(0)?e.slice(1):e).split("&"),a={},o={},n=0;n<t.length;n++){var r=t[n].split("="),i=b(r[0]),d=2===r.length?b(r[1]):"",s=("true"===d?d=!0:"false"===d&&(d=!1),i.split(/\]\[?|\[/)),c=o;-1<i.indexOf("[")&&s.pop();for(var l=0;l<s.length;l++){var u,m=s[l],p=s[l+1],p=""==p||!isNaN(parseInt(p,10));if(""===m)null==a[i=s.slice(0,l).join()]&&(a[i]=Array.isArray(c)?c.length:0),m=a[i]++;else if("__proto__"===m)break;l===s.length-1?c[m]=d:(null==(u=null!=(u=Object.getOwnPropertyDescriptor(c,m))?u.value:u)&&(c[m]=u=p?[]:{}),c=u)}}return o}},754:function(e,t,a){"use strict";e.exports=a(617)("undefined"!=typeof window?window:null)},613:function(e,t,a){"use strict";var o=a(300),n=a(953);e.exports=function(){var e=n.apply(0,arguments);return e.tag="[",e.children=o.normalizeChildren(e.children),e}},963:function(e,t,a){"use strict";var d=a(300),s=a(953),c=a(554),l=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,u={};function m(e){for(var t in e)if(c.call(e,t))return;return 1}e.exports=function(e){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var t=s.apply(1,arguments);if("string"!=typeof e||(t.children=d.normalizeChildren(t.children),"["===e))return t.tag=e,t;var a=u[e]||function(e){for(var t,a="div",o=[],n={};t=l.exec(e);){var r=t[1],i=t[2];""===r&&""!==i?a=i:"#"===r?n.id=i:"."===r?o.push(i):"["===t[3][0]&&(r=(r=t[6])&&r.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\"),"class"===t[4]?o.push(r):n[t[4]]=""===r?r:r||!0)}return 0<o.length&&(n.className=o.join(" ")),u[e]={tag:a,attrs:n}}(e),o=t,n=o.attrs,e=c.call(n,"class"),t=e?n.class:n.className;if(o.tag=a.tag,o.attrs={},!m(a.attrs)&&!m(n)){var r,i={};for(r in n)c.call(n,r)&&(i[r]=n[r]);n=i}for(r in a.attrs)c.call(a.attrs,r)&&"className"!==r&&!c.call(n,r)&&(n[r]=a.attrs[r]);for(r in null==t&&null==a.attrs.className||(n.className=null!=t?null!=a.attrs.className?String(a.attrs.className)+" "+String(t):t:null!=a.attrs.className?a.attrs.className:null),e&&(n.class=null),n)if(c.call(n,r)&&"key"!==r){o.attrs=n;break}return o}},953:function(e,t,a){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=a(300);e.exports=function(){var e,t=arguments[this],a=this+1;if(null==t?t={}:"object"===o(t)&&null==t.tag&&!Array.isArray(t)||(t={},a=this),arguments.length===a+1)e=arguments[a],Array.isArray(e)||(e=[e]);else for(e=[];a<arguments.length;)e.push(arguments[a++]);return n("",t.key,t,e)}},617:function(e,t,a){"use strict";function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ee=a(300);e.exports=function(e){var c,k=e&&e.document,t={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function H(e){return e.attrs&&e.attrs.xmlns||t[e.tag]}function l(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function Y(e){var t=e.state;try{return this.apply(t,arguments)}finally{l(e,t)}}function j(){try{return k.activeElement}catch(e){return null}}function D(e,t,a,o,n,r,i){for(var d=a;d<o;d++){var s=t[d];null!=s&&U(e,s,n,i,r)}}function U(e,t,a,o,n){var r,i,d,s,c=t.tag;if("string"==typeof c)switch(t.state={},null!=t.attrs&&N(t.attrs,t,a),c){case"#":l=e,m=n,(u=t).dom=k.createTextNode(u.children),C(l,u.dom,m);break;case"<":$(e,t,o,n);break;case"[":var l=e,u=t,m=a,p=o,b=n,f=k.createDocumentFragment();null!=u.children&&(h=u.children,D(f,h,0,h.length,m,null,p)),u.dom=f.firstChild,u.domSize=f.childNodes.length,C(l,f,b);break;default:var h=e,p=t,f=a,b=o,g=n,v=p.tag,x=p.attrs,_=x&&x.is,_=(b=H(p)||b)?_?k.createElementNS(b,v,{is:_}):k.createElementNS(b,v):_?k.createElement(v,{is:_}):k.createElement(v);if(p.dom=_,null!=x){var y=p;var w=x;var M=b;"input"===y.tag&&null!=w.type&&y.dom.setAttribute("type",w.type);var E,P=null!=w&&"input"===y.tag&&"file"===w.type;for(E in w)X(y,E,null,w[E],M,P)}if(C(h,_,g),!J(p))if(null!=p.children){v=p.children,D(_,v,0,v.length,f,null,b);if("select"===p.tag&&null!=x){g=p;_=x;"value"in _&&(null===_.value?-1!==g.dom.selectedIndex&&(g.dom.value=null):(v=""+_.value,g.dom.value===v&&-1!==g.dom.selectedIndex||(g.dom.value=v)));"selectedIndex"in _&&X(g,"selectedIndex",null,_.selectedIndex,void 0)}}}else c=e,d=o,s=n,function(e,t){var a;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(a=e.state.view).$$reentrantLock$$)return;a.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(a=e.tag).$$reentrantLock$$)return;a.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}N(e.state,e,t),null!=e.attrs&&N(e.attrs,e,t);if(e.instance=ee.normalize(Y.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}(r=t,i=a),null!=r.instance?(U(c,r.instance,i,d,s),r.dom=r.instance.dom,r.domSize=null!=r.dom?r.instance.domSize:0):r.domSize=0}var s={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function $(e,t,a,o){for(var n,r=t.children.match(/^\s*?<(\w+)/im)||[],i=k.createElement(s[r[1]]||"div"),d=("http://www.w3.org/2000/svg"===a?(i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",i=i.firstChild):i.innerHTML=t.children,t.dom=i.firstChild,t.domSize=i.childNodes.length,t.instance=[],k.createDocumentFragment());n=i.firstChild;)t.instance.push(n),d.appendChild(n);C(e,d,o)}function B(e,t,a,o,n,r){if(t!==a&&(null!=t||null!=a))if(null==t||0===t.length)D(e,a,0,a.length,o,n,r);else if(null==a||0===a.length)I(e,t,0,t.length);else{var i=null!=t[0]&&null!=t[0].key,d=null!=a[0]&&null!=a[0].key,s=0,c=0;if(!i)for(;c<t.length&&null==t[c];)c++;if(!d)for(;s<a.length&&null==a[s];)s++;if(i!=d)I(e,t,c,t.length),D(e,a,s,a.length,o,n,r);else if(d){for(var l,u,m,p,b=t.length-1,f=a.length-1;c<=b&&s<=f&&(m=t[b],E=a[f],m.key===E.key);)m!==E&&V(e,m,E,o,n,r),null!=E.dom&&(n=E.dom),b--,f--;for(;c<=b&&s<=f&&(l=t[c],u=a[s],l.key===u.key);)c++,s++,l!==u&&V(e,l,u,o,A(t,c,n),r);for(;c<=b&&s<=f&&s!==f&&l.key===E.key&&m.key===u.key;)S(e,m,p=A(t,c,n)),m!==u&&V(e,m,u,o,p,r),++s<=--f&&S(e,l,n),l!==E&&V(e,l,E,o,n,r),null!=E.dom&&(n=E.dom),m=t[--b],E=a[f],l=t[++c],u=a[s];for(;c<=b&&s<=f&&m.key===E.key;)m!==E&&V(e,m,E,o,n,r),null!=E.dom&&(n=E.dom),m=t[--b],E=a[--f];if(f<s)I(e,t,c,b+1);else if(b<c)D(e,a,s,f+1,o,n,r);else{for(var h,g,i=n,v=f-s+1,x=new Array(v),_=0,y=0,w=2147483647,M=0,y=0;y<v;y++)x[y]=-1;for(y=f;s<=y;y--){var E,P=(h=null==h?function(e,t,a){for(var o=Object.create(null);t<a;t++){var n=e[t];null==n||null!=(n=n.key)&&(o[n]=t)}return o}(t,c,b+1):h)[(E=a[y]).key];null!=P&&(w=P<w?P:-1,m=t[x[y-s]=P],t[P]=null,m!==E&&V(e,m,E,o,n,r),null!=E.dom&&(n=E.dom),M++)}if(n=i,M!==b-c+1&&I(e,t,c,b+1),0===M)D(e,a,s,f+1,o,n,r);else if(-1===w)for(_=(g=function(e){for(var t=[0],a=0,o=0,n=0,r=T.length=e.length,n=0;n<r;n++)T[n]=e[n];for(n=0;n<r;++n)if(-1!==e[n]){var i=t[t.length-1];if(e[i]<e[n])T[n]=i,t.push(n);else{for(a=0,o=t.length-1;a<o;){var d=(a>>>1)+(o>>>1)+(a&o&1);e[t[d]]<e[n]?a=1+d:o=d}e[n]<e[t[a]]&&(0<a&&(T[n]=t[a-1]),t[a]=n)}}a=t.length,o=t[a-1];for(;0<a--;)t[a]=o,o=T[o];return T.length=0,t}(x)).length-1,y=f;s<=y;y--)u=a[y],-1===x[y-s]?U(e,u,o,r,n):g[_]===y-s?_--:S(e,u,n),null!=u.dom&&(n=a[y].dom);else for(y=f;s<=y;y--)u=a[y],-1===x[y-s]&&U(e,u,o,r,n),null!=u.dom&&(n=a[y].dom)}}else{for(var k=(t.length<a.length?t:a).length,s=s<c?s:c;s<k;s++)(l=t[s])===(u=a[s])||null==l&&null==u||(null==l?U(e,u,o,r,A(t,s+1,n)):null==u?z(e,l):V(e,l,u,o,A(t,s+1,n),r));t.length>k&&I(e,t,s,t.length),a.length>k&&D(e,a,s,a.length,o,n,r)}}}function V(e,t,a,o,n,r){var i=t.tag;if(i===a.tag){if(a.state=t.state,a.events=t.events,!function(e,t){do{var a;if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate)if(void 0!==(a=Y.call(e.attrs.onbeforeupdate,e,t))&&!a)break;if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate)if(void 0!==(a=Y.call(e.state.onbeforeupdate,e,t))&&!a)break;return}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,1}(a,t))if("string"==typeof i)switch(null!=a.attrs&&Q(a.attrs,a,o),i){case"#":var d=t,s=a;d.children.toString()!==s.children.toString()&&(d.dom.nodeValue=s.children),s.dom=d.dom;break;case"<":s=e,d=a,l=r,u=n,(m=t).children!==d.children?(q(s,m),$(s,d,l,u)):(d.dom=m.dom,d.domSize=m.domSize,d.instance=m.instance);break;case"[":var c=a,l=o,u=n,m=r,p=(B(e,t.children,c.children,l,u,m),0),b=c.children;if((c.dom=null)!=b){for(var f=0;f<b.length;f++){var h=b[f];null!=h&&null!=h.dom&&(null==c.dom&&(c.dom=h.dom),p+=h.domSize||1)}1!==p&&(c.domSize=p)}break;default:var g,v=t,x=a,_=o,y=r,F=x.dom=v.dom,w=(y=H(x)||y,"textarea"!==x.tag||null==x.attrs&&(x.attrs={}),x),M=v.attrs,E=x.attrs,P=y;if(M&&M===E&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),null!=E){"input"===w.tag&&null!=E.type&&w.dom.setAttribute("type",E.type);var O="input"===w.tag&&"file"===E.type;for(k in E)X(w,k,M&&M[k],E[k],P,O)}if(null!=M)for(var k in M)if(null!=(g=M[k])&&(null==E||null==E[k])){D=void 0;T=void 0;A=void 0;S=void 0;S=void 0;var D=w;var T=k;var A=g;var S=P;"key"===T||"is"===T||null==A||G(T)||("o"===T[0]&&"n"===T[1]?W(D,T,void 0):"style"===T?Z(D.dom,A,null):!K(D,T,S)||"className"===T||"title"===T||"value"===T&&("option"===D.tag||"select"===D.tag&&-1===D.dom.selectedIndex&&D.dom===j())||"input"===D.tag&&"type"===T?(-1!==(S=T.indexOf(":"))&&(T=T.slice(S+1)),!1!==A&&D.dom.removeAttribute("className"===T?"class":T)):D.dom[T]=null)}J(x)||B(F,v.children,x.children,_,null,y)}else{var i=e,C=t,I=a,N=o,L=n,R=r;if(I.instance=ee.normalize(Y.call(I.state.view,I)),I.instance===I)throw Error("A view cannot return the vnode it received as argument");Q(I.state,I,N),null!=I.attrs&&Q(I.attrs,I,N),null!=I.instance?(null==C.instance?U(i,I.instance,N,R,L):V(i,C.instance,I.instance,N,L,R),I.dom=I.instance.dom,I.domSize=I.instance.domSize):null!=C.instance?(z(i,C.instance),I.dom=void 0,I.domSize=0):(I.dom=C.dom,I.domSize=C.domSize)}}else z(e,t),U(e,a,o,r,n)}var T=[];function A(e,t,a){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return a}function S(e,t,a){var o=k.createDocumentFragment();!function e(t,a,o){for(;null!=o.dom&&o.dom.parentNode===t;){if("string"!=typeof o.tag){if(null!=(o=o.instance))continue}else if("<"===o.tag)for(var n=0;n<o.instance.length;n++)a.appendChild(o.instance[n]);else if("["!==o.tag)a.appendChild(o.dom);else if(1===o.children.length){if(null!=(o=o.children[0]))continue}else for(n=0;n<o.children.length;n++){var r=o.children[n];null!=r&&e(t,a,r)}break}}(e,o,t),C(e,o,a)}function C(e,t,a){null!=a?e.insertBefore(t,a):e.appendChild(t)}function J(e){if(null!=e.attrs&&(null!=e.attrs.contenteditable||null!=e.attrs.contentEditable)){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var a=t[0].children;e.dom.innerHTML!==a&&(e.dom.innerHTML=a)}else if(null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted.");return 1}}function I(e,t,a,o){for(var n=a;n<o;n++){var r=t[n];null!=r&&z(e,r)}}function z(e,t){var a,o,n,r,i=0,d=t.state;function s(){l(t,d),m(t),u(e,t)}"string"!=typeof t.tag&&"function"==typeof t.state.onbeforeremove&&null!=(n=Y.call(t.state.onbeforeremove,t))&&"function"==typeof n.then&&(i=1,a=n),t.attrs&&"function"==typeof t.attrs.onbeforeremove&&null!=(n=Y.call(t.attrs.onbeforeremove,t))&&"function"==typeof n.then&&(i|=2,o=n),l(t,d),i?(null!=a&&a.then(r=function(){1&i&&((i&=2)||s())},r),null!=o&&o.then(r=function(){2&i&&((i&=1)||s())},r)):(m(t),u(e,t))}function q(e,t){for(var a=0;a<t.instance.length;a++)e.removeChild(t.instance[a])}function u(e,t){for(;null!=t.dom&&t.dom.parentNode===e;){if("string"!=typeof t.tag){if(null!=(t=t.instance))continue}else if("<"===t.tag)q(e,t);else{if("["!==t.tag&&(e.removeChild(t.dom),!Array.isArray(t.children)))break;if(1===t.children.length){if(null!=(t=t.children[0]))continue}else for(var a=0;a<t.children.length;a++){var o=t.children[a];null!=o&&u(e,o)}}break}}function m(e){if("string"!=typeof e.tag&&"function"==typeof e.state.onremove&&Y.call(e.state.onremove,e),e.attrs&&"function"==typeof e.attrs.onremove&&Y.call(e.attrs.onremove,e),"string"!=typeof e.tag)null!=e.instance&&m(e.instance);else{var t=e.children;if(Array.isArray(t))for(var a=0;a<t.length;a++){var o=t[a];null!=o&&m(o)}}}function X(e,t,a,o,n,r){if("key"!==t&&"is"!==t&&null!=o&&!G(t)&&(a!==o||(i=e,"value"===(d=t)||"checked"===d||"selectedIndex"===d||"selected"===d&&i.dom===j()||"option"===i.tag&&i.dom.parentNode===k.activeElement)||"object"===b(o))&&("type"!==t||"input"!==e.tag)){var i,d;if("o"===t[0]&&"n"===t[1])return W(e,t,o);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),o);else if("style"===t)Z(e.dom,a,o);else if(K(e,t,n)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+o&&(r||e.dom===j()))return;if("select"===e.tag&&null!==a&&e.dom.value===""+o)return;if("option"===e.tag&&null!==a&&e.dom.value===""+o)return;if(r&&""+o!="")return void console.error("`value` is read-only on file inputs!")}e.dom[t]=o}else"boolean"==typeof o?o?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,o)}}function G(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function K(e,t,a){return void 0===a&&(-1<e.tag.indexOf("-")||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var p,a=/[A-Z]/g;function o(e){return"-"+e.toLowerCase()}function r(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(a,o)}function Z(e,t,a){if(t!==a)if(null==a)e.style.cssText="";else if("object"!==b(a))e.style.cssText=a;else if(null==t||"object"!==b(t))for(var o in e.style.cssText="",a)null!=(n=a[o])&&e.style.setProperty(r(o),String(n));else{for(var o in a){var n;null!=(n=a[o])&&(n=String(n))!==String(t[o])&&e.style.setProperty(r(o),n)}for(var o in t)null!=t[o]&&null==a[o]&&e.style.removeProperty(r(o))}}function n(){this._=c}function W(e,t,a){null!=e.events?(e.events._=c,e.events[t]!==a&&(null==a||"function"!=typeof a&&"object"!==b(a)?(null!=e.events[t]&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0):(null==e.events[t]&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=a))):null==a||"function"!=typeof a&&"object"!==b(a)||(e.events=new n,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=a)}function N(e,t,a){"function"==typeof e.oninit&&Y.call(e.oninit,t),"function"==typeof e.oncreate&&a.push(Y.bind(e.oncreate,t))}function Q(e,t,a){"function"==typeof e.onupdate&&a.push(Y.bind(e.onupdate,t))}return(n.prototype=Object.create(null)).handleEvent=function(e){var t,a=this["on"+e.type];"function"==typeof a?t=a.call(e.currentTarget,e):"function"==typeof a.handleEvent&&a.handleEvent(e),this._&&!1!==e.redraw&&(0,this._)(),!1===t&&(e.preventDefault(),e.stopPropagation())},function(e,t,a){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(null!=p&&e.contains(p))throw new TypeError("Node is currently being rendered to and thus is locked.");var o=c,n=p,r=[],i=j(),d=e.namespaceURI;p=e,c="function"==typeof a?a:void 0;try{null==e.vnodes&&(e.textContent=""),t=ee.normalizeChildren(Array.isArray(t)?t:[t]),B(e,e.vnodes,t,r,null,"http://www.w3.org/1999/xhtml"===d?void 0:d),e.vnodes=t,null!=i&&j()!==i&&"function"==typeof i.focus&&i.focus();for(var s=0;s<r.length;s++)r[s]()}finally{c=o,p=n}}}},158:function(e,t,a){"use strict";var o=a(300);e.exports=function(e){return o("<",void 0,void 0,e=null==e?"":e,void 0,void 0)}},300:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,a,o,n,r){return{tag:e,key:t,attrs:a,children:o,text:n,dom:r,domSize:void 0,state:void 0,events:void 0,instance:void 0}}n.normalize=function(e){return Array.isArray(e)?n("[",void 0,void 0,n.normalizeChildren(e),void 0,void 0):null==e||"boolean"==typeof e?null:"object"===t(e)?e:n("#",void 0,void 0,String(e),void 0,void 0)},n.normalizeChildren=function(e){var t=[];if(e.length){for(var a=null!=e[0]&&null!=e[0].key,o=1;o<e.length;o++)if((null!=e[o]&&null!=e[o].key)!=a)throw new TypeError(!a||null==e[o]&&"boolean"!=typeof e[o]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(o=0;o<e.length;o++)t[o]=n.normalize(e[o])}return t},e.exports=n},924:function(e,t,a){"use strict";var o=a(64),n=a(945);e.exports=a(423)("undefined"!=typeof window?window:null,o,n.redraw)},423:function(e,t,a){"use strict";var c=a(50),g=a(554);e.exports=function(f,a,d){var i=0;function s(e){return new a(e)}function e(i){return function(t,o){"string"!=typeof t?t=(o=t).url:null==o&&(o={});var e=new a(function(a,e){i(c(t,o.params),o,function(e){if("function"==typeof o.type)if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t]=new o.type(e[t]);else e=new o.type(e);a(e)},e)});if(!0===o.background)return e;var n=0;function r(){0==--n&&"function"==typeof d&&d()}return function t(a){var o=a.then;a.constructor=s;a.then=function(){n++;var e=o.apply(a,arguments);return e.then(r,function(e){if(r(),0===n)throw e}),t(e)};return a}(e)}}function h(e,t){for(var a in e.headers)if(g.call(e.headers,a)&&a.toLowerCase()===t)return 1}return s.prototype=a.prototype,s.__proto__=a,{request:e(function(r,i,d,s){var e,t,a=null!=i.method?i.method.toUpperCase():"GET",o=i.body,n=(null==i.serialize||i.serialize===JSON.serialize)&&!(o instanceof f.FormData||o instanceof f.URLSearchParams),c=i.responseType||("function"==typeof i.extract?"":"json"),l=new f.XMLHttpRequest,u=!1,m=!1,p=l,b=l.abort;for(t in l.abort=function(){u=!0,b.call(this)},l.open(a,r,!1!==i.async,"string"==typeof i.user?i.user:void 0,"string"==typeof i.password?i.password:void 0),n&&null!=o&&!h(i,"content-type")&&l.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof i.deserialize||h(i,"accept")||l.setRequestHeader("Accept","application/json, text/*"),i.withCredentials&&(l.withCredentials=i.withCredentials),i.timeout&&(l.timeout=i.timeout),l.responseType=c,i.headers)g.call(i.headers,t)&&l.setRequestHeader(t,i.headers[t]);l.onreadystatechange=function(t){if(!u&&4===t.target.readyState)try{var a,e,o=200<=t.target.status&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(r),n=t.target.response;if("json"===c){if(!t.target.responseType&&"function"!=typeof i.extract)try{n=JSON.parse(t.target.responseText)}catch(e){n=null}}else c&&"text"!==c||null==n&&(n=t.target.responseText);"function"==typeof i.extract?(n=i.extract(t.target,i),o=!0):"function"==typeof i.deserialize&&(n=i.deserialize(n)),o?d(n):(e=function(){try{a=t.target.responseText}catch(e){a=n}var e=new Error(a);e.code=t.target.status,e.response=n,s(e)},0===l.status?setTimeout(function(){m||e()}):e())}catch(e){s(e)}},l.ontimeout=function(e){m=!0;var t=new Error("Request timed out");t.code=e.target.status,s(t)},"function"==typeof i.config&&(l=i.config(l,i,r)||l)!==p&&(e=l.abort,l.abort=function(){u=!0,e.call(this)}),null==o?l.send():"function"==typeof i.serialize?l.send(i.serialize(o)):o instanceof f.FormData||o instanceof f.URLSearchParams?l.send(o):l.send(JSON.stringify(o))}),jsonp:e(function(e,t,a,o){var n=t.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+i++,r=f.document.createElement("script");f[n]=function(e){delete f[n],r.parentNode.removeChild(r),a(e)},r.onerror=function(){delete f[n],r.parentNode.removeChild(r),o(new Error("JSONP request failed"))},r.src=e+(e.indexOf("?")<0?"?":"&")+encodeURIComponent(t.callbackKey||"callback")+"="+encodeURIComponent(n),f.document.documentElement.appendChild(r)})}}},208:function(e,t,a){"use strict";var o=a(945);e.exports=a(741)("undefined"!=typeof window?window:null,o)},319:function(e,t,a){"use strict";var o=a(554);e.exports=Object.assign||function(e,t){for(var a in t)o.call(t,a)&&(e[a]=t[a])}},195:function(e,t,a){"use strict";var n=a(554),r=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");e.exports=function(e,t){var a={};if(null!=t)for(var o in e)n.call(e,o)&&!r.test(o)&&t.indexOf(o)<0&&(a[o]=e[o]);else for(var o in e)n.call(e,o)&&!r.test(o)&&(a[o]=e[o]);return a}},554:function(e){"use strict";e.exports={}.hasOwnProperty},480:function(){}},o={};function Mr(e){var t=o[e];if(void 0!==t)return t.exports;t=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(t.exports,t,t.exports,Mr),t.loaded=!0,t.exports}Mr.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Mr.d(t,{a:t}),t},Mr.d=function(e,t){for(var a in t)Mr.o(t,a)&&!Mr.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},Mr.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),Mr.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Mr.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};!function(){"use strict";var F=Mr(360),i=Mr.n(F),O={httpError:"Error en petición HTTP. [HTTP ERROR] Comunícate son soporte."},F=Mr(344),H=Mr.n(F),F=Mr(623),Y=Mr.n(F),F=Mr(788),j=Mr.n(F),U={oninit:function(){H().config.encrypt=!0,H().config.secret="v4.Metrovirtual",H().config.encrypter=function(e,t){return j().encrypt(JSON.stringify(e),t).toString()},H().config.decrypter=function(t,e){try{return JSON.parse(j().decrypt(t,e).toString(Y()))}catch(e){return t}}},setDataNotificaciones:function(e){return U.oninit(),H().set("updatesNotificaciones",e)},getDataNotificaciones:function(){return U.oninit(),H().get("updatesNotificaciones")},setData:function(e){return U.oninit(),H().set("updates",e)},setDataUser:function(e){return U.oninit(),H().set("dataUser",e)},getData:function(e){return U.oninit(),H().get("updates")},getDataUser:function(e){return U.oninit(),H().get("dataUser")}},B=U,t={user:[],rol:null,labelRol:null,modulesAccess:[],username:"",password:"",messageError:"",statusHide:" d-none",statusError:"warning",imputDisabled:!1,setUsername:function(e){t.username=e},setPassword:function(e){t.password=e},canSubmit:function(){return""!==t.username&&""!==t.password},setError:function(e){t.statusHide="",t.statusError="danger",t.messageError=e},setSuccess:function(e){t.statusHide="",t.statusError="success",t.messageError=e},setProcess:function(){t.statusHide="",t.statusError="warning",t.messageError="Procesando..."},login:function(){return t.imputDisabled=!0,t.setProcess(),i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/auth",body:{user:t.username,pass:t.password}}).then(function(e){e.status?(window.localStorage.accessToken=e.jwt,t.user=e.data.user,t.rol=e.data.rol,t.user.rol=t.rol,t.modulesAccess=e.data.modulesAccess,B.setDataUser({user:t.user,modulesAccess:t.modulesAccess}),t.setSuccess("¡Bienvenido!"),setTimeout(function(){t.imputDisabled=!1,t.statusHide="d-none",t.statusError="warning",t.messageError="",t.username="",t.password="",i().route.set("/inicio")},900)):(t.imputDisabled=!1,t.statusHide="d-none",t.statusError="warning",t.messageError="",t.setError(e.message))}).catch(function(e){t.imputDisabled=!1,t.statusHide="d-none",t.statusError="warning",t.messageError="",t.username="",t.password="",t.setError(O.httpError)})},isLogin:function(){return!(void 0===window.localStorage.getItem("accessToken")||!window.localStorage.getItem("accessToken"))}},V=t,J=Mr(360),z={view:function(){return[J("div.text-center.mg-t-300",J(".spinner-grow.text-dark[role='status']",J("span.sr-only","Cargando...")))]}},q=Mr(360),X={title:"MetroPlus v1.0.0",oninit:function(){document.title="Cargando..."},oncreate:function(){document.title="Bienvenido | "+X.title},isShow:function(){var o,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=B.getDataUser();return V.user=t.user,V.rol=t.user.rol,V.modulesAccess=t.modulesAccess,0===n||(o=0,V.modulesAccess[e].map(function(e,t,a){e.idModulo==n&&o++}),0!=o)},isAuth:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!V.isLogin())return q.route.set("/auth");var n,t=B.getDataUser();V.user=t.user,V.rol=t.user.rol,V.modulesAccess=t.modulesAccess,0!==o&&(n=0,V.modulesAccess[e].map(function(e,t,a){e.idModulo==o&&n++}),0==n&&q.route.set("/inicio"))},view:function(){return[q(z),setTimeout(function(){X.isAuth(),q.route.set("/inicio")},300)]}},d=X,F={oncreate:function(e){},view:function(e){window.location.href="http://172.16.253.18/report-executor/mvreport?name=USR_VALIDACION_EMERGENCIA&cdMultiEmpresa=1&V_ATENCION="+e.attrs.idAtencion}},G=Mr(360),K={oncreate:function(){return window.localStorage.removeItem("accessToken"),G.route.set("/auth")},view:function(){}},Z=Mr(360),W={view:function(){return[Z("header.navbar.navbar-header.navbar-header-fixed",[Z("div.navbar-brand",Z(Z.route.Link,{href:"/",class:"df-logo"},["Metro",Z("span","Plus+")]))])]}},e=Mr(360),Q={view:function(){return[e("div.content.content-fixed.content-auth",e("div.container",e("div.media.align-items-stretch.justify-content-center.ht-100p.pos-relative",[e("div.mg-t-55.pd-50.media-body.align-items-center.d-none.d-lg-flex",[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2 "},e("i",{class:"fas fa-first-aid tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-pills tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-file-prescription tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-microscope  tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-procedures   tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-h-square tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-user-md tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-heartbeat      tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-notes-medical      tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-hospital tx-30 tx-white"}))]),e("div.sign-wrapper.mg-lg-l-50.mg-xl-l-60",e("div.wd-100p",[e("h3.tx-color-01.mg-b-5.mg-t-20","Entrar"),e("p.tx-color-03.tx-16.mg-b-40","¡Bienvenido! Por favor, inicie sesión para continuar."),e(".tx-semibold.alert.alert-solid.alert-"+V.statusError+"."+V.statusHide+"[role='alert']",V.messageError),e("div.form-group",[e("label","Usuario:"),e("input.form-control[type='text'][placeholder='mpaez']",{oninput:function(e){V.setUsername(e.target.value)},value:V.username})]),e("div.form-group",[e("div.d-flex.justify-content-between.mg-b-5",[e("label.mg-b-0-f","Contraseña:")]),e("input.form-control[type='password'][placeholder='Contraseña']",{oninput:function(e){V.setPassword(e.target.value)},value:V.password})]),e("button.btn.btn-brand-02.btn-block "+V.buttonDisabled,{disabled:!V.canSubmit(),onclick:V.login},"Entrar"),e("div.text-center.tx-gray-500.mg-t-20","MetroPlus Beta v1.0.0"),e("div.text-center.tx-gray-500","Created by Hospital Metropolitano"),e("div.ht-80")]))])))]}};var ee={oninit:function(){if(V.isLogin())return i().route.set("/inicio")},oncreate:function(){document.title="Entrar | "+d.title,document.onkeypress=function(e){"13"==((e=e||window.event).keyCode||e.which)&&V.canSubmit()&&$("button").click()}},view:function(){return[i()(W),i()(Q)]}};function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ae=function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}};var oe=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)};var ne=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var re=function(e){return ae(e)||oe(e)||ne()};(function(t){r=t.exports,t=Object.prototype,c=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",a=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag",r.wrap=f,l="suspendedStart",u="suspendedYield",m="executing",p="completed",b={},(e={})[o]=function(){return this},(i=(i=Object.getPrototypeOf)&&i(i(P([]))))&&i!==t&&c.call(i,o)&&(e=i),d=x.prototype=g.prototype=Object.create(e),(v.prototype=d.constructor=x).constructor=v,x[n]=v.displayName="GeneratorFunction",r.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,n in e||(e[n]="GeneratorFunction")),e.prototype=Object.create(d),e},r.awrap=function(e){return{__await:e}},_(y.prototype),y.prototype[a]=function(){return this},r.AsyncIterator=y,r.async=function(e,t,a,o){var n=new y(f(e,t,a,o));return r.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},_(d),d[n]="Generator",d[o]=function(){return this},d.toString=function(){return"[object Generator]"},r.keys=function(a){var e,o=[];for(e in a)o.push(e);return o.reverse(),function e(){for(;o.length;){var t=o.pop();if(t in a)return e.value=t,e.done=!1,e}return e.done=!0,e}},r.values=P,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var o=this;function e(e,t){return r.type="throw",r.arg=a,o.next=e,t&&(o.method="next",o.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t],r=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var i=c.call(n,"catchLoc"),d=c.call(n,"finallyLoc");if(i&&d){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&c.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}var r=(n=n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc?null:n)?n.completion:{};return r.type=e,r.arg=t,n?(this.method="next",this.next=n.finallyLoc,b):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),M(a),b}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a,o,n=this.tryEntries[t];if(n.tryLoc===e)return"throw"===(a=n.completion).type&&(o=a.arg,M(n)),o}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:P(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=s),b}};var r,s,c,e,o,a,n,l,u,m,p,b,i,d,t=r;function f(e,t,a,o){var n,r,i,d,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype),o=new E(o||[]);return t._invoke=(n=e,r=a,i=o,d=l,function(e,t){if(d===m)throw new Error("Generator is already running");if(d===p){if("throw"===e)throw t;return k()}for(i.method=e,i.arg=t;;){var a=i.delegate;if(a){a=function e(t,a){var o=t.iterator[a.method];if(o===s){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=s,e(t,a),"throw"===a.method))return b;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}o=h(o,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,b;o=o.arg;if(!o)return a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b;{if(!o.done)return o;a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=s)}a.delegate=null;return b}(a,i);if(a){if(a===b)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(d===l)throw d=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);d=m;a=h(n,r,i);if("normal"===a.type){if(d=i.done?p:u,a.arg!==b)return{value:a.arg,done:i.done}}else"throw"===a.type&&(d=p,i.method="throw",i.arg=a.arg)}}),t}function h(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}function g(){}function v(){}function x(){}function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function y(i){var t;this._invoke=function(a,o){function e(){return new Promise(function(e,t){!function t(e,a,o,n){var r,e=h(i[e],i,a);if("throw"!==e.type)return(a=(r=e.arg).value)&&"object"===te(a)&&c.call(a,"__await")?Promise.resolve(a.__await).then(function(e){t("next",e,o,n)},function(e){t("throw",e,o,n)}):Promise.resolve(a).then(function(e){r.value=e,o(r)},function(e){return t("throw",e,o,n)});n(e.arg)}(a,o,e,t)})}return t=t?t.then(e,e):e()}}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(t){if(t){var a,e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return a=-1,(e=function e(){for(;++a<t.length;)if(c.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=s,e.done=!0,e}).next=e}return{next:k}}function k(){return{value:s,done:!0}}try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})(Oe={exports:{}});var M=Oe.exports;function ie(e,t,a,o,n,r,i){try{var d=e[r](i),s=d.value}catch(e){return void a(e)}d.done?t(s):Promise.resolve(s).then(o,n)}var de=function(d){return function(){var e=this,i=arguments;return new Promise(function(t,a){var o=d.apply(e,i);function n(e){ie(o,t,a,n,r,"next",e)}function r(e){ie(o,t,a,n,r,"throw",e)}n(void 0)})}};var se=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function ce(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var le=function(e,t,a){return t&&ce(e.prototype,t),a&&ce(e,a),e};var ue=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e};var me=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);(o="function"==typeof Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})):o).forEach(function(e){ue(t,e,a[e])})}return t};function pe(e){var t=e.method,a=e.path,o=e.body,o=void 0===o?null:o,n=e.headers,n=void 0===n?{}:n,e=e.credentials,t={method:t,headers:n,credentials:void 0===e?"same-origin":e};return null!==o&&(t.body=JSON.stringify(o),t.headers=me({"Content-Type":"application/json"},n)),fetch(a,t).then(function(){var t=de(M.mark(function e(t){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=3;break}return e.next=3,function(){return be.apply(this,arguments)}(t);case 3:return e.prev=3,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[3,9]])}));return function(e){return t.apply(this,arguments)}}())}function be(){return(be=de(M.mark(function e(t){var a,o;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:o=e.sent,a=o.error,a=void 0===a?"Unknown error":a,o=o.description,o=void 0===o?"No description":o,a="Unexpected status code ".concat(t.status,": ").concat(a,", ").concat(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a="Unexpected status code ".concat(t.status,": Cannot parse error response");case 14:throw new Error(a);case 15:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}var fe=function(){function t(e){se(this,t),this._instanceId=e,this._dbConn=null}var a,o;return le(t,[{key:"connect",value:function(){var o=this;return new Promise(function(t,a){var e=indexedDB.open(o._dbName);e.onsuccess=function(e){e=e.target.result;o._dbConn=e,o._readState().then(function(e){return null===e?o.clear():Promise.resolve()}).then(t)},e.onupgradeneeded=function(e){e.target.result.createObjectStore("beams",{keyPath:"instance_id"})},e.onerror=function(e){e=new Error("Database error: ".concat(e.target.error));a(e)}})}},{key:"clear",value:function(){return this._writeState({instance_id:this._instanceId,device_id:null,token:null,user_id:null})}},{key:"_readState",value:function(){var o=this;if(this.isConnected)return new Promise(function(t,a){var e=o._dbConn.transaction("beams").objectStore("beams").get(o._instanceId);e.onsuccess=function(e){e=e.target.result;e||t(null),t(e)},e.onerror=function(e){a(e.target.error)}});throw new Error("Cannot read value: DeviceStateStore not connected to IndexedDB")}},{key:"_readProperty",value:(o=de(M.mark(function e(t){var a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readState();case 2:if(null===(a=e.sent))return e.abrupt("return",null);e.next=5;break;case 5:return e.abrupt("return",a[t]||null);case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"_writeState",value:function(o){var n=this;if(this.isConnected)return new Promise(function(t,a){var e=n._dbConn.transaction("beams","readwrite").objectStore("beams").put(o);e.onsuccess=function(e){t()},e.onerror=function(e){a(e.target.error)}});throw new Error("Cannot write value: DeviceStateStore not connected to IndexedDB")}},{key:"_writeProperty",value:(a=de(M.mark(function e(t,a){var o;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readState();case 2:return(o=e.sent)[t]=a,e.next=6,this._writeState(o);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"getToken",value:function(){return this._readProperty("token")}},{key:"setToken",value:function(e){return this._writeProperty("token",e)}},{key:"getDeviceId",value:function(){return this._readProperty("device_id")}},{key:"setDeviceId",value:function(e){return this._writeProperty("device_id",e)}},{key:"getUserId",value:function(){return this._readProperty("user_id")}},{key:"setUserId",value:function(e){return this._writeProperty("user_id",e)}},{key:"getLastSeenSdkVersion",value:function(){return this._readProperty("last_seen_sdk_version")}},{key:"setLastSeenSdkVersion",value:function(e){return this._writeProperty("last_seen_sdk_version",e)}},{key:"getLastSeenUserAgent",value:function(){return this._readProperty("last_seen_user_agent")}},{key:"setLastSeenUserAgent",value:function(e){return this._writeProperty("last_seen_user_agent",e)}},{key:"_dbName",get:function(){return"beams-".concat(this._instanceId)}},{key:"isConnected",get:function(){return null!==this._dbConn}}]),t}(),he="1.1.0",ge=new RegExp("^(_|\\-|=|@|,|\\.|;|[A-Z]|[a-z]|[0-9])*$"),ve="/service-worker.js?pusherBeamsWebSDKVersion=".concat(he),xe=Object.freeze({PERMISSION_PROMPT_REQUIRED:"PERMISSION_PROMPT_REQUIRED",PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS",PERMISSION_GRANTED_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_REGISTERED_WITH_BEAMS",PERMISSION_DENIED:"PERMISSION_DENIED"}),_e=function(){function n(e){if(se(this,n),!e)throw new Error("Config object required");var t=e.instanceId,a=e.endpointOverride,a=void 0===a?null:a,e=e.serviceWorkerRegistration,e=void 0===e?null:e;if(void 0===t)throw new Error("Instance ID is required");if("string"!=typeof t)throw new Error("Instance ID must be a string");if(0===t.length)throw new Error("Instance ID cannot be empty");if(!("indexedDB"in window))throw new Error("Pusher Beams does not support this browser version (IndexedDB not supported)");if(!window.isSecureContext)throw new Error("Pusher Beams relies on Service Workers, which only work in secure contexts. Check that your page is being served from localhost/over HTTPS");if(!("serviceWorker"in navigator))throw new Error("Pusher Beams does not support this browser version (Service Workers not supported)");if(!("PushManager"in window))throw new Error("Pusher Beams does not support this browser version (Web Push not supported)");if(e){var o=e.scope;if(!window.location.href.startsWith(o))throw new Error("Could not initialize Pusher web push: current page not in serviceWorkerRegistration scope (".concat(o,")"))}this.instanceId=t,this._deviceId=null,this._token=null,this._userId=null,this._serviceWorkerRegistration=e,this._deviceStateStore=new fe(t),this._endpoint=a,this._ready=this._init()}var e,t,a,o,r,i,d,s,c,l,u,m,p,b,f,h,g,v,x,_,y,w;return le(n,[{key:"_init",value:(w=de(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._deviceId)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,this._deviceStateStore.connect();case 4:if(this._serviceWorkerRegistration)return e.next=7,window.navigator.serviceWorker.ready;e.next=9;break;case 7:e.next=12;break;case 9:return e.next=11,function(){return we.apply(this,arguments)}();case 11:this._serviceWorkerRegistration=e.sent;case 12:return e.next=14,this._detectSubscriptionChange();case 14:return e.next=16,this._deviceStateStore.getDeviceId();case 16:return this._deviceId=e.sent,e.next=19,this._deviceStateStore.getToken();case 19:return this._token=e.sent,e.next=22,this._deviceStateStore.getUserId();case 22:this._userId=e.sent;case 23:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"_resolveSDKState",value:(y=de(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.next=4,this._detectSubscriptionChange();case 4:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"_detectSubscriptionChange",value:(_=de(M.mark(function e(){var t,a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._deviceStateStore.getToken();case 2:return t=e.sent,e.next=5,this._serviceWorkerRegistration.pushManager.getSubscription().then(function(e){return e?btoa(JSON.stringify(e)):null});case 5:if(a=e.sent,t!==a)return e.next=10,this._deviceStateStore.clear();e.next=13;break;case 10:this._deviceId=null,this._token=null,this._userId=null;case 13:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"getDeviceId",value:(x=de(M.mark(function e(){var t=this;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._deviceId}));case 3:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"getToken",value:(v=de(M.mark(function e(){var t=this;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._token}));case 3:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getUserId",value:(g=de(M.mark(function e(){var t=this;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._userId}));case 3:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"_throwIfNotStarted",value:function(e){if(!this._deviceId)throw new Error("".concat(e,". SDK not registered with Beams. Did you call .start?"))}},{key:"start",value:(h=de(M.mark(function e(){var t,a,o;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(Me()){e.next=4;break}return e.abrupt("return",this);case 4:if(null!==this._deviceId)return e.abrupt("return",this);e.next=6;break;case 6:return e.next=8,this._getPublicKey();case 8:return t=e.sent,t=t.vapidPublicKey,e.next=12,this._getPushToken(t);case 12:return a=e.sent,e.next=15,this._registerDevice(a);case 15:return o=e.sent,e.next=18,this._deviceStateStore.setToken(a);case 18:return e.next=20,this._deviceStateStore.setDeviceId(o);case 20:return e.next=22,this._deviceStateStore.setLastSeenSdkVersion(he);case 22:return e.next=24,this._deviceStateStore.setLastSeenUserAgent(window.navigator.userAgent);case 24:return this._token=a,this._deviceId=o,e.abrupt("return",this);case 27:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"getRegistrationState",value:(f=de(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if("denied"===Notification.permission)return e.abrupt("return",xe.PERMISSION_DENIED);e.next=4;break;case 4:if("granted"===Notification.permission&&null!==this._deviceId)return e.abrupt("return",xe.PERMISSION_GRANTED_REGISTERED_WITH_BEAMS);e.next=6;break;case 6:if("granted"===Notification.permission&&null===this._deviceId)return e.abrupt("return",xe.PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS);e.next=8;break;case 8:return e.abrupt("return",xe.PERMISSION_PROMPT_REQUIRED);case 9:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"addDeviceInterest",value:(b=de(M.mark(function e(t){var a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not add Device Interest"),ye(t),a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(t)),a={method:"POST",path:a},e.next=8,pe(a);case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"removeDeviceInterest",value:(p=de(M.mark(function e(t){var a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not remove Device Interest"),ye(t),a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(t)),a={method:"DELETE",path:a},e.next=8,pe(a);case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getDeviceInterests",value:(m=de(M.mark(function e(){var t;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not get Device Interests"),t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),t={method:"GET",path:t},e.next=7,pe(t);case 7:if(e.t0=e.sent.interests,e.t0){e.next=10;break}e.t0=[];case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"setDeviceInterests",value:(u=de(M.mark(function e(t){var a,o,n,r,i,d,s;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(this._throwIfNotStarted("Could not set Device Interests"),null==t)throw new Error("interests argument is required");e.next=5;break;case 5:if(Array.isArray(t)){e.next=7;break}throw new Error("interests argument must be an array");case 7:if(5e3<t.length)throw new Error("Number of interests (".concat(t.length,") exceeds maximum of ").concat(5e3));e.next=9;break;case 9:for(o=!(a=!0),n=void 0,e.prev=12,r=t[Symbol.iterator]();!(a=(i=r.next()).done);a=!0)i=i.value,ye(i);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),o=!0,n=e.t0;case 20:e.prev=20,e.prev=21,a||null==r.return||r.return();case 23:if(e.prev=23,o)throw n;e.next=26;break;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return d=Array.from(new Set(t)),s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),s={method:"PUT",path:s,body:{interests:d}},e.next=33,pe(s);case 33:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])})),function(e){return u.apply(this,arguments)})},{key:"clearDeviceInterests",value:(l=de(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not clear Device Interests"),e.next=5,this.setDeviceInterests([]);case 5:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"setUserId",value:(c=de(M.mark(function e(t,a){var o,n,r;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(Me()){e.next=4;break}return e.abrupt("return");case 4:if(null===this._deviceId)return n=new Error(".start must be called before .setUserId"),e.abrupt("return",Promise.reject(n));e.next=7;break;case 7:if("string"!=typeof t)throw new Error("User ID must be a string (was ".concat(t,")"));e.next=9;break;case 9:if(""===t)throw new Error("User ID cannot be the empty string");e.next=11;break;case 11:if(null!==this._userId&&this._userId!==t)throw new Error("Changing the `userId` is not allowed.");e.next=13;break;case 13:return o="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/user"),e.next=16,a.fetchToken(t);case 16:return n=e.sent,r=n.token,r={method:"PUT",path:o,headers:{Authorization:"Bearer ".concat(r)}},e.next=21,pe(r);case 21:return this._userId=t,e.abrupt("return",this._deviceStateStore.setUserId(t));case 23:case"end":return e.stop()}},e,this)})),function(e,t){return c.apply(this,arguments)})},{key:"stop",value:(s=de(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(Me()){e.next=4;break}return e.abrupt("return");case 4:if(null===this._deviceId)return e.abrupt("return");e.next=6;break;case 6:return e.next=8,this._deleteDevice();case 8:return e.next=10,this._deviceStateStore.clear();case 10:this._clearPushToken().catch(function(){}),this._deviceId=null,this._token=null,this._userId=null;case 14:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"clearAllState",value:(d=de(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Me()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.stop();case 4:return e.next=6,this.start();case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"_getPublicKey",value:(i=de(M.mark(function e(){var t;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/web-vapid-public-key"),t={method:"GET",path:t},e.abrupt("return",pe(t));case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_getPushToken",value:(r=de(M.mark(function e(o){var n;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._clearPushToken();case 3:return e.next=5,this._serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(void 0,a=void 0,a="=".repeat((4-(t=o).length%4)%4),t=(t+a).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),Uint8Array.from(re(a).map(function(e){return e.charCodeAt(0)})))});case 5:return n=e.sent,e.abrupt("return",btoa(JSON.stringify(n)));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}var t,a},e,this,[[0,9]])})),function(e){return r.apply(this,arguments)})},{key:"_clearPushToken",value:(o=de(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){e&&e.unsubscribe()}));case 1:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"_registerDevice",value:(a=de(M.mark(function e(t){var a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web"),a={method:"POST",path:a,body:{token:t,metadata:{sdkVersion:he}}},e.next=5,pe(a);case 5:return a=e.sent,e.abrupt("return",a.id);case 7:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"_deleteDevice",value:(t=de(M.mark(function e(){var t;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(encodeURIComponent(this._deviceId)),t={method:"DELETE",path:t},e.next=4,pe(t);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_updateDeviceMetadata",value:(e=de(M.mark(function e(){var t,a,o,n;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.navigator.userAgent,e.next=3,this._deviceStateStore.getLastSeenUserAgent();case 3:return a=e.sent,e.next=6,this._deviceStateStore.getLastSeenSdkVersion();case 6:if(o=e.sent,t===a&&he===o)return e.abrupt("return");e.next=9;break;case 9:return o="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/metadata"),n={method:"PUT",path:o,body:{sdkVersion:he}},e.next=14,pe(n);case 14:return e.next=16,this._deviceStateStore.setLastSeenSdkVersion(he);case 16:return e.next=18,this._deviceStateStore.setLastSeenUserAgent(t);case 18:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_baseURL",get:function(){return null!==this._endpoint?this._endpoint:"https://".concat(this.instanceId,".pushnotifications.pusher.com")}}]),n}(),ye=function(e){if(null==e)throw new Error("Interest name is required");if("string"!=typeof e)throw new Error("Interest ".concat(e," is not a string"));if(!ge.test(e))throw new Error('interest "'.concat(e,'" contains a forbidden character. ')+"Allowed characters are: ASCII upper/lower-case letters, numbers or one of _-=@,.;");if(164<e.length)throw new Error("Interest is longer than the maximum of ".concat(164," chars"))};function we(){return(we=de(M.mark(function e(){var t;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ve);case 2:if(t=e.sent,200!==t.status)throw new Error("Cannot start SDK, service worker missing: No file found at /service-worker.js");e.next=6;break;case 6:return window.navigator.serviceWorker.register(ve,{updateViaCache:"none"}),e.abrupt("return",window.navigator.serviceWorker.ready);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Me(){var e=window.navigator,t=e.vendor,a=null!==window.chrome&&void 0!==window.chrome,o=-1<e.userAgent.indexOf("OPR"),n=-1<e.userAgent.indexOf("Edg"),e=-1<e.userAgent.indexOf("Firefox"),a=a&&"Google Inc."===t&&!n&&!o||o||e||n;return a||console.warn("Pusher Web Push Notifications supports Chrome, Firefox, Edge and Opera."),a}var Ee={store:[],notificaciones:[],registraCanal:function(){Ee.push({id:_data.id,data:null})},despacharMensajes:function(){0!==Ee.notificaciones.length&&Ee.notificaciones.map(function(e,t){Pe.setNot(),console.log(e),Ee.sendPush({title:"Nueva NOTIFICACION",message:"Es"})})},sendPush:function(e){var t,a;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),t="Metrovirtual: "+e.title,e={icon:"assets/favicon.ico",body:e.message},(a=new Notification(t,e)).onclick=function(){},a.onclose={},setTimeout(function(){a.close()},3e4))},nuevaNotificacion:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Ee.notificaciones;Ee.notificaciones=[],t.push(e),setTimeout(function(){Ee.notificaciones=t,Ee.despacharMensajes()},1e3)},oninit:function(){var e=new _e({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});e.start().then(function(){return e.addDeviceInterest("Metrovirtual")}).then(function(){return console.log("Successfully registered and subscribed!")}).catch(console.error)},suscribirCanal:function(e){var t=new _e({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});t.start().then(function(){return t.addDeviceInterest(e)}).then(function(){return console.log("Successfully registered and subscribed! + "+e)}).catch(console.error)},view:function(){}},Pe={num:0,message:" tenemos nueva información disponible para ti. Click aquí!.",timestamp:"",setNot:function(){Pe.num=Pe.num+1},suscribirCanal:function(e){return Ee.suscribirCanal(e)},view:function(){return[i()(Ee),i()("div.dropdown.dropdown-notification",[i()("a.dropdown-link.new-indicator[href=''][data-toggle='dropdown']",[i()("i[data-feather='bell']"),i()("span",{class:0==Pe.num?"d-none":""},Pe.num)]),i()("div.dropdown-menu.dropdown-menu-right",{class:0==Pe.num?"d-none":""},[i()("div.dropdown-header","Notificaciones"),i()("a.dropdown-item",{onclick:function(e){e.preventDefault(),i().route.set("/notificaciones")}},i()("div.media",[i()("div.media-body.mg-l-15",[i()("p",[i()("strong","Metrovirtual "),Pe.message]),i()("span",Pe.timestamp)])])),i()("div.dropdown-footer",i()("a[href='/']","Ver Todo"))])])]}},ke=Pe,De=Mr(360),Te={view:function(){return 1==V.rol?"Administrador":2==V.rol?"Coordinador":3==V.rol?"Gestionador":4==V.rol?"Operador":4==V.rol?"Usuario":void 0}},Ae={view:function(){return[De("div.navbar-right",[De(ke),De("div.dropdown.dropdown-profile",[De("a.dropdown-link[href=''][data-toggle='dropdown'][data-display='static']",De("div.avatar.avatar-sm",De("i[data-feather='user']"))),De("div.dropdown-menu.dropdown-menu-right.tx-13",[De("div.tx-18.tx-semibold.mg-b-0",void 0!==V.user.user?V.user.user.toUpperCase():""),De("p.mg-b-25.tx-12.tx-color-03",[De(Te)]),De(De.route.Link,{href:"/",class:"dropdown-item tx-16 "},[De("i[data-feather='user']")," Mi Perfil "]),De(De.route.Link,{href:"/",class:"dropdown-item tx-16 "},[De("i[data-feather='help-circle']")," Soporte CONCAS "]),De("div.dropdown-divider"),De(De.route.Link,{href:"/salir",class:"dropdown-item tx-16 "},[De("i[data-feather='log-out']"),"Salir"])])])])]}},n=Mr(360),Se={view:function(){var o=B.getDataUser();if(0!==o.length)return[n("li.nav-item",n(n.route.Link,{href:"/inicio",class:"nav-link"},[n("i[data-feather='layout']")," Inicio "])),Object.keys(o.modulesAccess).map(function(e,t,a){if(0!==o.modulesAccess[e].length)return"terapia-respiratoria"==e?[n("li.nav-item."+(Ce.page===e?"active":""),n(n.route.Link,{href:"/terapia-respiratoria/pedidos",class:"nav-link"},[n("i[data-feather='layout']"),"Terapia Respiratoria"]))]:"bco-sangre"==e?[n("li.nav-item."+(Ce.page===e?"active":""),n(n.route.Link,{href:"/bco-sangre/pedidos",class:"nav-link"},[n("i[data-feather='layout']"),"Bco. de Sangre"]))]:"neurofisiologia"==e?[n("li.nav-item."+(Ce.page===e?"active":""),n(n.route.Link,{href:"/neurofisiologia/pedidos",class:"nav-link"},[n("i[data-feather='layout']"),"Neurofisiología"]))]:[n("li.nav-item."+(Ce.page===e?"active":""),n(n.route.Link,{href:"/"+e,class:"nav-link"},[n("i[data-feather='layout']"),e.charAt(0).toUpperCase()+e.slice(1)]))]})]}},Ce={page:"",setPage:function(e){Ce.page=e},oncreate:function(){Ie()},onupdate:function(){Ie()},view:function(){return[n("header.navbar.navbar-header.navbar-header-fixed",[n("a.burger-menu[href=''][id='sidebarMenuOpen']",n("i[data-feather='arrow-left']")),n("div.navbar-brand",n(n.route.Link,{href:"/",class:"df-logo"},["Metro",n("span","Plus+")])),n(".navbar-menu-wrapper[id='navbarMenu']",[n("div.navbar-menu-header",[n(n.route.Link,{href:"/",class:"df-logo"},["Metro",n("span","Plus+")]),n("a[id='mainMenuClose'][href='']",n("i[data-feather='x']"))]),n("ul.nav.navbar-menu",[n("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),n("div.d-lg-none",[n(Se)])])]),n(Ae)])]}};function Ie(){var t;function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))})}var o=Ce,Ne=Mr(360),Le={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.laboratorio.map(function(e,t,a){return[Ne(Ne.route.Link,{href:"/"+e.href,class:Re.page==e.idModulo?"active":""},[e.label])]})]}},Re={page:"",setPage:function(e){Re.page=e},view:function(){return[Ne(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Ne("div.sidebar-header",[Ne("a[href=''][id='mainMenuOpen']",Ne("i[data-feather='menu']")),Ne("h5","Menu"),Ne("a[href=''][id='sidebarMenuClose']",Ne("i[data-feather='x']"))]),Ne("div.sidebar-body",Ne("ul.sidebar-nav",[Ne("li.nav-label.mg-b-15","Laboratorio"),Ne("li.nav-item.show",[Ne(Ne.route.Link,{href:"/laboratorio",class:"nav-link with-sub"},[Ne("i[data-feather='layout']")," Laboratorio "]),Ne("nav.nav",[Ne(Le)])])]))])]}},r=Re,a=Mr(360),Fe={view:function(){return[a("div.content.content-components",a("div.container",{style:{"max-width":"100%"}},[a("ol.breadcrumb.df-breadcrumbs.mg-b-10",[a("li.breadcrumb-item",a(a.route.Link,{href:"/"},["MetroPlus"])),a("li.breadcrumb-item.active[aria-current='page']","Laboratorio")]),a("h1.df-title.mg-t-20.mg-b-10","Laboratorio:"),a("div.row.tx-14",[d.isShow("laboratorio",16)?[a("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){a.route.set("/laboratorio/flebotomista")}},[a("div",{class:"media"},[a("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},a("i",{class:"fas fa-flask tx-30 tx-white"})),a("div",{class:"media-body mg-l-15"},[a("p",{class:"tx-18 mg-b-0"},"Flebotomista"),a("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Flebotomista")])])])]:[],d.isShow("laboratorio",6)?[a("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){a.route.set("/laboratorio/formularios")}},[a("div",{class:"media"},[a("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},a("i",{class:"fas fa-file-alt tx-30 tx-white"})),a("div",{class:"media-body mg-l-15"},[a("p",{class:"tx-18 mg-b-0"},"Formularios Epidemiológicos"),a("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Formularios Epidemiológicos")])])])]:[],d.isShow("laboratorio",15)?[a("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){a.route.set("/laboratorio/notificaciones")}},[a("div",{class:"media"},[a("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},a("i",{class:"fas fa-bell tx-30 tx-white"})),a("div",{class:"media-body mg-l-15"},[a("p",{class:"tx-18 mg-b-0"},"Notificaciones de Laboratorio"),a("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Laboratorio")])])])]:[],d.isShow("laboratorio",21)?[a("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){a.route.set("/laboratorio/lisa/pedidos/ingresados")}},[a("div",{class:"media"},[a("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},a("i",{class:"fas fa-sitemap tx-30 tx-white"})),a("div",{class:"media-body mg-l-15"},[a("p",{class:"tx-18 mg-b-0"},"LISA"),a("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a LISA v1.0")])])])]:[],d.isShow("laboratorio",28)?[a("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){a.route.set("/laboratorio/etiquetas")}},[a("div",{class:"media"},[a("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},a("i",{class:"fas fa-cog tx-30 tx-white"})),a("div",{class:"media-body mg-l-15"},[a("p",{class:"tx-18 mg-b-0"},"Configuración de Etiquetas"),a("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuración de Etiquetas")])])])]:[]])]))]}},Oe={oninit:function(){o.page="",r.page="",d.isAuth()},oncreate:function(){document.title="Laboratorio | "+d.title},view:function(){return[a(o,{oncreate:o.setPage("laboratorio")}),a(r),a(Fe)]}},He={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:function(){o.page="",r.page="",He.searchField="",He.showBusquedas="",He.pacientes=[],d.isAuth()},oncreate:function(){document.title="Notificaciones de Laboratorio | "+d.title},view:function(){return[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",i()("div.container",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" LABORATORIO "])),i()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Laboratorio")]),i()("h1.df-title.mg-t-20.mg-b-10",["Notificaciones de Laboratorio:"]),i()("div.row.tx-14",[i()("div.col-12.mg-b-10.wd-100p",i()("div.row.mg-t-10",[i()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){i().route.set("/laboratorio/notificaciones/filtros",{})}},[i()("div",{class:"media"},[i()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},i()("i",{class:"fas fa-filter tx-30 tx-white"})),i()("div",{class:"media-body mg-l-15"},[i()("p",{class:"tx-18 mg-b-0"},"Filtros"),i()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Filtros")])])]),i()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){i().route.set("/laboratorio/notificaciones/enviadas",{})}},[i()("div",{class:"media"},[i()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},i()("i",{class:"fas fa-mail-bulk tx-30 tx-white"})),i()("div",{class:"media-body mg-l-15"},[i()("p",{class:"tx-18 mg-b-0"},"Notificaciones Enviadas"),i()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones Enviadas")])])]),i()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){i().route.set("/laboratorio/notificaciones/pendientes",{})}},[i()("div",{class:"media"},[i()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},i()("i",{class:"fas fa-hourglass tx-30 tx-white"})),i()("div",{class:"media-body mg-l-15"},[i()("p",{class:"tx-18 mg-b-0"},"Notificaciones Pendientes"),i()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones Pendientes")])])]),i()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){i().route.set("/laboratorio/notificaciones/error",{})}},[i()("div",{class:"media"},[i()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},i()("i",{class:"fas fa-exclamation-triangle tx-30 tx-white"})),i()("div",{class:"media-body mg-l-15"},[i()("p",{class:"tx-18 mg-b-0"},"Notificaciones con Error"),i()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones con Error")])])])])),i()("div.table-loader.col-12.wd-100p",{class:He.showProcess},i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.col-12",{class:"d-none"},[i()("label.nav-label.tx-semibold","Búsquedas Recientes:"),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",i()("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),i()("div.section-nav",[])]}},Ye=He,je={canal:"",oninit:function(e){void 0!==e.attrs.canal&&(je.canal=e.attrs.canal)},subscribirCanal:function(e){var t=new _e({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});t.start().then(function(){return t.addDeviceInterest(e)}).then(function(){alert("Proceso realizado con éxito. Usuario (Dispositivo) subscrito al canal: "+e),console.log("Successfully registered and subscribed! + "+e)}).catch(console.error)},view:function(){0!==je.canal.length&&je.subscribirCanal(je.canal)}},Ue=je,$e={data:[],fetch:function(){$e.data=[];for(var e=0;e<Be.dataFiltros.length;e++)Be.dataFiltros[e].id==Be.idFiltro&&($e.data=Be.dataFiltros[e])},view:function(){return 0!==Be.showBitacora.length&&0!==$e.data.length?[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){Be.showBitacora="",$e.data=[],i().route.set("/laboratorio/notificaciones/filtros",{})}}))),i()("div.mg-b-30",i()("i.tx-40.fas.fa-filter.")),i()("p.mg-5.tx-right",[i()("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-edit.mg-r-5")," Editar "),i()("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),i()("h5.tx-inverse.mg-b-10","Filtro: "+$e.data.nombre),0==$e.data.ene?[i()("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[i()("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],null!==$e.data.x_servicio?[i()("h5.tx-inverse.mg-b-10","Por Servicio: "+$e.data.x_servicio)]:[],null!==$e.data.x_origen?[i()("h5.tx-inverse.mg-b-10","Por Origen: "+$e.data.x_origen)]:[],null!==$e.data.x_motivo?[i()("h5.tx-inverse.mg-b-10","Por Motivo: "+$e.data.x_motivo)]:[],null!==$e.data.x_especialidad?[i()("h5.tx-inverse.mg-b-10","Por Especialidad: "+$e.data.x_especialidad)]:[],null!==$e.data.x_medico?[i()("h5.tx-inverse.mg-b-10","Por Médico: "+$e.data.x_medico)]:[],null!==$e.data.x_idprueba?[i()("h5.tx-inverse.mg-b-10","Por Id Prueba: "+$e.data.x_idprueba)]:[]])]:0!==Be.showBitacora.length?[i()("div.pd-t-10",[i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])])]:void 0}},Be={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=reglas"}).then(function(e){var t;Be.dataFiltros=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-filtroslab").DataTable({data:Be.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,columns:[{title:"N°:"},{title:"REGLA:"},{title:"TIPO:"},{title:"FECHA:"},{title:"SERVICIO:"},{title:"ORIGEN:"},{title:"MOTIVO:"},{title:"ESPECIALIDAD:"},{title:"MÉDICO:"},{title:"ID PRUEBA:"},{title:"QR:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.nombreFiltro},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return 0==a.eNe?" NO ENVIAR ":" ENVIAR "},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return moment.utc(moment()).format("DD-MM-YYYY")},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.xServicio},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.xOrigen},visible:!0,aTargets:[5]},{mRender:function(e,t,a){return a.xMotivo},visible:!0,aTargets:[6]},{mRender:function(e,t,a){return a.xMedico},visible:!0,aTargets:[7]},{mRender:function(e,t,a){return a.x_medico},visible:!0,aTargets:[8]},{mRender:function(e,t,a){return a.xIdPrueba},visible:!0,aTargets:[9]},{mRender:function(e,t,a){return a.xQR},visible:!0,aTargets:[10]}],fnRowCallback:function(e,t,a,o){$(e).attr("id",t.id),0==t.eNe?$(e).addClass("tx-danger"):$(e).addClass("tx-primary"),$(e).css("cursor","pointer"),$(e).addClass("verRegla")},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),$(".verRegla").click(function(e){e.preventDefault();Be.showBitacora="d-none",i().route.set("/laboratorio/notificaciones/filtros/",{idFiltro:this.id})})}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()})}).catch(function(e){})},oninit:function(e){o.page="",r.page="",Be.dataPendientesAlta=[],Be.dataCamaTotales=[],Be.camasTotales=0,Be.pendienteAlta=0,d.isAuth("laboratorio",15)},oncreate:function(e){document.title="Reglas Filtros | "+d.title,Be.fetch()},view:function(e){return void 0!==e.attrs&&void 0!==e.attrs.idFiltro?(Be.idFiltro=e.attrs.idFiltro,Be.showBitacora="d-none",$e.fetch(),console.log($e.data)):(Be.idFiltro="",Be.showBitacora=""),[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",{style:{"margin-right":"0px"}},i()("div.container",{style:{"max-width":"none"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Reglas Filtros:")]),i()("h1.df-title.mg-t-20.mg-b-10","Reglas Filtros:"),i()("div.row.animated.fadeInUp",{class:Be.showBitacora},[i()("div.col-12",[i()("p.mg-b-20.tx-right",[i()("button.btn.btn-xs.btn-primary.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-plus.mg-r-5")," Nueva Regla ")]),i()("div.filemgr-content-header.",[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),i()("div.mg-t-50.table-loader.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20..mg-t-40",[i()("table.table.table-sm.tx-12[id='table-filtroslab'][width='100%']")])])]),i()($e)]))]}};var Ve=Be;var Je={oncreate:function(){s.loadNotificacionesEnviadasLab(),0!==s.searchField.length&&$("#table-NotificacionesEnviadasLab").DataTable().search(s.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","NotificacionesEnviadasLab de Laboratorio:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab de Hoy"),2==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab entre Fechas"),3==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab de Emergencia"),4==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab de C. Externa"),5==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab de Hospitalización")},onupdate:function(e){1==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab de Hoy"),2==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab entre Fechas"),3==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab de Emergencia"),4==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab de C. Externa"),5==s.idFiltro&&(e.dom.innerHTML="NotificacionesEnviadasLab de Hospitalización")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==s.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==s.idFiltro?moment(moment(s.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){s.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),s.loader=!0,s.NotificacionesEnviadasLab=[],s.fetchNotificacionesEnviadasLab(),i().route.set("/imagen/NotificacionesEnviadasLab?idFiltro="+s.idFiltro+"&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==s.idFiltro?moment(moment(s.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){s.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),s.loader=!0,s.NotificacionesEnviadasLab=[],s.fetchNotificacionesEnviadasLab(),i().route.set("/imagen/NotificacionesEnviadasLab?idFiltro="+s.idFiltro+"&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=1"},["NotificacionesEnviadasLab de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=2&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta},["NotificacionesEnviadasLab entre Fechas"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=3&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta},["NotificacionesEnviadasLab de Emergencia"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=4&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta},["NotificacionesEnviadasLab de C. Externa"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=5&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta},["NotificacionesEnviadasLab de Hospitalización"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==s.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){s.searchField=e.target.value},value:s.searchField}))]),i()("table.table.table-sm.tx-11[id='table-NotificacionesEnviadasLab'][width='100%']")])])])}},s={notificaciones:[],NotificacionesEnviadasLab:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){r.page="",0==s.NotificacionesEnviadasLab.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),s.fechaDesde=moment().subtract(2,"days").format("DD-MM-YYYY"),s.fechaHasta=moment().format("DD-MM-YYYY"),s.loader=!0,s.NotificacionesEnviadasLab=[],s.fetchNotificacionesEnviadasLab())},oncreate:function(e){ke.suscribirCanal("MetroPlus-NotificacionesEnviadasLab")},loadNotificacionesEnviadasLab:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesEnviadasLab").DataTable({data:s.NotificacionesEnviadasLab,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){s.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0"),i().mount(e.anCells[5],{view:function(){return"EMERGENCIA"==e._aData.SECTOR?[i()("div.d-inline.list-group-item.d-flex.pd-sm",[i()("div.avatar.tx-center",i()("i.fas.fa-file-alt.tx-30",{title:"Ver Pedido",style:{color:"#325a98",cursor:"pointer"},onclick:function(){i().route.set("/imagen/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}})),i()("div.pd-sm-l-10",[i()("p.tx-medium.tx-13.mg-b-2","N° PRESCRIPCION MV: "+e._aData.CD_PRE_MED),i()("p.tx-medium.tx-14.mg-b-2","PTE: "+e._aData.NM_PACIENTE),i()("p.tx-medium.mg-b-2","Edad: "+e._aData.EDAD+" Peso: "+e._aData.PESO+"Kg. Altura: "+e._aData.ALTURA+"m."),i()("small.tx-12.tx-light.mg-b-0","MEDICO: "+e._aData.MED_MV)]),i()("div.mg-l-auto.text-right",[i()("p.tx-medium.mg-b-2",e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),i()("small.tx-12.tx-danger.mg-b-0",e._aData.SECTOR),i()("p.tx-12.tx-danger.mg-b-0",e._aData.UBICACION)])])]:[i()("div.d-inline.list-group-item.d-flex.pd-sm",[i()("div.avatar.tx-center",i()("i.fas.fa-file-alt.tx-30",{title:"Ver Pedido",style:{color:"#325a98",cursor:"pointer"},onclick:function(){i().route.set("/imagen/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}})),i()("div.pd-sm-l-10",[i()("p.tx-medium.tx-13.mg-b-2","N° PRESCRIPCION MV: "+e._aData.CD_PRE_MED),i()("p.tx-medium.tx-14.mg-b-2","PTE: "+e._aData.NM_PACIENTE),i()("p.tx-medium.mg-b-2","Edad: "+e._aData.EDAD+" Peso: "+e._aData.PESO+"Kg. Altura: "+e._aData.ALTURA+"m."),i()("small.tx-12.tx-light.mg-b-0","MEDICO: "+e._aData.MED_MV)]),i()("div.mg-l-auto.text-right",[i()("p.tx-medium.mg-b-2",e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),i()("small.tx-12.tx-primary.mg-b-0",e._aData.SECTOR),i()("p.tx-12.tx-primary.mg-b-0",e._aData.UBICACION)])])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchNotificacionesEnviadasLab:function(){var e="",e=1==s.idFiltro?"&idFiltro="+s.idFiltro:"&idFiltro="+s.idFiltro+"&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=enviadas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){s.loader=!1,s.NotificacionesEnviadasLab=e.data}).catch(function(e){setTimeout(function(){s.fetchNotificacionesEnviadasLab()},2e3)})},reloadData:function(){var e=$("#table-NotificacionesEnviadasLab").DataTable();e.clear(),e.rows.add(s.NotificacionesEnviadasLab).draw()},view:function(e){return s.loader?[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",{style:{"margin-right":"0px"}},i()("div.container",{style:{"max-width":"none"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),i()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==s.error.length?[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",{style:{"margin-right":"0px"}},i()("div.container",{style:{"max-width":"none"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),i()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),i()("div.row.animated.fadeInUp",[i()("p","No existe infrmac dd ncin")])]))]:s.loader||0===s.NotificacionesEnviadasLab.length?s.loader||0!=s.NotificacionesEnviadasLab.length?[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",{style:{"margin-right":"0px"}},i()("div.container",{style:{"max-width":"none"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),i()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",{style:{"margin-right":"0px"}},i()("div.container",{style:{"max-width":"none"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),i()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",i()("div.container",[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),i()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),i()(Je)]))]}},ze=s;var qe={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(qe.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?qe.start(e):qe.stop(e),e.isPaused=!e.isPaused}};function Xe(){var t={interval:null,seconds:100,isPaused:!1};return qe.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){qe.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){qe.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){qe.stop(t)}}}var Ge={oncreate:function(){c.loadFlebotomista(),0!==c.searchField.length&&$("#table-flebotomista").DataTable().search(c.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","LISA:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==c.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==c.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==c.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización"),4==c.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa")},onupdate:function(e){1==c.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==c.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==c.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización"),4==c.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==c.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==c.idFiltro?moment(moment(c.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){c.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),c.loader=!0,c.pedidos=[],c.fetchPedidos(),i().route.set("/laboratorio/flebotomista?idFiltro="+c.idFiltro+"&fechaDesde="+c.fechaDesde+"&fechaHasta="+c.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==c.idFiltro?moment(moment(c.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){c.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),c.loader=!0,c.pedidos=[],c.fetchPedidos(),i().route.set("/laboratorio/flebotomista?idFiltro="+c.idFiltro+"&fechaDesde="+c.fechaDesde+"&fechaHasta="+c.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=1"},["Pedidos de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=2&fechaDesde="+c.fechaDesde+"&fechaHasta="+c.fechaHasta},["Pedidos de Emergencia"]),i()(i().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=3&fechaDesde="+c.fechaDesde+"&fechaHasta="+c.fechaHasta},["Pedidos de Hospitalización"]),i()(i().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=4&fechaDesde="+c.fechaDesde+"&fechaHasta="+c.fechaHasta},["Pedidos de C. Externa"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==c.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){c.searchField=e.target.value},value:c.searchField}))]),i()("table.table.table-sm.tx-11[id='table-flebotomista'][width='100%']")])])])}},c={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){r.page="",0==c.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),c.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),c.fechaHasta=moment().format("DD-MM-YYYY"),c.loader=!0,c.pedidos=[],c.fetchPedidos())},oncreate:function(e){ke.suscribirCanal("MetroPlus-LisaPedidos")},loadFlebotomista:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-flebotomista").DataTable({data:c.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){i().mount(e,{view:function(){return[i()("td",{class:"R"==t.tipoPedido?"bg-primary":"bg-danger"},["R"==t.tipoPedido?i()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):i()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),i()("td",{style:{}},t.fechaPedido),i()("td",{style:{}},i()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.codigoPedido)),i()("td",{style:{}},[i()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),i()("br"),t.paciente]),i()("td",{style:{}},t.descPrestadorSolicitante),"I"==t.tipoOperacion?[i()("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":0==t.muestrasProcesadas?"#ffc107":"#0d9448"}},0==t.muestrasProcesadas?"Muestras Pendientes":"Muestras Completo")]:[""],i()("td.tx-center",{onclick:function(){i().route.set("/laboratorio/flebotomista/pedido/",{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]}})},drawCallback:function(e){c.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==c.idFiltro?"?type=ingresadasFlebotomia&idFiltro="+c.idFiltro:"?type=ingresadasFlebotomia&idFiltro="+c.idFiltro+"&fechaDesde="+c.fechaDesde+"&fechaHasta="+c.fechaHasta;i().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){c.loader=!1,c.pedidos=e.data}).catch(function(e){setTimeout(function(){c.fetchPedidos()},2e3)})},reproesarMensajeXML:function(e,t){c.loader=!0,i().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-flebotomista").DataTable();e.clear(),e.rows.add(c.pedidos).draw()},view:function(e){return c.loader?[i()(r,{oncreate:r.setPage(16)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==c.error.length?[i()(r,{oncreate:r.setPage(16)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("p","No existe información.")])]))]:c.loader||0===c.pedidos.length?c.loader||0!=c.pedidos.length?[i()(r,{oncreate:r.setPage(16)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(r,{oncreate:r.setPage(16)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(r,{oncreate:r.setPage(16)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()(Ge)])),i()("div.section-nav",[i()("label.nav-label","Pedidos Ingresados"),i()("div.mg-t-10.bg-white",{},i()("div.mg-t-10.bg-white",i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",c.pedidos.length),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),i()("div.pd-20",i()(Xe)))])]}},Ke=c;var Ze={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(Ze.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Ze.start(e):Ze.stop(e),e.isPaused=!e.isPaused}};function We(){var t={interval:null,seconds:100,isPaused:!1};return Ze.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Ze.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Ze.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Ze.stop(t)}}}var Qe={oncreate:function(){l.loadPedidosIngresados(),0!==l.searchField.length&&$("#table-pedidosIngresados").DataTable().search(l.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","LISA:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==l.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==l.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==l.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==l.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa ")},onupdate:function(e){1==l.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==l.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==l.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==l.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa ")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==l.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==l.idFiltro?moment(moment(l.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){l.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),l.loader=!0,l.pedidos=[],l.fetchPedidosIngresados(),i().route.set("/laboratorio/lisa/pedidos/ingresados?idFiltro="+l.idFiltro+"&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==l.idFiltro?moment(moment(l.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){l.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),l.loader=!0,l.pedidos=[],l.fetchPedidosIngresados(),i().route.set("/laboratorio/lisa/pedidos/ingresados?idFiltro="+l.idFiltro+"&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=1"},["Pedidos de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=2&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta},["Pedidos de Emergencia"]),i()(i().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=3&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta},["Pedidos de Hospitalización"]),i()(i().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=4&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta},["Pedidos de C. Externa"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==l.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){l.searchField=e.target.value},value:l.searchField}))]),i()("table.table.table-sm.tx-11[id='table-pedidosIngresados'][width='100%']")])])])}},l={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",pCancelados:0,pIngreados:0,pPendientes:0,pProcesados:0,oninit:function(e){r.page="",0==l.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),l.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),l.fechaHasta=moment().format("DD-MM-YYYY"),l.loader=!0,l.pedidos=[],l.fetchPedidosIngresados())},oncreate:function(e){ke.suscribirCanal("MetroPlus-LisaPedidos")},loadPedidosIngresados:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidosIngresados").DataTable({data:l.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){i().mount(e,{view:function(){return[i()("td",{class:"R"==t.tipoPedido?"bg-primary":"bg-danger"},["R"==t.tipoPedido?i()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):i()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),i()("td",{style:{}},t.fechaPedido),i()("td",{style:{}},i()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.codigoPedido)),i()("td",{style:{}},[i()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),i()("br"),t.paciente]),i()("td",{style:{}},t.descPrestadorSolicitante),"I"==t.tipoOperacion?i()("td.tx-white.tx-semibold.tx-center",{title:0==t.enviadoInfinity?" Retenido ":" Enviado ",style:{"background-color":0==t.enviadoInfinity?"#fd7e14":"#00cccc"}},0==t.enviadoInfinity?"Retenido":"Enviado"):i()("td.tx-white.tx-semibold.bg-danger.tx-center",{title:0==t.enviadoInfinity?" Cancelado ":" Cancelado Enviado "},0==t.enviadoInfinity?"Cancelado":"Cancelado Enviado"),"I"==t.tipoOperacion?[i()("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":0==t.muestrasProcesadas?"#ffc107":"#0d9448"}},0==t.muestrasProcesadas?"Muestras Pendientes":"Muestras Completo")]:[""],"E"==t.tipoOperacion||"A"==t.tipoOperacion?[i()("td.tx-center",{onclick:function(){1==confirm("Esta Ud. seguro de generar este envío.")&&l.reproesarMensajeXML(Number(t.codigoPedido),t.idTimeRecord)},title:0==t.enviadoInfinity?" Enviar ":" Reenviar ",style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},i()("i.fas.fa-file-upload.mg-r-5"),0==t.enviadoInfinity?" Enviar ":" Reenviar ")]:[""],i()("td.tx-center",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[i()(i().route.Link,{class:"tx-dark pd-2",href:"/laboratorio/lisa/pedido/",target:"_blank",params:{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"}},"Ver Pedido")])]}})},drawCallback:function(e){l.loader=!1,l.pProcesados=0,l.pPendientes=0,l.pIngreados=0,l.pCancelados=0,e.aoData.map(function(e,t){"I"==e._aData.tipoOperacion&&(l.pIngreados++,0==e._aData.muestrasProcesadas&&l.pPendientes++,1==e._aData.muestrasProcesadas&&l.pProcesados++),"E"!=e._aData.tipoOperacion&&"A"!=e._aData.tipoOperacion||l.pCancelados++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidosIngresados:function(){var e="",e=1==l.idFiltro?"?type=ingresadas&idFiltro="+l.idFiltro:"?type=ingresadas&idFiltro="+l.idFiltro+"&fechaDesde="+l.fechaDesde+"&fechaHasta="+l.fechaHasta;i().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){l.loader=!1,l.pedidos=e.data}).catch(function(e){setTimeout(function(){l.fetchPedidosIngresados()},2e3)})},reproesarMensajeXML:function(e,t){l.loader=!0,i().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-pedidosIngresados").DataTable();e.clear(),e.rows.add(l.pedidos).draw()},view:function(e){return l.loader?[i()(r,{oncreate:r.setPage(21)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==l.error.length?[i()(r,{oncreate:r.setPage(21)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("p","No existe información.")])]))]:l.loader||0===l.pedidos.length?l.loader||0!=l.pedidos.length?[i()(r,{oncreate:r.setPage(21)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(r,{oncreate:r.setPage(21)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(r,{oncreate:r.setPage(21)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()(Qe)])),i()("div.section-nav",[i()("label.nav-label","Pedidos Ingresados"),i()("div.mg-t-10.bg-white",i()("div.mg-t-10.bg-white",i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",l.pIngreados-l.pCancelados),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Pedidos Cancelados:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",l.pCancelados),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Pedidos Pendientes:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",l.pPendientes),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Pedidos Procesados:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",l.pProcesados),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),i()("div.pd-20",i()(We)))])]}},et=l;function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var at={secs:[],nombres:"",show:!1,view:function(){var o="",n="",r="";return 0==ot.num&&setTimeout(function(){ot.num=ot.data.length,ot.parseFetch(),i().redraw.sync()},2e3),0==at.secs.length?[i()("div.pd-10.wd-100p",i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+ot.data.length+" formulario(s) encontrado(s)..."}}),i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]:[at.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(n=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(r="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=ot.data.length+" formulario(s) encontrado(s)."}}),i()("table.table.table-bordered.wd-100p",{style:{zoom:ot.zoom}},[i()("thead",[i()("tr",i()("th[colspan='12'][scope='col']",[i()("i.tx-light.fas.fa-file-alt.mg-r-2."),i()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),i()("tr",[i()("th[colspan='10'][scope='col']",i()("div.m-0.p-0",i()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),i()("th.tx-right[colspan='2'][scope='col']",i()("a.tx-right.tx-semibold",{href:r,target:"_blank"},i()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),i()("tbody",[i()("tr",[i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ESTABLECIMIENTO")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NOMBRE")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","APELLIDO")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","SEXO (M-F)")),i()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NHCL.")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ADM."))]),i()("tr",[i()("th.text-center[colspan='3'][scope='row']",i()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",at.nombres)),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",at.apellidos_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",at.sexo)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",at.nhcl)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",at.numero_admision))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","EDAD")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),i()("tr",[i()("td.text-center[colspan='1'][scope='row']",i()("div.m-0.p-0.text-center",at.edad||at.edad_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",at.identificacion)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",at.fecha_admision)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",at.fecha_admision)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",at.ubicacion)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",at.medico_tratante))]),i()("tr",[i()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),i()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",i()("br"),"CADA PRESCRIPCIÓN"]))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FECHA",i()("br"),"día/mes/año"])),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","HORA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",i()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),i()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",i()("br"),"FÁRMACOS INSUMOS"]))]),i()("tr",[i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?i().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.text-justify",null!==n&&0!==n.length?i().trust(n.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},ot={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){at.secs.push(o.data[e])}),at.secs.map(function(e,t,a){"nombres"==e.name&&(at.nombres=e.answer),"apellidos_paciente"==e.name&&(at.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(at.sexo=e.answer),"nhcl"==e.name&&(at.nhcl=e.answer),"numero_admision"==e.name&&(at.numero_admision=e.answer),"edad"==e.name&&(at.edad=e.answer),"edad_paciente"==e.name&&(at.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(at.identificacion=e.answer),"fecha_admision"==e.name&&(at.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(at.ubicacion=e.answer),"fecha_alta"==e.name&&(at.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(at.medico_tratante=e.answer)})},parseFetch:function(){return at.secs=[],ot.data.map(function(e,t,a){ot.parseDoc(ot.data[t])})},fetch:function(){ot.data=[],ot.error="",i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+ot.nhc+"&adm="+ot.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(ot.data=e,ot.num=0,i().redraw()):ot.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){ot.fetch()},5e3)})},view:function(){return ot.error?[i()(".alert.alert-danger[role='alert']",ot.error)]:0!==ot.data.length?[i()(at)]:[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},nt={data:[],detalle:[],error:"",showFor:"",fetch:function(){nt.data=[],nt.error="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:b.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(nt.data=e.data,ot.adm=nt.data[0].ADM,ot.nhc=nt.data[0].NHCL,ot.fetch()):nt.error=e.message}).catch(function(e){setTimeout(function(){nt.fetch()},5e3)})},view:function(){return nt.error?[i()(".alert.alert-danger[role='alert']",nt.error)]:0!==nt.data.length?[i()(ot)]:[i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},rt={data:null,medico:null,fetch:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/itemslab/"+b.numeroPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){rt.data=e.examenes,rt.medico=e.medico}).catch(function(e){})},oninit:function(){rt.fetch()},view:function(){return 0!==b.examenes&&null!==rt.data?(null==b.examenes.Exame.length&&(b.examenes.Exame=[b.examenes.Exame]),b.examenes.Exame.map(function(e,t,a){return console.log(rt.data[e.codigoExame]),"E"==e.operacao?[i()(".tx-14.tx-semibold.tx-danger.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),void 0!==rt.data[e.codigoExame]&&null!==rt.data[e.codigoExame].OBS_EXAMEN?[i()("br"),i()(".d-inline.tx-danger","Observaciones:"),i()("br"),i()(".d-inline",rt.data[e.codigoExame].OBS_EXAMEN),i()("br")]:i()("br")]:[i()(".tx-14.tx-semibold.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),void 0!==rt.data[e.codigoExame]&&null!==rt.data[e.codigoExame].OBS_EXAMEN?[i()("br"),i()(".d-inline.tx-danger","Observaciones:"),i()("br"),i()(".d-inline",rt.data[e.codigoExame].OBS_EXAMEN),i()("br")]:i()("br")]})):[i()("div.pd-10",[i()("div.placeholder-paragraph",[i()("div.line")])])]}},u={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:function(){u.error="",u.data=[],u.documento=[],i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:b.numeroPedido,idTimeRecord:b.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(b.loader=!1,b.data=e.data.pedido,b.examenes=e.data.pedido.PedidoExameLab.listaExame,u.documento=e.data,u.data=e.data.dataTomaMuestra.examenesToma,u.dataMuestras=e.data.dataRecepcion.examenesRecep,st.impresora=b.data.PedidoExameLab.atendimento.nomeMaquina,nt.fetch(),it.fetch()):b.error=e.message}).catch(function(e){})}},m={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},it={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:it.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){i().mount(e.anCells[0],{view:function(){return e._aData.title,i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[i()("div.toast-header.bg-primary",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),i()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(it.data).draw()},fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+b.numeroPedido}).then(function(e){it.data=e.data,it.loadObservaciones()}).catch(function(e){})},sendNotiLab:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+b.numeroPedido,body:{message:it.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(it.observaciones="",it.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){EditarPedido.error=e.message})}},dt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,seleccionarTodos:function(o){dt.checkedAll=o;var n=moment().format("DD-MM-YYYY HH:mm");return u.data.map(function(e,t,a){o?(u.data[t].STATUS_TOMA="1",u.data[t].FECHA_TOMA=n,u.data[t].customCheked=!0):(u.data[t].STATUS_TOMA="",u.data[t].FECHA_TOMA="",u.data[t].customCheked=!1)})},validarUpdateMuestras:function(){for(var e=0,t=0;t<u.data.length;t++)0!==u.data[t].STATUS_TOMA.length&&e++;if(0==e)throw alert("El regisro de Recepción de (Muestra) e Insumos en necesario."),"El regisro de Recepción de (Muestra) e Insumos en necesario.";var a=0;if(0!==m.tuboLila&&a++,0!==m.tuboRojo&&a++,0!==m.tuboCeleste&&a++,0!==m.tuboNegro&&a++,0!==m.tuboVerde&&a++,0!==m.gsav&&a++,0!==m.hemocultivo&&a++,0!==m.qtb&&a++,0===a)throw console.log(a),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:function(){u.documento.dataTomaMuestra.insumosToma=m,i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(u.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){u.documento=e.data,u.data=e.data.dataTomaMuestra.examenesToma}).catch(function(e){})},view:function(){return u.error?[i()("p.mg-0",u.error)]:0!==u.data.length?[i()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[dt.disabledToma?[i()("p.mg-5.tx-right",[i()("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:function(){dt.disabledToma=!1,dt.disabledInsumos=!1}},i()("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],i()(".",{style:{"pointer-events":dt.disabledToma?"none":"auto"}},[i()("div.table-responsive.mg-b-10.mg-t-10",i()("table.table.table-dashboard.table-hover.mg-b-0",[i()("thead",i()("tr",[i()("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),i()("tr",[i()("th.text-left","EXAMEN"),i()("th","CONFIRMACIÓN")])),i()("tbody",[i()("tr",[i()("td.tx-normal",i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:dt.checkedAll,onclick:function(e){dt.seleccionarTodos(this.checked)}}),i()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),i()("td.tx-medium.text-right")]),u.data.map(function(e,t,a){return[i()("tr",[i()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.custom-control-input.tx-16[type='checkbox'][id='"+e.CD_EXA_LAB+"']",{checked:u.data[t].customCheked,onupdate:function(e){this.checked=u.data[t].customCheked},onclick:function(e){e.preventDefault();e=this.checked;u.data[t].customCheked=!u.data[t].customCheked,e?(this.checked=!0,u.data[t].STATUS_TOMA="1",u.data[t].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,dt.checkedAll=!1,u.data[t].STATUS_TOMA="",u.data[t].FECHA_TOMA="")}}),i()("label.custom-control-label.tx-16[for='"+e.CD_EXA_LAB+"']",0!==u.data[t].STATUS_TOMA.length?u.data[t].FECHA_TOMA:u.data[t].STATUS_TOMA)]))])]})])])),i()("div.table-responsive.mg-b-10.mg-t-10",i()("table.table.table-dashboard.table-hover.mg-b-0",[i()("thead",i()("tr",[i()("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),i()("tr",[i()("th.text-left","INSUMOS"),i()("th.text-left","CANTIDAD")])),i()("tbody",[i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:function(e){e.target.checked?m.tuboLila=1:m.tuboLila=0},oncreate:function(e){void 0!==m.tuboLila&&0!==m.tuboLila&&(e.dom.checked=!0)},onupdate:function(e){void 0!==m.tuboLila&&0!==m.tuboLila?1==m.tuboLila&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==m.tuboLila&&0!==m.tuboLila?e.dom.innerText=m.tuboLila:e.dom.innerText=0},onupdate:function(e){void 0!==m.tuboLila&&0!==m.tuboLila?e.dom.innerText=m.tuboLila:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboLila++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboLila--,m.tuboLila<0&&(m.tuboLila=0)}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:function(e){e.target.checked?m.tuboRojo=1:m.tuboRojo=0},oncreate:function(e){void 0!==m.tuboRojo&&0!==m.tuboRojo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==m.tuboRojo&&0!==m.tuboRojo?1==m.tuboRojo&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==m.tuboRojo&&0!==m.tuboRojo?e.dom.innerText=m.tuboRojo:e.dom.innerText=0},onupdate:function(e){void 0!==m.tuboRojo&&0!==m.tuboRojo?e.dom.innerText=m.tuboRojo:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboRojo++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboRojo--,m.tuboRojo<0&&(m.tuboRojo=0)}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:function(e){e.target.checked?m.tuboCeleste=1:m.tuboCeleste=0},oncreate:function(e){void 0!==m.tuboCeleste&&0!==m.tuboCeleste&&(e.dom.checked=!0)},onupdate:function(e){void 0!==m.tuboCeleste&&0!==m.tuboCeleste?1==m.tuboCeleste&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==m.tuboCeleste&&0!==m.tuboCeleste?e.dom.innerText=m.tuboCeleste:e.dom.innerText=0},onupdate:function(e){void 0!==m.tuboCeleste&&0!==m.tuboCeleste?e.dom.innerText=m.tuboCeleste:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboCeleste++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboCeleste--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:function(e){e.target.checked?m.tuboNegro=1:m.tuboNegro=0},oncreate:function(e){void 0!==m.tuboNegro&&0!==m.tuboNegro&&(e.dom.checked=!0)},onupdate:function(e){void 0!==m.tuboNegro&&0!==m.tuboNegro?1==m.tuboNegro&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==m.tuboNegro&&0!==m.tuboNegro?e.dom.innerText=m.tuboNegro:e.dom.innerText=0},onupdate:function(e){void 0!==m.tuboNegro&&0!==m.tuboNegro?e.dom.innerText=m.tuboNegro:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboNegro++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboNegro--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:function(e){e.target.checked?m.tuboVerde=1:m.tuboVerde=0},oncreate:function(e){void 0!==m.tuboVerde&&0!==m.tuboVerde&&(e.dom.checked=!0)},onupdate:function(e){void 0!==m.tuboVerde&&0!==m.tuboVerde?1==m.tuboVerde&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==m.tuboVerde&&0!==m.tuboVerde?e.dom.innerText=m.tuboVerde:e.dom.innerText=0},onupdate:function(e){void 0!==m.tuboVerde&&0!==m.tuboVerde?e.dom.innerText=m.tuboVerde:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboVerde++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){m.tuboVerde--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:function(e){e.target.checked?m.gsav=1:m.gsav=0},oncreate:function(e){void 0!==m.gsav&&0!==m.gsav&&(e.dom.checked=!0)},onupdate:function(e){void 0!==m.gsav&&0!==m.gsav?1==m.gsav&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==m.gsav&&0!==m.gsav?e.dom.innerText=m.gsav:e.dom.innerText=0},onupdate:function(e){void 0!==m.gsav&&0!==m.gsav?e.dom.innerText=m.gsav:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){m.gsav++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){m.gsav--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:function(e){e.target.checked?m.hemocultivo=1:m.hemocultivo=0},oncreate:function(e){void 0!==m.hemocultivo&&0!==m.hemocultivo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==m.hemocultivo&&0!==m.hemocultivo?1==m.hemocultivo&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==m.hemocultivo&&0!==m.hemocultivo?e.dom.innerText=m.hemocultivo:e.dom.innerText=0},onupdate:function(e){void 0!==m.hemocultivo&&0!==m.hemocultivo?e.dom.innerText=m.hemocultivo:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){m.hemocultivo++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){m.hemocultivo--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:function(e){e.target.checked?m.qtb=1:m.qtb=0},oncreate:function(e){void 0!==m.qtb&&0!==m.qtb&&(e.dom.checked=!0)},onupdate:function(e){void 0!==m.qtb&&0!==m.qtb?1==m.qtb&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==m.qtb&&0!==m.qtb?e.dom.innerText=m.qtb:e.dom.innerText=0},onupdate:function(e){void 0!==m.qtb&&0!==m.qtb?e.dom.innerText=m.qtb:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){m.qtb++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){m.qtb--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),dt.disabledToma?[i()("p.mg-5.",[i()("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+u.documento.pedidoLaboratorio.dataTomaMuestra.fechaToma)])]:[i()("div.pd-10",[i()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:dt.disabledToma,onclick:function(){dt.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");u.documento.dataTomaMuestra.usuarioToma="flebot1",u.documento.dataTomaMuestra.fechaToma=e,dt.disabledToma=!0,dt.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[i()("div.pd-t-10",[i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])])]}},p={showLogs:"",dataXML:"",nuevoPedido:!1,logsEnvio:[],examenes:[],jsonObj:null,vaTime:null,xmlRes:null,setNuevoPedido:function(){p.nuevoPedido=!0},agregarExamen:function(o){var n=!1;p.examenes.map(function(e,t,a){p.examenes[t].codigoExame==o.CD_EXA_LAB&&(n=!0)}),n||b.examenes.Exame.map(function(e,t,a){b.examenes.Exame[t].codigoExame==o.CD_EXA_LAB&&p.examenes.push(b.examenes.Exame[t])}),console.log(p.examenes)},eliminarExamen:function(o){var n=!1,r=null;p.examenes.map(function(e,t,a){p.examenes[t].codigoExame==o.CD_EXA_LAB&&(n=!0,r=t)}),n&&(p.examenes.splice(r,1),console.log(p.examenes))},generarXML:function(){p.jsonObj={Exame:p.examenes},p.vaTime=moment().format("YYYY-MM-DD HH:mm:ss"),b.data.Cabecalho.mensagemID=moment().unix(),b.data.Cabecalho.dataHora=p.vaTime,b.data.PedidoExameLab.listaExame=p.jsonObj,b.data.PedidoExameLab.operacao="I",0!==st.impresora.length&&(console.log("RecepMuestras",st.impresora),b.data.PedidoExameLab.atendimento.nomeMaquina=st.impresora),null!==rt.medico&&!1!==rt.medico&&(b.data.PedidoExameLab.atendimento.prestadorSolicitante=rt.medico.CODMEDICO,b.data.PedidoExameLab.atendimento.descPrestadorSolicitante=rt.medico.PRESTADOR,b.data.PedidoExameLab.atendimento.numeroConselhoSolicitante=rt.medico.CEDULA),p.xmlRes=function e(t){var a="";for(var o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(var n in t[o])a=(a=(a+="\n<"+o+">\n")+e(new Object(t[o][n])))+"</"+o+">";else"object"==tt(t[o])?a+=e(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+">\n"}a=a.replace(/<\/?[0-9]{1,}>/g,"");return a}(b.data),console.log("documento",b.data),p.nuevoPedido?p.sendNuevoPedido(p.xmlRes,b.numeroPedido,p.vaTime):p.sendXML(p.xmlRes,b.numeroPedido,p.vaTime)},sendNuevoPedido:function(e,t,a){i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-nuevo-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3),console.log("result",e)}).catch(function(e){})},sendXML:function(e,t,a){console.log("xmlRes",e),i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3)}).catch(function(e){})},oninit:function(){p.examenes=[],p.showLogs="",p.dataXML=[],p.nuevoPedido=!1,p.logsEnvio=[],p.examenes=[],p.jsonObj=null,p.vaTime=null,p.xmlRes=null,st.disabledToma=!1,i().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+b.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(e){e.data.map(function(e,t,a){void 0!==e.PedidoExameLab.listaExame.Exame&&p.logsEnvio.push(e)}),console.log(p.logsEnvio),0!==Object.keys(p.logsEnvio).length&&(st.disabledToma=!0)}).catch(function(e){})},view:function(){return 0!==p.logsEnvio.length?p.logsEnvio.map(function(o,e,t){return[i()("tr",{oncreate:function(){e+1===t.length&&(st.impresora=o.PedidoExameLab.atendimento.nomeMaquina)}},[i()("td.tx-16.tx-normal.text-left",void 0!==o.PedidoExameLab.listaExame.Exame&&void 0!==o.PedidoExameLab.listaExame.Exame.length?[88e6<o.PedidoExameLab.codigoPedido?[o.PedidoExameLab.listaExame.Exame.map(function(e,t,a){return st.examenNuevoPedido(e,o.PedidoExameLab,o.Cabecalho),[i()(".d-inline",e.descExame),i()("br")]})]:[o.PedidoExameLab.listaExame.Exame.map(function(e,t,a){return[i()(".d-inline",e.descExame),i()("br")]})]]:[88e6<o.PedidoExameLab.codigoPedido?[st.examenNuevoPedido(o.PedidoExameLab.listaExame.Exame,o.PedidoExameLab,o.Cabecalho),i()(".d-inline",o.PedidoExameLab.listaExame.Exame.descExame),i()("br")]:[i()(".d-inline",o.PedidoExameLab.listaExame.Exame.descExame),i()("br")]]),i()("td.tx-16.tx-normal","TIPO: "+o.PedidoExameLab.operacao,i()("br"),i()(".d-inline.tx-danger.tx-semibold","SC: "+o.PedidoExameLab.codigoPedido),i()("br"),o.Cabecalho.dataHora),i()("td.tx-16.tx-normal.d-none",[88e6<o.PedidoExameLab.codigoPedido?[i()("button.btn.btn-xs.btn-block.wd-50p.btn-danger.d-none",{onclick:function(){}}," Eliminar ")]:[]])])]}):[i()("tr",[i()("td.tx-16.tx-medium.text-left","No existe envíos.")])]}},st={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,impresora:"",examenNuevoPedido:function(o,n,e){return u.dataMuestras.map(function(e,t,a){o.codigoExame===e.CD_EXA_LAB&&(u.dataMuestras[t].NM_EXA_LAB="",u.dataMuestras[t].NM_EXA_LAB="*"+o.descExame+" ("+n.codigoPedido+")")})},seleccionarTodos:function(o){st.checkedAll=o;var n=moment().format("DD-MM-YYYY HH:mm");return u.dataMuestras.map(function(e,t,a){o?(u.dataMuestras[t].STATUS_RECEP="1",u.dataMuestras[t].FECHA_RECEP=n,u.dataMuestras[t].customCheked=!0,p.agregarExamen(u.dataMuestras[t])):(u.dataMuestras[t].STATUS_RECEP="",u.dataMuestras[t].FECHA_RECEP="",u.dataMuestras[t].customCheked=!1,p.eliminarExamen(u.dataMuestras[t]))})},validarUpdateMuestras:function(){for(var e=0,t=0;t<u.dataMuestras.length;t++)0!==u.dataMuestras[t].STATUS_RECEP.length&&e++;if(0==e)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";p.generarXML()},udpateStatusTomaMuestra:function(){u.documento.dataRecepcion.insumosRecep=m,i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(u.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){u.documento=e.data,u.dataMuestras=e.data.dataRecepcion.examenesRecep}).catch(function(e){})},view:function(){return u.error?[i()("p.mg-0",u.error)]:0!==u.dataMuestras.length?[i()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[i()("p.mg-5.tx-right",[i()("button.btn.btn-xs.btn-success.mg-r-5[type='button']",{class:st.disabledToma?"":"d-none",onclick:function(){st.disabledToma=!1}},i()("i.fas.fa-edit.mg-r-5")," EDITAR "),i()("button.btn.btn-xs.btn-primary.mg-r-5[type='button']",{onclick:function(){1==confirm("Esta seguro de generar un nuevo pedido 88.000.000.")&&(st.disabledToma=!1,p.setNuevoPedido())}},i()("i.fas.fa-file-alt.mg-r-5")," NUEVO PEDIDO "),i()("button.btn.btn-xs.btn-warning[type='button']",{onclick:function(){0==p.showLogs.length?p.showLogs="d-none":p.showLogs=""}}," VER HISTORIAL DE ENVÍO ")]),i()(".",[i()(".",{class:p.showLogs,style:{"pointer-events":st.disabledToma?"none":"auto"}},[i()("div.table-responsive.mg-b-10.mg-t-10",i()("table.table.table-dashboard.table-hover.mg-b-0",[i()("thead",i()("tr",[i()("th[colspan='2'].text-dark.text-left.tx-semibold",{oncreate:function(e){e.dom.innerHTML="Recepcion de Muestras"},onupdate:function(e){p.nuevoPedido?e.dom.innerHTML="Nuevo Pedido LISA:":e.dom.innerHTML="Recepcion de Muestras"}})]),i()("tr",[i()("th.text-left","EXAMEN(ES)"),i()("th[colspan='2']","CONFIRMACIÓN Y ENVÍO LISA")])),i()("tbody",[i()("tr",[i()("td[colspan='2'].tx-normal",i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='r_selectTomaTodos']",{checked:st.checkedAll,onclick:function(e){st.seleccionarTodos(this.checked)}}),i()("label.custom-control-label[for='r_selectTomaTodos']","Seleccionar Todos")]))]),u.dataMuestras.map(function(e,t,a){return[i()("tr",[i()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.custom-control-input.tx-16[type='checkbox'][id='r_"+e.CD_EXA_LAB+"']",{checked:u.dataMuestras[t].customCheked,onupdate:function(e){this.checked=u.dataMuestras[t].customCheked},onclick:function(e){if(e.preventDefault(),this.checked)u.dataMuestras[t].customCheked=!u.dataMuestras[t].customCheked,u.dataMuestras[t].STATUS_RECEP="1",u.dataMuestras[t].FECHA_RECEP=moment().format("DD-MM-YYYY HH:mm"),p.agregarExamen(u.dataMuestras[t]);else{if(u.dataMuestras[t].NM_EXA_LAB.includes("(88"))throw alert("No es posible esta acción. Ya existe un pedido generado."),"No es posible esta acción. Ya existe un pedido generado.";if(p.nuevoPedido)throw alert("No es posible generar un Nuevo Pedido de este exámen."),"No es posible generar un Nuevo Pedido de este exámen.";u.dataMuestras[t].customCheked=!u.dataMuestras[t].customCheked,st.checkedAll=!1,u.dataMuestras[t].STATUS_RECEP="",u.dataMuestras[t].FECHA_RECEP="",p.eliminarExamen(u.dataMuestras[t])}}}),i()("label.custom-control-label.tx-16[for='r_"+e.CD_EXA_LAB+"']",0!==u.dataMuestras[t].STATUS_RECEP.length?u.dataMuestras[t].FECHA_RECEP:u.dataMuestras[t].STATUS_RECEP)]))])]})]),i()("thead",i()("tr",[i()("th[colspan='2'].text-primary.text-right.bg-light.tx-semibold",{},"IMPRESIÓN ETIQUETAS:")]),i()("tr",[i()("th.text-right[colspan='2']",i()("select.custom-select.wd-30p.tx-semibold",{onchange:function(e){st.impresora=e.target.value},disabled:0===Object.keys(p.logsEnvio).length||p.nuevoPedido?"":"disabled",value:st.impresora},["CAJA1","CAJA2","CAJA3","CAJA4","CAJA5","CAJA6","URGENCIAS","METROLAB"].map(function(e){return i()("option",e)})))]))])),i()("div.pd-10",[i()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:st.disabledToma,onclick:function(){st.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");u.documento.dataRecepcion.usuarioRecep="flebot1",u.documento.dataRecepcion.fechaRecep=e,st.disabledToma=!0,st.udpateStatusTomaMuestra()}},p.nuevoPedido?"Nuevo Pedido LISA":"Guardar y Enviar")])]),i()(".",{class:0!==p.showLogs.length?"":"d-none"},[i()("div.table-responsive.mg-b-10.mg-t-10",i()("table.table.table-dashboard.table-hover.mg-b-0",[i()("thead",i()("tr",[i()("th[colspan='2'].text-primary.text-left",{},"Historial de Envios LISA:")]),i()("tr",[i()("th","EXAMENES:"),i()("th","FECHA Y HORA:"),i()("th.d-none","OPCIONES:")])),i()("tbody",[i()(p)])]))])])])]:[i()("div.pd-t-10",[i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])])]}},b={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&void 0!==e.attrs.idTimeRecord&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,b.numeroPedido=e.attrs.numeroPedido,b.numeroAtencion=e.attrs.numeroAtencion,b.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,b.idTimeRecord=e.attrs.idTimeRecord,b.fetch())},fetch:function(){b.data=[],b.loader=!0,u.fetch()},view:function(e){var t,a;return 0!==b.data.length&&(t=moment(b.data.PedidoExameLab.paciente.dataNascimento),a=moment(),b.data.PedidoExameLab.paciente.anios=a.diff(t,"years")),b.loader?[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(21)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+b.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(21)}),i()("div.content.content-components",{style:{"margin-right":"0px"}},i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+b.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){b.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){b.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){b.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){b.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){window.close()}}))),"R"==b.data.PedidoExameLab.tipoSolicitacao?[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),i()("td",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.codigoPedido),i()("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",i()("br"),i()(".d-inline.tx-danger","Fecha Toma de Muestra:")),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.dataExame,i()("br"),b.data.PedidoExameLab.dataColetaPedido),i()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.descSetorSolicitante)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.descPrestadorSolicitante),i()("th",{style:{"background-color":"#a8bed6"}},"Médico Tratante:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},null!==rt.medico&&!1!==rt.medico?[i()("div.d-inline.tx-semibold.tx-danger",rt.medico.PRESTADOR)]:b.data.PedidoExameLab.descPrestadorSolicitante)])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),i()("td[colspan='5']",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.paciente.nome),i()("th",{style:{"background-color":"#a8bed6"}},"Edad:"),i()("td",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.paciente.anios+" Año(s)"),i()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),i()("td",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.paciente.codigoPaciente)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),i()("td",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.atendimento.codigoAtendimento),i()("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),i()("td",{style:{"background-color":"#eaeff5"}},"F"==b.data.PedidoExameLab.paciente.sexo?"Femenino":"Masculino"),i()("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),i()("td",{style:{"background-color":"#eaeff5"}},b.data.PedidoExameLab.paciente.dataNascimento),i()("th",{style:{"background-color":"#a8bed6"}},"Dg:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(null==b.data.PedidoExameLab.diagnostico.codigoDiagnostico.length?"":"CIE: "+b.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(null==b.data.PedidoExameLab.diagnostico.dsDiagostico.length?"":" - "+b.data.PedidoExameLab.diagnostico.dsDiagostico))]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","EXÁMENES:")]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),i()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},i()(rt))]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),i()("tr.d-print-none",[i()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",{style:{"pointer-events":null!==rt.data?"auto":"none"}},[i()("li.nav-item",i()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),i()("li.nav-item",i()("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},i()("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),i()("li.nav-item",i()("a.nav-link[id='home-recep'][data-toggle='tab'][href='#recep'][role='tab'][aria-controls='recep']",{style:{color:"#476ba3"}},i()("i.fas.fa-inbox.pd-1.mg-r-2")," RECEP. DE MUESTRA ")),i()("li.nav-item",i()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},i()("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),i()("tr.d-print-none",[i()("td[colspan='10']",i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[i()(nt)]),i()(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[i()(dt)]),i()(".tab-pane.fade[id='recep'][role='tabpanel'][aria-labelledby='home-recep']",[i()(st)]),i()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),i()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){it.observaciones=e.target.value},value:it.observaciones}),i()("div.mg-0.mg-t-5.text-right",[i()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==it.observaciones.length?it.sendNotiLab():alert("Observaciones es obligatorio.")}},[i()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),i()("hr.wd-100p.mg-t-5.mg-b-5")]),i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),i()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}};var ct=b,lt={loadPage:"",view:function(e){return window.localStorage.removeItem("updates"),ke.num=0,[i()(z),setTimeout(function(){return i().route.set(lt.loadPage)},300)]}},ut=lt,mt={view:function(e){return[i()("p.mg-0.tx-18",[i()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.NM_PACIENTE]),i()("p.mg-0",[i()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.CD_PACIENTE)]),i()("p.mg-0",[i()("div.tx-15.text-secondary.mg-r-5","N° Atención MV: "+e.attrs.CD_ATENDIMENTO)])]}};var pt={notificaciones:[],pedidos:[],oninit:function(){o.page="",r.page="",d.isAuth()},oncreate:function(){var t;document.title="Formularios Epidemiológicos | "+d.title,ut.loadPage="/laboratorio/formularios",$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-formularios").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/formularios-epis",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"15%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"50%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],width:"35%",orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){i().mount(e.anCells[3],{view:function(){return i()("p.mg-0.tx-12",[i()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.DT_ATENDIMENTO])}}),i().mount(e.anCells[4],{view:function(){return i()(mt,e._aData)}}),i().mount(e.anCells[5],{view:function(){return"313"==e._aData.CD_DOCUMENTO?i()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[i()("a.btn.btn-xs.btn-primary",{href:e._aData.URL,target:"_blank"},[i()("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epi 1")]):i()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[i()("a.btn.btn-xs.btn-primary",{href:e._aData.URL,target:"_blank"},[i()("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epidemiológica")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()})},view:function(){return[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(6)}),i()("div.content.content-components",i()("div.container",[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},["Metrovirtual"])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},["Laboratorio"])),i()("li.breadcrumb-item.active[aria-current='page']","Formularios Epidemiológicos")]),i()("h1.df-title.mg-t-20.mg-b-10","Formularios Epidemiológicos:"),i()("div.row.tx-14",[i()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",i()("div.row",[i()("div.col-sm-12.pd-b-10",i()("div.input-group",[i()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Apellidos y Nombres completos del Paciente'][title='Buscar'][type='text']"),i()("div.input-group-append",i()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[i()("i.icon.ion-md-search")," Buscar "]),i()("button.btn.btn-outline-light[id='resetTable'][type='button']",[i()("i.icon.ion-md-close-circle")," Borrar "]))])),i()("div.col-sm-12.pd-b-10.d-none",i()("div.input-group",[i()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),i()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),i()("div.input-group-append",[i()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[i()("i.icon.ion-md-funnel")," Filtrar "])])]))])),i()("div.col-12",[i()("div.table-loader.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",i()("table.table.table-sm[id='table-formularios'][width='100%']"),i()("table.d-none[id='table-status-formularios'][width='100%']"))])])]))]}},bt=Mr(360),ft={view:function(){return[bt("header",bt("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[bt("div.overlay.op-P9"),bt("div.container",bt("div.row",bt("div.col-md-12")))]),bt("div.toolbar",bt("div.container",bt("div.row",[bt("div.col-6.text-left",bt("a.mt-2.logo.d-none.d-md-block[href='/']",bt("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']")),bt("a.mt-2.d-block.d-md-none[href='/']",bt("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']"))),bt("div.col-6.text-right",[bt(bt.route.Link,{href:"/mi-perfil",class:"nav-link"},[bt("div.features-circle.m-bg-3.text-active.d-inline-flex.align-items-center.justify-content-center.rounded-circle",{style:{height:"50px",width:"50px"}},bt("i.icofont-doctor",{style:{fontSize:"20px"}}))])])]))))]}},f=Mr(360),ht={view:function(){return[f("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[f("div.overlay.op-P9"),f("div.container",f("div.row",f("div.col-md-12",f("div.breadcrumb-inner.align-items-start.flex-column.justify-content-center.d-flex."))))]),f("div.m-bg-1.single-doctor-container.type-2.m-pb-120",f("div.container",[f("div.row",f("div.col-md-12.text-center",[f("div.doctors-image.mb-1.d-inline-block.bg-white.rounded-circle.p-2.s-10-80",f("img[src='assets/images/doctors-image5.jpg'][alt='']")),f("h3.m-mt-10.text-dark.font-weight-bold","Dr. Rojana Rossy"),f("h6.fz-18.text-uppercase.font-weight-normal","Medicina Interna"),f("div.social-icon.mt-3.circle-link.position-relative",[f("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",f("i.icofont-facebook")),f("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",f("i.icofont-twitter")),f("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",f("i.icofont-instagram"))])])),f("div.row.m-mb-60.m-mt-60.",[f("div.col-md-4",f("div.bg-white.mb-0.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[f("span.position-absolute.flaot-icon",f("i.icofont-stethoscope-alt.text-active")),f("h5.m-text-2.mb-3.text-uppercase","Mis Datos"),f("div.media.",f("div.media-body",f("p.m-0.","Mis datos personales y configuración de Perfil.")))])),f("div.col-md-4",f("div.bg-white.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[f("span.position-absolute.flaot-icon",f("i.icofont-stethoscope-alt")),f("h5.m-text-2.mb-3.text-uppercase","Cambio de Contraseña"),f("div.media.",f("div.media-body",f("p.m-0.","Actualización de credenciales de acceso.")))]))]),f("div.row",f("div.col-md-12.text-center.m-mb-50",f("a.btn.bordered-blue.fadeInDown-slide.animated.medim-btn.btn-bordered.mt-0.text-medium.radius-pill.bg-transparent.text-active.text-uppercase.[href='#!/salir']"," Salir ")))])),f("div.button-menu-center.text-center",f("a.btn.fadeInDown-slide.position-relative.animated.pl-4.pr-4.lsp-0.no-border.bg-transparent.medim-btn.grad-bg--3.solid-btn.mt-0.text-medium.radius-pill.text-active.text-white.s-dp-1-2[href='/']",[f("i.icofont-home")," Inicio "]))]}},gt=Mr(360),vt={oninit:function(){if(!V.isLogin())return gt.route.set("/auth")},oncreate:function(){document.title="Mi Perfil | "+d.title},view:function(){return[gt(ft),gt(ht)]}},xt=Mr(360),_t={view:function(){return[xt("div.content.content-fixed.content-auth-alt",xt("div.container.ht-100p.tx-center",xt("div.ht-100p.d-flex.flex-column.align-items-center.justify-content-center",[xt("div.wd-70p.wd-sm-250.wd-lg-300.mg-b-15",xt("img.img-fluid[src='assets/dashforge/img/img19.png'][alt='']")),xt("h1.tx-color-01.tx-24.tx-sm-32.tx-lg-36.mg-xl-b-5","404 Página no encontrada"),xt("h5.tx-16.tx-sm-18.tx-lg-20.tx-normal.mg-b-20","Oopps. La página que estabas buscando no existe."),xt("p.tx-color-03.mg-b-30","Es posible que haya escrito mal la dirección o que la página se haya movido. Regresa al inicio."),xt("div.d-flex.mg-b-40",[xt("a.button.btn.btn-brand-02.bd-0.mg-l-5.pd-sm-x-25[href='/']","Ir al Inicio")]),xt("span.tx-12.tx-color-03",[d.title,xt("a[href='https://www.hospitalmetropolitano.org']"," Hospital Metropolitano")])])))]}},yt={view:function(){var e=B.getDataUser();if(null!==e&&0!==e.length)return[i()("li.bg-primary.wd-100p.nav-item.d-none",i()(i().route.Link,{href:"/inicio",class:"nav-link"},[i()("i[data-feather='layout']")," Inicio "]))]}},wt={view:function(e){return void 0!==e.children[0].modulo&&"farmacia"==e.children[0].modulo?(e.children[0].modulo="Farmacia",e.children[0].icon="fas fa-pills",e.children[0].href="farmacia"):void 0!==e.children[0].modulo&&"laboratorio"==e.children[0].modulo?(e.children[0].modulo="Laboratorio",e.children[0].icon="fas fa-microscope",e.children[0].href="laboratorio"):void 0!==e.children[0].modulo&&"imagen"==e.children[0].modulo?(e.children[0].modulo="Imagen",e.children[0].icon="fas fa-file-prescription",e.children[0].href="imagen"):void 0!==e.children[0].modulo&&"emergencia"==e.children[0].modulo?(e.children[0].modulo="Emergencia",e.children[0].icon="fas fa-first-aid",e.children[0].href="emergencia"):void 0!==e.children[0].modulo&&"bco-sangre"==e.children[0].modulo?(e.children[0].icon="fas fa-burn",e.children[0].modulo="Bco. de Sangre",e.children[0].href="bco-sangre"):void 0!==e.children[0].modulo&&"terapia-respiratoria"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Terapia Respiratoria",e.children[0].href="terapia-respiratoria"):void 0!==e.children[0].modulo&&"neurofisiologia"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Neurofisiología",e.children[0].href="neurofisiologia"):void 0!==e.children[0].modulo&&"hospitalizacion"==e.children[0].modulo?(e.children[0].icon="fas fa-procedures",e.children[0].modulo="Hospitalizacion",e.children[0].href="hospitalizacion"):void 0!==e.children[0].modulo&&"admisiones"==e.children[0].modulo?(e.children[0].icon="fas fa-folder-open",e.children[0].modulo="Adimisones",e.children[0].href="admisiones"):void 0!==e.children[0].modulo&&"mantenimiento"==e.children[0].modulo?(e.children[0].icon="fas fa-h-square ",e.children[0].modulo="Mantenimento",e.children[0].href="mantenimiento"):void 0!==e.children[0].modulo&&"endoscopia"==e.children[0].modulo?(e.children[0].icon="fas fa-compact-disc",e.children[0].modulo="Endoscopìa",e.children[0].href="endoscopia"):void 0!==e.children[0].modulo&&"patologia"==e.children[0].modulo?(e.children[0].icon="fas fa-microscope",e.children[0].modulo="Patología",e.children[0].href="patologia"):void 0!==e.children[0].modulo&&"contabilidad"==e.children[0].modulo?(e.children[0].icon="fas fa-book",e.children[0].modulo="Contabilidad",e.children[0].href="contabilidad"):(e.children[0].icon="fas fa-hospital",e.children[0].href=e.children[0].modulo.charAt(0).toUpperCase(),e.children[0].modulo=e.children[0].modulo.charAt(0).toUpperCase()+e.children[0].modulo.slice(1)),[i()("li",{class:"list-item bg-white wd-50p",style:{cursor:"pointer"},onclick:function(){i().route.set(e.children[0].href,{})}},[i()("div",{class:"media"},[i()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},i()("i",{class:e.children[0].icon+" tx-30 tx-white"})),i()("div",{class:"media-body mg-l-15"},[i()("p",{class:"tx-18 mg-b-0"},e.children[0].modulo),i()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a "+e.children[0].modulo)])])])]}},Mt={isContent:!1,view:function(){yt.isContent=!1;var o=B.getDataUser();if(null!==o&&0!==o.length)return[Object.keys(o.modulesAccess).map(function(e,t,a){return 0!==o.modulesAccess[e].length?(yt.isContent=!0,i()(wt,o.modulesAccess[e])):Object.keys(o.modulesAccess).length!=t+1||yt.isContent?void 0:[i()("p.df-lead.pd-15","Todavía no tienes acceso a ningún Módulo disponible. Comunícate a CONCAS Ext: 2020 y solicita activación. Att: Metrovirtual Plus.")]})]}};var Et={oninit:function(){o.page="",d.isAuth()},oncreate:function(){function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}var t;document.title="Inicio | "+d.title,feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))})},view:function(){return[i()("header.navbar.navbar-header.navbar-header-fixed",[i()("div.navbar-brand",i()(i().route.Link,{href:"/",class:"df-logo"},["Metro",i()("span","Plus+")])),i()(".navbar-menu-wrapper[id='navbarMenu']",[i()("div.navbar-menu-header",[i()(i().route.Link,{href:"/",class:"df-logo"},["Metro",i()("span","Plus+")]),i()("a[id='mainMenuClose'][href='']",i()("i[data-feather='x']"))]),i()("ul.nav.navbar-menu",[i()("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),i()(yt)])]),i()(Ae)]),i()("div.content.content-components",{},i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},["MetroPlus"])),i()("li.breadcrumb-item.active[aria-current='page']","Inicio")]),i()("h1.df-title.mg-t-20.mg-b-10","Inicio:"),i()("div.row.tx-14",[i()(Mt)])]))]}},Pt=Mr(360),kt={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.emergencia.map(function(e,t,a){return[Pt(Pt.route.Link,{href:"/"+e.href,class:Dt.page==e.idModulo?"active":""},[e.label])]})]}},Dt={page:"",setPage:function(e){Dt.page=e},view:function(){return[Pt(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Pt("div.sidebar-header",[Pt("a[href=''][id='mainMenuOpen']",Pt("i[data-feather='menu']")),Pt("h5","Menu"),Pt("a[href=''][id='sidebarMenuClose']",Pt("i[data-feather='x']"))]),Pt("div.sidebar-body",Pt("ul.sidebar-nav",[Pt("li.nav-label.mg-b-15","Emergencia"),Pt("li.nav-item.show",[Pt(Pt.route.Link,{href:"/emergencia",class:"nav-link with-sub"},[Pt("i[data-feather='layout']"),"Emergencia"]),Pt("nav.nav",[Pt(kt)])])]))])]}},Tt=Dt,At=Mr(360),St={view:function(){return[At("div.content.content-components",At("div.container",[At("ol.breadcrumb.df-breadcrumbs.mg-b-10",[At("li.breadcrumb-item",At(At.route.Link,{href:"/"},["Metrovirtual"])),At("li.breadcrumb-item.active[aria-current='page']","Emergencia")]),At("h1.df-title.mg-t-20.mg-b-10","Emergencia:"),At("div.row.tx-14",[At("div.col-sm-6.mg-b-20",At("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[At("div.mg-b-25",At("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),At("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Auxiliar"),At(At.route.Link,{href:"/emergencia/auxiliar/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Auxiliar",At("i.icon.ion-md-arrow-forward.mg-l-5")])])),At("div.col-sm-6..mg-b-20",At("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[At("div.mg-b-25",At("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),At("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Enfermería"),At(At.route.Link,{href:"/emergencia/enfermeria/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Enfermería",At("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]))]}},Ct={oninit:function(){o.page="",Tt.page="",d.isAuth()},oncreate:function(){document.title="Emergencia | "+d.title},view:function(){return[At(o,{oncreate:o.setPage("emergencia")}),At(Tt),At(St)]}},It={view:function(e){return[i()("p.mg-0.tx-18",[i()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.PTE_MV]),i()("p.mg-0",[i()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.HC_MV)]),i()("p.mg-0",[i()("div.tx-15.text-secondary.mg-r-5","N° Pedido MV: "+e.attrs.NUM_PEDIDO_MV)])]}};var Nt={notificaciones:[],pedidos:[],oninit:function(){o.page="",Tt.page="",d.isAuth("emergencia",2)},oncreate:function(){var t;document.title="Pedidos de Laboratorio | "+d.title,ut.loadPage="/emergencia/pedidos",$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){i().mount(e.anCells[3],{view:function(){return i()("p.mg-0.tx-12",[i()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO])}}),i().mount(e.anCells[4],{view:function(){return i()(It,e._aData)}}),i().mount(e.anCells[5],{view:function(){return i()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[i()(i().route.Link,{href:"/emergencia/auxiliar/pedido/"+e._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[i()("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){i().mount(e.anCells[0],{view:function(){return i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:function(){i().route.set("/emergencia/auxiliar/pedido/"+e._aData.idPedido)}},[i()("div.toast-header.bg-danger",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),i()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e._aData.message.substring(0,10)+"...")]))}})})}})},view:function(){return[i()(o,{oncreate:o.setPage("emergencia")}),i()(Tt,{oncreate:Tt.setPage(2)}),i()("div.content.content-components",i()("div.container",[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()("a[href='#']","Metrovirtual")),i()("li.breadcrumb-item",i()("a",{href:"#!/emergencia"},"Emergencia")),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Auxiliar")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Auxiliar:"),i()("div.row.tx-14",[i()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",i()("div.row",[i()("div.col-sm-12.pd-b-10",i()("div.input-group",[i()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),i()("div.input-group-append",i()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[i()("i.icon.ion-md-search")," Buscar "]),i()("button.btn.btn-outline-light[id='resetTable'][type='button']",[i()("i.icon.ion-md-close-circle")," Borrar "]))])),i()("div.col-sm-12.pd-b-10.d-none",i()("div.input-group",[i()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),i()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),i()("div.input-group-append",[i()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[i()("i.icon.ion-md-funnel")," Filtrar "])])]))])),i()("div.col-12",[i()("div.table-loader.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",i()("table.table.table-sm[id='table-pedidos'][width='100%']"),i()("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),i()("div.section-nav",[i()("label.nav-label","Notificaciones"),i()("nav.nav.flex-column[id='navSection']",[i()("table.table.table-sm[id='table-notificaciones'][width='100%']")]),i()("label.nav-label.mg-t-20.tx-center.d-none",[i()("a",{href:"#!/notificaciones-lab"},"Ver Todo")])])]}},Lt={data:!1,fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+Ot.idPedido}).then(function(e){Lt.data=e.data,moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({data:Lt.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){i().mount(e.anCells[0],{view:function(){return"Nuevo Mensaje"==e._aData.title?i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[i()("div.toast-header.bg-primary",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),i()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e._aData.message)])):i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[i()("div.toast-header.bg-danger",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),i()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e._aData.message)]))}})})}})}).catch(function(e){})},view:function(){return Lt.data?0==Lt.data.length?i()("p","Sin Notificaciones"):0!==Lt.data.length?Lt.data.map(function(e,t,a){if(t<4)return"Nuevo Mensaje"==e.title?i()("div.demo-static-toast.mg-b-5",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[i()("div.toast-header.bg-primary",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),i()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e.message)])):i()("div.demo-static-toast.mg-b-5",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[i()("div.toast-header.bg-danger",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),i()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e.message)]))}):void 0:i()("p.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])}},Rt={messagePedido:null,oncreate:function(){Lt.fetch()},sendMessage:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+Ot.idPedido,body:{dataPedido:Ft.data,message:Rt.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Rt.messagePedido="",Lt.fetch(),alert("Mensaje enviado con éxito."),Yt())}).catch(function(e){h.error=e.message})},view:function(){return i()("table.table.table-sm[id='table-notificaciones'][width='100%']")}},Ft={data:[],detalle:[],error:"",numPedido:0,fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+Ot.idPedido}).then(function(e){Ft.data=e.data,e.data.DESCRIPCION.map(function(e,t,a){Ft.detalle.push(e),h.detalle.push(e),-1!==e.indexOf("-R-")&&(Ft.numPedido=Ft.numPedido+1)})}).catch(function(e){Ft.error=e.message})},view:function(){if(0!==h.detalle.length)return Ft.detalle.map(function(e,t,a){return-1!==h.detalle[t].indexOf("...")?i()("p.mg-0",Ft.detalle[t]+" "+h.detalle[t].split("...")[1]):i()("p.mg-0",Ft.detalle[t])})}},h={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:function(){return[i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:h.checkedAll,onclick:function(e){h.seleccionarTodos(this.checked)}}),i()("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),h.detalle.map(function(e,t,a){return-1!==e.indexOf("...")?i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='"+Ot.idPedido+"-"+t+"']",{checked:!0,onclick:function(e){this.checked||(h.detalle[t]=Ft.detalle[t],g.statusPedido=3,g.classPedido="tx-warning",g.descPedido="Muestras Pendientes",h.checkedAll=!1),h.updateDataPedido()},onupdate:function(e){-1!==h.detalle[t].indexOf("...")?(Ft.detalle[t],h.detalle[t].split("...")[1]):Ft.detalle[t]}}),i()("label.custom-control-label[for='"+Ot.idPedido+"-"+t+"']",-1!==h.detalle[t].indexOf("...")?Ft.detalle[t]+h.detalle[t].split("...")[1]:Ft.detalle[t])]):i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='"+Ot.idPedido+"-"+t+"']",{onclick:function(e){this.checked&&(h.detalle[t]=Ft.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),h.updateDataPedido()},onupdate:function(e){-1!==h.detalle[t].indexOf("...")?(Ft.detalle[t],h.detalle[t].split("...")[1]):Ft.detalle[t]}}),i()("label.custom-control-label[for='"+Ot.idPedido+"-"+t+"']",-1!==h.detalle[t].indexOf("...")?Ft.detalle[t]+h.detalle[t].split("...")[1]:Ft.detalle[t])])})]},oninit:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+Ot.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(h.detalle=e.data,Lt.fetch())}).catch(function(e){h.error=e.message})},updateDataPedido:function(){h.validarStatus(),i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+Ot.idPedido,body:{dataPedido:h.detalle,statusPedido:g.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(h.detalle=e.data,h.validarStatus())}).catch(function(e){h.error=e.message})},sendNotiLab:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+Ot.idPedido,body:{dataPedido:Ft.data,message:h.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(h.observaciones="",Lt.fetch(),alert("Mensaje enviado con éxito."),Yt())}).catch(function(e){h.error=e.message})},validarStatus:function(){h.detalle.map(function(e,t,a){-1!==e.indexOf("...")?0:0})},seleccionarTodos:function(o){return h.detalle.map(function(e,t,a){o?(h.detalle[t]=Ft.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(Ot.idPedido+"-"+t).checked=!0):(h.detalle[t]=Ft.detalle[t],document.getElementById(Ot.idPedido+"-"+t).checked=!1),h.detalle.length===t+1&&h.updateDataPedido()})}},g={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:function(){Ft.fetch()},view:function(){return Ft.error?[i()(".alert.alert-danger[role='alert']",Ft.error)]:0!==Ft.detalle.length?[i()("p.mg-5.tx-20",[i()("i.fas.fa-user.mg-r-5.text-secondary"),Ft.data.NOMBRE_PACIENTE]),i()("p.mg-5.tx-15",["Fecha Pedido: "+Ft.data.FECHA_PEDIDO,2===g.statusPedido?[i()("span.tx-indigo.tx-semibold"," Usuario: "+V.user.user)]:""]),i()("p.mg-5",[i()("span.badge.badge-primary.mg-r-5.tx-14","HC: "+Ft.data.HC)]),i()("p.mg-5","Opciones Disponibles:"),i()("hr.wd-100p.mg-t-0.mg-b-5"),i()("p.mg-5.text-right",[i()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){g.ver=!0,g.editar=!1,g.entregar=!1,g.enviar=!1,g.nuevoMensaje=!1,g.labelOperation="Detalle:"}},[i()("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),i()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){g.ver=!1,g.editar=!1,g.entregar=!0,g.enviar=!1,g.nuevoMensaje=!1,g.labelOperation="Entregar Muestras:",v.status="Entregada"}},[i()("i.fas.fa-user-edit.mg-r-5")],"Entregar Muestras"),i()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){g.ver=!1,g.editar=!1,g.entregar=!1,g.enviar=!1,g.nuevoMensaje=!0,g.labelOperation="Nuevo Mensaje:"}},[i()("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14",g.labelOperation)]),i()("p.mg-5."+(g.ver||g.nuevoMensaje?"":"d-none"),[i()(Ft)]),i()("p.mg-5.d-none",[i()(h)]),i()("hr.wd-100p.mg-t-0.mg-b-5"),i()("p.mg-5."+(g.entregar||g.enviar?"":"d-none"),[i()(v)]),i()("p.mg-5."+(g.ver?"":"d-none"),[i()("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),i()(Rt)]),i()("p.mg-5."+(g.nuevoMensaje?"":"d-none"),[i()("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),i()("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(e){Rt.messagePedido=e.target.value},value:Rt.messagePedido}),i()("div.mg-0.mg-t-5.text-right",[i()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==Rt.messagePedido.length?Rt.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[i()("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),i()("hr.wd-100p.mg-t-0.mg-b-5")]:i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])}},Ot={idPedido:null,oninit:function(e){d.isAuth(),o.page="",Tt.page="",Ot.idPedido=e.attrs.idPedido,Ft.data=[],Ft.detalle=[],h.detalle=[]},oncreate:function(){document.title="Detalle Pedido N°: "+Ot.idPedido+" | "+d.title},view:function(){return[i()(o,{oncreate:o.setPage("emergencia")}),i()(Tt),i()("div.content.content-components",i()("div.container",[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},["Metrovirtual"])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},["Laboratorio"])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle")]),i()("h1.df-title","Detalle de Pedido N°: "+Ot.idPedido),i()("div.row.tx-14",[i()("div.col-12",i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("div.mg-b-25",i()("i.tx-60.fas.fa-file."+g.classPedido)),i()("h5.tx-inverse.mg-b-20","Detalle de Pedido N°: "+Ot.idPedido+" - Status: "+g.descPedido),i()(g)]))])])),i()("div.section-nav",[i()("label.nav-label","Notificaciones"),i()("nav.nav.flex-column[id='navSection']",[i()(Lt)])])]}},Ht={numero:0,items:[],oninit:function(e){e=e.attrs._id;console.log("idc",e),Ht.items[e]={numero:0}},view:function(e){var t=e.attrs._id;return[i()("div.card.text-right",i()("div.card-body",[i()("h5.card-title",Ht.items[t].numero),i()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){Ht.items[t].numero=Ht.items[t].numero+1}},"+"),i()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){Ht.items[t].numero=Ht.items[t].numero-1}},"-")]))]}},v={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+Ot.idPedido,body:{dataPedido:v.muestras,statusPedido:g.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(g.statusPedido=e.statusPedido,v.detalle=e.data,v.validarStatus())}).catch(function(e){v.error=e.message})},view:function(){if(0!==v.detalle.length)return[i()("div.custom-control.custom-checkbox.tx-18",[i()("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:v.checkedAll,onclick:function(e){v.seleccionarTodos(this.checked)}}),i()("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),i()("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(v.detalle).map(function(t){var a=v.muestras[t].toLowerCase().replaceAll(" ","_");return-1!==v.detalle[t].indexOf("...")?(void 0!==Ht.items[a]&&(Ht.items[a].numero=parseFloat(v.detalle[t].split("...")[2])),[i()(Ht,{_id:a}),i()("div.pd-25.custom-control.custom-checkbox.tx-18",[i()("input.custom-control-input[type='checkbox'][id='"+v.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(e){this.checked||(g.statusPedido=1,v.checkedAll=!1,v.detalle[t]=v.muestras[t],Ht.items[v.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),v.updateDataMuestras()},onupdate:function(e){-1!==v.detalle[t].indexOf("...")?(v.muestras[t],v.detalle[t].split("...")[1]):v.muestras[t]}}),i()("label.custom-control-label[for='"+v.detalle[t].toLowerCase().replaceAll(" ","_")+"']",-1!==v.detalle[t].indexOf("...")?v.muestras[t]+v.detalle[t].split("...")[1]:v.detalle[t])]),i()("hr.wd-100p.mg-t-0.mg-b-5")]):[i()(Ht,{_id:a}),i()("div.pd-25.custom-control.custom-checkbox.tx-18",[i()("input.custom-control-input[type='checkbox'][id='"+v.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(e){this.checked&&(g.statusPedido=2,v.detalle[t]=v.muestras[t]+" ... - "+v.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+Ht.items[a].numero),v.updateDataMuestras()},onupdate:function(e){-1!==v.detalle[t].indexOf("...")?(v.muestras[t],v.detalle[t].split("...")[1]):v.muestras[t]}}),i()("label.custom-control-label[for='"+v.detalle[t].toLowerCase().replaceAll(" ","_")+"']",v.detalle[t])]),i()("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:function(a){return a?(g.statusPedido=2,v.checkedAll=!0):(g.statusPedido=1,v.checkedAll=!1),[Object.keys(v.detalle).map(function(e){var t=v.detalle[e].toLowerCase().replaceAll(" ","_");a?(v.detalle[e]=v.muestras[e]+" ... - "+v.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(t).checked=!0):(v.detalle[e]=v.muestras[e],document.getElementById(t).checked=!1)}),v.updateDataMuestras()]},validarStatus:function(){1==g.statusPedido&&(g.classPedido="tx-gray-500",g.descPedido="Pendiente"),2==g.statusPedido&&(g.classPedido="tx-primary",g.descPedido="Gestionado");var t=0;Object.keys(v.detalle).map(function(e){-1===v.detalle[e].indexOf("...")?(t+=1,Object.keys(v.detalle).length===t&&t===Object.keys(v.detalle).length&&(g.statusPedido,g.classPedido="tx-gray-500",g.descPedido="Pendiente")):(g.statusPedido=2,g.classPedido="tx-primary",g.descPedido="Gestionado")})},updateDataMuestras:function(){return[v.validarStatus(),i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+Ot.idPedido,body:{dataPedido:v.detalle,statusPedido:g.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(v.detalle=e.data,v.validarStatus())}).catch(function(e){v.error=e.message})]}};function Yt(){var e=$("#table-notificaciones").DataTable();e.clear(),e.rows.add(Lt.data).draw()}var jt=Ot,Ut={data:{pedidos:[],notificaciones:[]},fetchPedidos:function(){i().request({method:"GET",url:" https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio?start=0&length=10"}).then(function(e){Ut.data.pedidos=e.data,Ut.fetchNotificaciones()}).catch(function(e){})},fetchNotificaciones:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos?start=0&length=6"}).then(function(e){Ut.data.notificaciones=e.data,null==localStorage.updates&&B.setData(Ut.data),Ut.notificar()}).catch(function(e){})},fetch:function(){Ut.fetchPedidos()},notificar:function(){for(var e=B.getData(),t=0;t<Ut.data.notificaciones.length;t++){for(var a=!1,o=0;o<e.notificaciones.length&!a;o++)Ut.data.notificaciones[t].id==e.notificaciones[o].id&&(a=!0);a||!function(e){{var t,a,o;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),ke.setNot(),a=JSON.parse(e.dataPedido),t="Metrovirtual: "+e.title,a={icon:"assets/favicon.ico",body:"Pedido N°: "+e.idPedido+"\nHC: "+a.HC+"\nPte: "+a.NOMBRE_PACIENTE},(o=new Notification(t,a)).onclick=function(){i().route.set("/emergencia/enfermeria/pedido/"+e.idPedido)},o.onclose={},setTimeout(function(){o.close()},3e4))}}(Ut.data.notificaciones[t])}for(t=0;t<Ut.data.pedidos.length;t++){for(a=!1,o=0;o<e.pedidos.length&!a;o++)Ut.data.pedidos[t].NUM_PEDIDO_MV==e.pedidos[o].NUM_PEDIDO_MV&&(a=!0);a||!function(e){{var t,a;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),ke.setNot(),t={icon:"assets/favicon.ico",body:"Pedido N°: "+e.NUM_PEDIDO_MV+"\nHC: "+e.HC_MV+"\nPte: "+e.PTE_MV},(a=new Notification("Metrovirtual: Nuevo Pedido",t)).onclick=function(){i().route.set("/emergencia/enfermeria/pedido/"+e.NUM_PEDIDO_MV)},a.onclose={},setTimeout(function(){a.close()},3e4))}}(Ut.data.pedidos[t])}B.setData(Ut.data),setTimeout(function(){console.log("updates",Ut.data),Ut.fetch()},5e3)}},$t={view:function(e){return[i()("p.mg-0.tx-18",[i()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.PTE_MV]),i()("p.mg-0",[i()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.HC_MV)]),i()("p.mg-0",[i()("div.tx-15.text-secondary.mg-r-5","N° Pedido MV: "+e.attrs.NUM_PEDIDO_MV)])]}};var Bt={notificaciones:[],pedidos:[],oninit:function(){o.page="",Tt.page="",d.isAuth("emergencia",4)},oncreate:function(){function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}var t,a,o;function n(){window.location.reload()}function r(){clearTimeout(o),o=setTimeout(n,3e5)}document.title="Pedidos de Laboratorio | "+d.title,ut.loadPage="/emergencia/pedidos",Ut.fetch(),feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))}),$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",a=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){i().mount(e.anCells[3],{view:function(){return i()("p.mg-0.tx-12",[i()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO])}}),i().mount(e.anCells[4],{view:function(){return i()($t,e._aData)}}),i().mount(e.anCells[5],{view:function(){return i()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[i()(i().route.Link,{href:"/emergencia/enfermeria/pedido/"+e._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[i()("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),a.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),a.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),a.search("").draw()}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){i().mount(e.anCells[0],{view:function(){return i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:function(){i().route.set("/emergencia/enfermeria/pedido/"+e._aData.idPedido)}},[i()("div.toast-header.bg-danger",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),i()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e._aData.message.substring(0,10)+"...")]))}})})}}),window.onload=r,window.onmousemove=r,window.onmousedown=r,window.ontouchstart=r,window.ontouchmove=r,window.onclick=r,window.onkeydown=r,window.addEventListener("scroll",r,!0)},view:function(){return[i()(o,{oncreate:o.setPage("emergencia")}),i()(Tt,{oncreate:Tt.setPage(4)}),i()("div.content.content-components",i()("div.container",[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},["Metrovirtual"])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/emergencia"},["Emergencia"])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Enfermería")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Enfermería:"),i()("div.row.tx-14",[i()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",i()("div.row",[i()("div.col-sm-12.pd-b-10",i()("div.input-group",[i()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),i()("div.input-group-append",i()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[i()("i.icon.ion-md-search")," Buscar "]),i()("button.btn.btn-outline-light[id='resetTable'][type='button']",[i()("i.icon.ion-md-close-circle")," Borrar "]))])),i()("div.col-sm-12.pd-b-10.d-none",i()("div.input-group",[i()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),i()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),i()("div.input-group-append",[i()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[i()("i.icon.ion-md-funnel")," Filtrar "])])]))])),i()("div.col-12",[i()("div.table-loader.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",i()("table.table.table-sm[id='table-pedidos'][width='100%']"),i()("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),i()("div.section-nav",[i()("label.nav-label","Notificaciones"),i()("nav.nav.flex-column[id='navSection']",[i()("table.table.table-sm[id='table-notificaciones'][width='100%']")]),i()("label.nav-label.mg-t-20.tx-center.d-none",[i()(i().route.Link,{href:"/notificaciones-lab"},["Ver Todo"])])])]}},Vt={data:!1,fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+qt.idPedido}).then(function(e){Vt.data=e.data,moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({data:Vt.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){i().mount(e.anCells[0],{view:function(){return"Nuevo Mensaje"==e._aData.title?i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[i()("div.toast-header.bg-primary",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),i()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e._aData.message)])):i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[i()("div.toast-header.bg-danger",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),i()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e._aData.message)]))}})})}})}).catch(function(e){})},view:function(){return Vt.data?0==Vt.data.length?i()("p","Sin Notificaciones"):0!==Vt.data.length?Vt.data.map(function(e,t,a){if(t<4)return"Nuevo Mensaje"==e.title?i()("div.demo-static-toast.mg-b-5",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[i()("div.toast-header.bg-primary",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),i()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e.message)])):i()("div.demo-static-toast.mg-b-5",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[i()("div.toast-header.bg-danger",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),i()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e.message)]))}):void 0:i()("p.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])}},Jt={messagePedido:null,oncreate:function(){Vt.fetch()},sendMessage:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+qt.idPedido,body:{dataPedido:zt.data,message:Jt.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Jt.messagePedido="",Vt.fetch(),alert("Mensaje enviado con éxito."),Gt())}).catch(function(e){x.error=e.message})},view:function(){return i()("table.table.table-sm[id='table-notificaciones'][width='100%']")}},zt={data:[],detalle:[],error:"",numPedido:0,fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+qt.idPedido}).then(function(e){zt.data=e.data,e.data.DESCRIPCION.map(function(e,t,a){zt.detalle.push(e),x.detalle.push(e),-1!==e.indexOf("-R-")&&(zt.numPedido=zt.numPedido+1)})}).catch(function(e){zt.error=e.message})},view:function(){if(0!==x.detalle.length)return zt.detalle.map(function(e,t,a){return-1!==x.detalle[t].indexOf("...")?i()("p.mg-0",zt.detalle[t]+" "+x.detalle[t].split("...")[1]):i()("p.mg-0",zt.detalle[t])})}},x={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:function(){return[i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:x.checkedAll,onclick:function(e){x.seleccionarTodos(this.checked)}}),i()("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),x.detalle.map(function(e,t,a){return-1!==e.indexOf("...")?i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='"+qt.idPedido+"-"+t+"']",{checked:!0,onclick:function(e){this.checked||(x.detalle[t]=zt.detalle[t],_.statusPedido=3,_.classPedido="tx-warning",_.descPedido="Muestras Pendientes",x.checkedAll=!1),x.updateDataPedido()},onupdate:function(e){-1!==x.detalle[t].indexOf("...")?(zt.detalle[t],x.detalle[t].split("...")[1]):zt.detalle[t]}}),i()("label.custom-control-label[for='"+qt.idPedido+"-"+t+"']",-1!==x.detalle[t].indexOf("...")?zt.detalle[t]+x.detalle[t].split("...")[1]:zt.detalle[t])]):i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='"+qt.idPedido+"-"+t+"']",{onclick:function(e){this.checked&&(x.detalle[t]=zt.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),x.updateDataPedido()},onupdate:function(e){-1!==x.detalle[t].indexOf("...")?(zt.detalle[t],x.detalle[t].split("...")[1]):zt.detalle[t]}}),i()("label.custom-control-label[for='"+qt.idPedido+"-"+t+"']",-1!==x.detalle[t].indexOf("...")?zt.detalle[t]+x.detalle[t].split("...")[1]:zt.detalle[t])])})]},oninit:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+qt.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(x.detalle=e.data,Vt.fetch())}).catch(function(e){x.error=e.message})},updateDataPedido:function(){x.validarStatus(),i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+qt.idPedido,body:{dataPedido:x.detalle,statusPedido:_.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(x.detalle=e.data,x.validarStatus())}).catch(function(e){x.error=e.message})},sendNotiLab:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+qt.idPedido,body:{dataPedido:zt.data,message:x.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(x.observaciones="",Vt.fetch(),alert("Mensaje enviado con éxito."),Gt())}).catch(function(e){x.error=e.message})},validarStatus:function(){x.detalle.map(function(e,t,a){-1!==e.indexOf("...")?0:0})},seleccionarTodos:function(o){return x.detalle.map(function(e,t,a){o?(x.detalle[t]=zt.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(qt.idPedido+"-"+t).checked=!0):(x.detalle[t]=zt.detalle[t],document.getElementById(qt.idPedido+"-"+t).checked=!1),x.detalle.length===t+1&&x.updateDataPedido()})}},_={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:function(){zt.fetch()},view:function(){return zt.error?[i()(".alert.alert-danger[role='alert']",zt.error)]:0!==zt.detalle.length?[i()("p.mg-5.tx-20",[i()("i.fas.fa-user.mg-r-5.text-secondary"),zt.data.NOMBRE_PACIENTE]),i()("p.mg-5.tx-15",["Fecha Pedido: "+zt.data.FECHA_PEDIDO,2===_.statusPedido?[i()("span.tx-indigo.tx-semibold"," Usuario: "+V.user.user)]:""]),i()("p.mg-5",[i()("span.badge.badge-primary.mg-r-5.tx-14","HC: "+zt.data.HC)]),i()("p.mg-5","Opciones Disponibles:"),i()("hr.wd-100p.mg-t-0.mg-b-5"),i()("p.mg-5.text-right",[i()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){_.ver=!0,_.editar=!1,_.entregar=!1,_.enviar=!1,_.nuevoMensaje=!1,_.labelOperation="Detalle:"}},[i()("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),i()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){_.ver=!1,_.editar=!1,_.entregar=!0,_.enviar=!1,_.nuevoMensaje=!1,_.labelOperation="Enviar Muestras:",y.status="Enviada"}},[i()("i.fas.fa-user-edit.mg-r-5")],"Enviar Muestras"),i()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){_.ver=!1,_.editar=!1,_.entregar=!1,_.enviar=!1,_.nuevoMensaje=!0,_.labelOperation="Nuevo Mensaje:"}},[i()("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14",_.labelOperation)]),i()("p.mg-5."+(_.ver||_.nuevoMensaje?"":"d-none"),[i()(zt)]),i()("p.mg-5.d-none",[i()(x)]),i()("hr.wd-100p.mg-t-0.mg-b-5"),i()("p.mg-5."+(_.entregar||_.enviar?"":"d-none"),[i()(y)]),i()("p.mg-5."+(_.ver?"":"d-none"),[i()("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),i()(Jt)]),i()("p.mg-5."+(_.nuevoMensaje?"":"d-none"),[i()("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),i()("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(e){Jt.messagePedido=e.target.value},value:Jt.messagePedido}),i()("div.mg-0.mg-t-5.text-right",[i()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==Jt.messagePedido.length?Jt.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[i()("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),i()("hr.wd-100p.mg-t-0.mg-b-5")]:i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])}},qt={idPedido:null,oninit:function(e){d.isAuth(),o.page="",Tt.page="",qt.idPedido=e.attrs.idPedido,zt.data=[],zt.detalle=[],x.detalle=[]},oncreate:function(){document.title="Detalle Pedido N°: "+qt.idPedido+" | "+d.title},view:function(){return[i()(o,{oncreate:o.setPage("emergencia")}),i()(Tt),i()("div.content.content-components",i()("div.container",[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},["Metrovirtual"])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},["Laboratorio"])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle")]),i()("h1.df-title","Detalle de Pedido N°: "+qt.idPedido),i()("div.row.tx-14",[i()("div.col-12",i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("div.mg-b-25",i()("i.tx-60.fas.fa-file."+_.classPedido)),i()("h5.tx-inverse.mg-b-20","Detalle de Pedido N°: "+qt.idPedido+" - Status: "+_.descPedido),i()(_)]))])])),i()("div.section-nav",[i()("label.nav-label","Notificaciones"),i()("nav.nav.flex-column[id='navSection']",[i()(Vt)])])]}},Xt={numero:0,items:[],oninit:function(e){e=e.attrs._id;console.log("idc",e),Xt.items[e]={numero:0}},view:function(e){var t=e.attrs._id;return[i()("div.card.text-right",i()("div.card-body",[i()("h5.card-title",Xt.items[t].numero),i()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){Xt.items[t].numero=Xt.items[t].numero+1}},"+"),i()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){Xt.items[t].numero=Xt.items[t].numero-1}},"-")]))]}},y={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+qt.idPedido,body:{dataPedido:y.muestras,statusPedido:_.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(_.statusPedido=e.statusPedido,y.detalle=e.data,y.validarStatus())}).catch(function(e){y.error=e.message})},view:function(){if(0!==y.detalle.length)return[i()("div.custom-control.custom-checkbox.tx-18",[i()("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:y.checkedAll,onclick:function(e){y.seleccionarTodos(this.checked)}}),i()("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),i()("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(y.detalle).map(function(t){var a=y.muestras[t].toLowerCase().replaceAll(" ","_");return-1!==y.detalle[t].indexOf("...")?(void 0!==Xt.items[a]&&(Xt.items[a].numero=parseFloat(y.detalle[t].split("...")[2])),[i()(Xt,{_id:a}),i()("div.pd-25.custom-control.custom-checkbox.tx-18",[i()("input.custom-control-input[type='checkbox'][id='"+y.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(e){this.checked||(_.statusPedido=1,y.checkedAll=!1,y.detalle[t]=y.muestras[t],Xt.items[y.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),y.updateDataMuestras()},onupdate:function(e){-1!==y.detalle[t].indexOf("...")?(y.muestras[t],y.detalle[t].split("...")[1]):y.muestras[t]}}),i()("label.custom-control-label[for='"+y.detalle[t].toLowerCase().replaceAll(" ","_")+"']",-1!==y.detalle[t].indexOf("...")?y.muestras[t]+y.detalle[t].split("...")[1]:y.detalle[t])]),i()("hr.wd-100p.mg-t-0.mg-b-5")]):[i()(Xt,{_id:a}),i()("div.pd-25.custom-control.custom-checkbox.tx-18",[i()("input.custom-control-input[type='checkbox'][id='"+y.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(e){this.checked&&(_.statusPedido=2,y.detalle[t]=y.muestras[t]+" ... - "+y.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+Xt.items[a].numero),y.updateDataMuestras()},onupdate:function(e){-1!==y.detalle[t].indexOf("...")?(y.muestras[t],y.detalle[t].split("...")[1]):y.muestras[t]}}),i()("label.custom-control-label[for='"+y.detalle[t].toLowerCase().replaceAll(" ","_")+"']",y.detalle[t])]),i()("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:function(a){return a?(_.statusPedido=2,y.checkedAll=!0):(_.statusPedido=1,y.checkedAll=!1),[Object.keys(y.detalle).map(function(e){var t=y.detalle[e].toLowerCase().replaceAll(" ","_");a?(y.detalle[e]=y.muestras[e]+" ... - "+y.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(t).checked=!0):(y.detalle[e]=y.muestras[e],document.getElementById(t).checked=!1)}),y.updateDataMuestras()]},validarStatus:function(){1==_.statusPedido&&(_.classPedido="tx-gray-500",_.descPedido="Pendiente"),2==_.statusPedido&&(_.classPedido="tx-primary",_.descPedido="Gestionado");var t=0;Object.keys(y.detalle).map(function(e){-1===y.detalle[e].indexOf("...")?(t+=1,Object.keys(y.detalle).length===t&&t===Object.keys(y.detalle).length&&(_.statusPedido,_.classPedido="tx-gray-500",_.descPedido="Pendiente")):(_.statusPedido=2,_.classPedido="tx-primary",_.descPedido="Gestionado")})},updateDataMuestras:function(){return[y.validarStatus(),i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+qt.idPedido,body:{dataPedido:y.detalle,statusPedido:_.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(y.detalle=e.data,y.validarStatus())}).catch(function(e){y.error=e.message})]}};function Gt(){var e=$("#table-notificaciones").DataTable();e.clear(),e.rows.add(Vt.data).draw()}var Kt=qt,Zt=Mr(360),Wt={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.farmacia.map(function(e,t,a){return[Zt(Zt.route.Link,{href:"/"+e.href,class:Qt.page==e.idModulo?"active":""},[e.label])]})]}},Qt={page:"",setPage:function(e){Qt.page=e},view:function(){return[Zt(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Zt("div.sidebar-header",[Zt("a[href=''][id='mainMenuOpen']",Zt("i[data-feather='menu']")),Zt("h5","Menu"),Zt("a[href=''][id='sidebarMenuClose']",Zt("i[data-feather='x']"))]),Zt("div.sidebar-body",Zt("ul.sidebar-nav",[Zt("li.nav-label.mg-b-15","Farmacia"),Zt("li.nav-item.show",[Zt(Zt.route.Link,{href:"/farmacia",class:"nav-link with-sub"},[Zt("i[data-feather='layout']")," Farmacia"]),Zt("nav.nav",[Zt(Wt)])])]))])]}},ea=Qt,ta=Mr(360),aa={view:function(){return[ta("div.content.content-components",ta("div.container",{style:{"max-width":"100%"}},[ta("ol.breadcrumb.df-breadcrumbs.mg-b-10",[ta("li.breadcrumb-item",ta(ta.route.Link,{href:"/"},["Metroplus"])),ta("li.breadcrumb-item.active[aria-current='page']","Farmacia")]),ta("h1.df-title.mg-t-20.mg-b-10","Farmacia:"),ta("div.row.tx-14",[d.isShow("farmacia",5)?[ta("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){ta.route.set("/farmacia/recetas")}},[ta("div",{class:"media"},[ta("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},ta("i",{class:"fas fa-file tx-30 tx-white"})),ta("div",{class:"media-body mg-l-15"},[ta("p",{class:"tx-18 mg-b-0"},"Recetas de Alta"),ta("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recetas de Alta")])])])]:[]])]))]}},oa={oninit:function(){o.page="",ea.page="",d.isAuth()},oncreate:function(){document.title="Farmacia | "+d.title},view:function(){return[ta(o,{oncreate:o.setPage("farmacia")}),ta(ea),ta(aa)]}};var na=Mr(360),ra={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.admisiones.map(function(e,t,a){return[na(na.route.Link,{href:"/"+e.href,class:ia.page==e.idModulo?"active":""},[e.label])]})]}},ia={page:"",setPage:function(e){ia.page=e},view:function(){return[na(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[na("div.sidebar-header",[na("a[href=''][id='mainMenuOpen']",na("i[data-feather='menu']")),na("h5","Menu"),na("a[href=''][id='sidebarMenuClose']",na("i[data-feather='x']"))]),na("div.sidebar-body",na("ul.sidebar-nav",[na("li.nav-label.mg-b-15","Admisiones"),na("li.nav-item.show",[na(na.route.Link,{href:"/admisiones",class:"nav-link with-sub"},[na("i[data-feather='layout']")," Admisiones "]),na("nav.nav",[na(ra)])])]))])]}},da=ia,sa=Mr(360),ca={view:function(){return[sa("div.content.content-components",sa("div.container",{style:{"max-width":"100%"}},[sa("ol.breadcrumb.df-breadcrumbs.mg-b-10",[sa("li.breadcrumb-item",sa(sa.route.Link,{href:"/"},["Metroplus"])),sa("li.breadcrumb-item.active[aria-current='page']","Admisiones")]),sa("h1.df-title.mg-t-20.mg-b-10","Admisiones:"),sa("div.row.tx-14",[d.isShow("admisiones",7)?[sa("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){sa.route.set("/admisiones/pre")}},[sa("div",{class:"media"},[sa("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},sa("i",{class:"fas fa-hospital tx-30 tx-white"})),sa("div",{class:"media-body mg-l-15"},[sa("p",{class:"tx-18 mg-b-0"},"Pre Admisiones"),sa("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pre Admisiones")])])])]:[],d.isShow("admisiones",27)?[sa("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){sa.route.set("/admisiones/etiquetas")}},[sa("div",{class:"media"},[sa("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},sa("i",{class:"fas fa-user-tag tx-30 tx-white"})),sa("div",{class:"media-body mg-l-15"},[sa("p",{class:"tx-18 mg-b-0"},"Impresión de Etiquetas"),sa("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Impresión de Etiquetas")])])])]:[]])]))]}},la={oninit:function(){o.page="",da.page="",d.isAuth()},oncreate:function(){document.title="Admisiones | "+d.title},view:function(){return[sa(o,{oncreate:o.setPage("admisiones")}),sa(da),sa(ca)]}};var ua={increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(ua.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=0},toggle:function(e){e.isPaused?ua.start(e):ua.stop(e),e.isPaused=!e.isPaused}};function ma(){var t={interval:null,seconds:89,isPaused:!1};return ua.start(t),{view:function(){return[i()("div.mg-b-20",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play",{onclick:function(){ua.toggle(t)}})]:[i()("i.fas.fa-pause",{onclick:function(){ua.toggle(t)}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ua.stop(t)}}}var pa={pacientes:[],oninit:function(e){o.page="",da.page="",pa.dataPendientesAlta=[],pa.dataCamaTotales=[],d.isAuth("admisiones",7)},oncreate:function(e){var t;document.title="Pre Admisiones | "+d.title,function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(e.attrs)&&($(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-data-pacientes").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/admisiones/pre",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.ADM},visible:!0,aTargets:[3]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){pa.pacientes.push(e._aData)}),i().redraw.sync(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-preadmisiones").DataTable({data:pa.pacientes,dom:"ftp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,pageLength:200,columns:[{title:"FECHA:"},{title:"HC:"},{title:"M° ADM:"},{title:"PACIENTE:"},{title:"F. PROGRAMADA:"},{title:"ADM POSTERIOR:"},{title:"TIPO DCTO.:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.FECHA_PREAD},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.HC},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.ADM},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.NOMBRE_PTE},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.FECHA_POSIBLE_ADM},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.ADMISION_POSTERIOR},visible:!0,aTargets:[5]},{mRender:function(e,t,a){return a.TIPO_DCTO},visible:!0,aTargets:[6]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){},order:[[3,"Desc"]]})},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,n){pa.dataPendientesAlta=[],pa.camasTotales=[],pa.camasTotales=0,void(pa.pendienteAlta=0)!==a&&0!==a.delete.length&&(ba("#table-preadmisiones",pa.dataPendientesAlta),ba("#table-camas-totales",pa.camasTotales)),void 0!==a&&0!==a.create.length&&(ba("#table-preadmisiones",pa.dataPendientesAlta),ba("#table-camas-totales",pa.camasTotales)),void 0!==a&&0!==Object.keys(a.update).length&&(ba("#table-preadmisiones",pa.dataPendientesAlta),ba("#table-camas-totales",pa.camasTotales))}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").change(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}))},view:function(e){moment().format("DD-MM-YYYY");return[i()(o,{oncreate:o.setPage("admisiones")}),i()(da,{oncreate:da.setPage(7)}),i()("div.content.content-components",i()("div.container",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" Metroplus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/admisiones"},[" Admisiones "])),i()("li.breadcrumb-item.active[aria-current='page']","Pre Admisiones")]),i()("h1.df-title.mg-t-20","Pre Admisiones:"),i()("div.row.animated.fadeInUp",{},[i()("div.col-12.mg-b-5.wd-100p.d-none[data-label='Filtrar'][id='filterTable']",i()("div.row",[i()("div.col-sm-12.pd-b-10",i()("div.input-group",[i()(".df-example.demo-forms.wd-100p[data-label='Buscar']",[i()("input.form-control[type='text'][id='searchField'][data-role='tagsinput']",{oncreate:function(){new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("text"),queryTokenizer:Bloodhound.tokenizers.whitespace})}})])]))])),i()("div.col-12",[i()("div.table-loader.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()(ma),i()("table.table.table-xs.d-none[id='table-data-pacientes'][width='100%']"),i()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[i()("h5.mg-b-0","Pre Admisiones de Pacientes: ")]),i()("table.table.table-sm.tx-12[id='table-preadmisiones'][width='100%']")])])])])),i()("div.section-nav",[])]}};function ba(e,t){e=$(e).DataTable();e.clear(),e.rows.add(t).draw()}var fa=pa,ha=Mr(360),ga={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.mantenimiento.map(function(e,t,a){return[ha(ha.route.Link,{href:"/"+e.href,class:va.page==e.idModulo?"active":""},[e.label])]})]}},va={page:"",setPage:function(e){va.page=e},view:function(){return[ha(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[ha("div.sidebar-header",[ha("a[href=''][id='mainMenuOpen']",ha("i[data-feather='menu']")),ha("h5","Menu"),ha("a[href=''][id='sidebarMenuClose']",ha("i[data-feather='x']"))]),ha("div.sidebar-body",ha("ul.sidebar-nav",[ha("li.nav-label.mg-b-15","Mantenimiento"),ha("li.nav-item.show",[ha(ha.route.Link,{href:"/mantenimiento",class:"nav-link with-sub"},[ha("i[data-feather='layout']")," Mantenimiento "]),ha("nav.nav",[ha(ga)])])]))])]}},xa=va,_a=Mr(360),ya={view:function(){return[_a("div.content.content-components",_a("div.container",[_a("ol.breadcrumb.df-breadcrumbs.mg-b-10",[_a("li.breadcrumb-item",_a(_a.route.Link,{href:"/"},["Metrovirtual"])),_a("li.breadcrumb-item.active[aria-current='page']","Mantenimiento")]),_a("h1.df-title.mg-t-20.mg-b-10","Mantenimiento:"),_a("div.row.tx-14",[_a("div.col-sm-6",_a("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[_a("div.mg-b-25",_a("i.wd-50.ht-50.tx-gray-500[data-feather='layout']")),_a("h5.tx-inverse.mg-b-20","Integración Higienización"),_a(_a.route.Link,{href:"/mantenimiento/higienizacion",class:"tx-medium"},["Ir a Integración Higienización",_a("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]))]}},wa={oninit:function(){o.page="",xa.page="",d.isAuth()},oncreate:function(){document.title="Mantenimiento | "+d.title},view:function(){return[_a(o,{oncreate:o.setPage("mantenimiento")}),_a(xa),_a(ya)]}},Ma={mensajes:[],fetchPacientes:function(){Ma.showBusquedas="d-none",Ma.showPacientes="d-none",Ma.showProcess="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/integracion-higienizacion"}).then(function(e){Ma.showPacientes="",Ma.showProcess="d-none",Ma.mensajes=e.data;e=$("#table-higienizacion").DataTable();e.clear(),e.rows.add(Ma.mensajes).draw()}).catch(function(e){})},oninit:function(){o.page="",xa.page="",Ma.mensajes=[],d.isAuth()},oncreate:function(){document.title="Integración de Higienización | "+d.title,$(".table-content-in").hide(),$(".table-loader-in").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-inboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-in",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACIÓN:"},{title:"TIMESTAMP:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.status},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.hab},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.timestamp},visible:!0,aTargets:[4],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content-in").show(),$(".table-loader-in").hide()}}).on("xhr.dt",function(e,t,a,o){$(".table-loader-in").hide(),$(".table-content-in").show()}).on("page.dt",function(e,t,a,o){$(".table-loader-in").show(),$(".table-content-in").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$(".table-content-out").hide(),$(".table-loader-out").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-outboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-out",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACIÓN:"},{title:"TIMESTAMP:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.ESTADO},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.PK_FK_HABITACION},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.timestamp},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return'<a href="'+a.URL_LOG+'" role="button" class="btn btn-xs btn-block btn-primary" target="_blank">Ver Log</a>'},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content-out").show(),$(".table-loader-out").hide()}}).on("xhr.dt",function(e,t,a,o){$(".table-loader-out").hide(),$(".table-content-out").show()}).on("page.dt",function(e,t,a,o){$(".table-loader-out").show(),$(".table-content-out").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0})},view:function(){return[i()(o,{oncreate:o.setPage("mantenimiento")}),i()(xa,{oncreate:xa.setPage(8)}),i()("div.content.content-components",i()("div.container",[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" Metrovirtual "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/mantenimiento"},[" Mantenimiento "])),i()("li.breadcrumb-item.active[aria-current='page']","Integración de Higienización")]),i()("h1.df-title.mg-t-20.mg-b-10","Integración de Higienización:"),i()("div.row.tx-14",[i()("div.col-12.mg-b-10.wd-100p",i()("div.row.mg-t-10",[i()("div.col-sm-12.pd-b-10",[i()("label.nav-label.tx-semibold","Transacciones Inbound:"),i()("hr")])])),i()("div.table-loader-in.col-12.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.table-content-in.col-12.mg-b-10",[i()("div.col-12.pd-r-0.pd-l-0.pd-b-20.",i()("table.table.table-sm[id='table-inboundTRX'][width='100%']"))]),i()("div.col-12.mg-t-10.mg-b-10.wd-100p",i()("div.row.mg-t-10",[i()("div.col-sm-12.pd-b-10",[i()("label.nav-label.tx-semibold","Transacciones Outbound:"),i()("hr")])])),i()("div.table-loader-out.col-12.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.table-content-out.col-12.mg-b-10",[i()("div.col-12.pd-r-0.pd-l-0.pd-b-20.",i()("table.table.table-sm[id='table-outboundTRX'][width='100%']"))])])]))]}};var Ea=Ma,Pa=Mr(360),ka={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.hospitalizacion.map(function(e,t,a){return[Pa(Pa.route.Link,{href:"/"+e.href,class:Da.page==e.idModulo?"active":""},[e.label])]})]}},Da={page:"",setPage:function(e){Da.page=e},view:function(){return[Pa(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Pa("div.sidebar-header",[Pa("a[href=''][id='mainMenuOpen']",Pa("i[data-feather='menu']")),Pa("h5","Menu"),Pa("a[href=''][id='sidebarMenuClose']",Pa("i[data-feather='x']"))]),Pa("div.sidebar-body",Pa("ul.sidebar-nav",[Pa("li.nav-label.mg-b-15","Hospitalización"),Pa("li.nav-item.show",[Pa(Pa.route.Link,{href:"/hospitalizacion",class:"nav-link with-sub"},[Pa("i[data-feather='layout']")," Hospitalización "]),Pa("nav.nav",[Pa(ka)])])]))])]}},Ta=Da,Aa=Mr(360),Sa={view:function(){return[Aa("div.content.content-components",Aa("div.container",[Aa("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Aa("li.breadcrumb-item",Aa(Aa.route.Link,{href:"/"},["MetroPlus"])),Aa("li.breadcrumb-item.active[aria-current='page']","Hospitalización")]),Aa("h1.df-title.mg-t-20.mg-b-10","Hospitalización:"),Aa("div.row.tx-14",[d.isShow("hospitalizacion",17)?[Aa("div.col-sm-6",Aa("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[Aa("div.mg-b-25",Aa("i.tx-50.tx-gray-500.fas.fa-procedures")),Aa("h5.tx-inverse.mg-b-20","Control de Camas GEMA-MV"),Aa(Aa.route.Link,{href:"/hospitalizacion/control-camas",class:"tx-medium"},["Ir a Control de Camas GEMA-MV",Aa("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[],d.isShow("hospitalizacion",9)?[Aa("div.col-sm-6",Aa("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[Aa("div.mg-b-25",Aa("i.tx-50.tx-gray-500.fas.fa-file-alt")),Aa("h5.tx-inverse.mg-b-20","Pasaportes de Pacientes"),Aa(Aa.route.Link,{href:"/hospitalizacion/pasaportes",class:"tx-medium"},["Ir a Pasaportes de Pacientes",Aa("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[]])]))]}},Ca={oninit:function(){o.page="",Ta.page="",d.isAuth()},oncreate:function(){document.title="Hospitalización | "+d.title},view:function(){return[Aa(o,{oncreate:o.setPage("hospitalizacion")}),Aa(Ta),Aa(Sa)]}},Ia={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:function(){o.page="",Ta.page="",Ia.searchField="",Ia.showBusquedas="",Ia.pacientes=[],d.isAuth()},oncreate:function(){document.title="Hospitalización Pasaportes | "+d.title},view:function(){return[i()(o,{oncreate:o.setPage("hospitalizacion")}),i()(Ta,{oncreate:Ta.setPage(9)}),i()("div.content.content-components",i()("div.container",[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" Metrovirtual "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/hospitalizacion"},[" Hospitalización "])),i()("li.breadcrumb-item.active[aria-current='page']","Pasaportes de Pacientes")]),i()("h1.df-title.mg-t-20.mg-b-10","Pasaportes de Pacientes"),i()("div.row.tx-14",[i()("div.col-12.mg-b-10.wd-100p",i()("div.row.mg-t-10",[i()("div.col-sm-12.pd-b-10.mg-b-10",[i()("label.nav-label.tx-semibold","Búsqueda de Pacientes:"),i()("hr")])])),i()("div.table-loader.col-12.wd-100p",{class:Ia.showProcess},i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.col-12",{class:"d-none"},[i()("label.nav-label.tx-semibold","Búsquedas Recientes:"),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",i()("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),i()("div.section-nav",[i()("label.nav-label.mg-b-10","Opciones Pacientes"),i()("a.nav-link[href='#section1']","Feather Icons")])]}},Na=Ia,La={view:function(e){return[i()("p.mg-0",[i()("div.tx-12",1==e.attrs.DIFERENCIA?[i()("span",{class:"badge badge-danger mg-l-5 mg-r-5",title:"Diferencia"},[],"X")]:[],"CAMAS TOTAL"!==e.attrs.TIPO?[i()("span.wd-20p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.TIPO)]:[],null!==e.attrs.NOMBRE_GEMA?[i()("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],"NOMBRE GEMA: "+e.attrs.NOMBRE_GEMA)]:[],i()("span.wd-10p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.HABITACION_GEMA),i()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),e.attrs.NHCL,i()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO GEMA"),e.attrs.ESTADO_GEMA,i()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO MV"),e.attrs.ESTADO_MV,null!==e.attrs.NOMBRE_MV?[i()("span.wd-100p",{class:"badge badge-dark mg-l-5 mg-r-5"},[],"NOMBRE MV: "+e.attrs.NOMBRE_MV)]:[])])]}},Ra={view:function(e){return[i()("p.mg-0",[i()("div.tx-12",i()("span.wd-10p",{class:"badge badge-danger mg-l-5 mg-r-5"},e.attrs.HABITACION_MV),i()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),e.attrs.NHCL,i()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ATENCION MV"),e.attrs.ATENCION_MV,null!==e.attrs.NOMBRE_MV?[i()("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.NOMBRE_MV)]:[])])]}},w={error:"",data:[],dataMuestras:[],fetch:function(){w.error="",w.data=[],i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-lab",body:{numeroPedido:Ha.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(w.data=e.data,Ha.data=e.data[0],Ha.validarStatus()):w.error=e.message}).catch(function(e){})}},Fa={tuboLila:1,tuboRojo:1,tuboCeleste:1,tuboNegro:1,tuboVerde:1,gsav:1,hemocultivo:1,qtb:1},Oa={checkedAll:!1,seleccionarTodos:function(o){Oa.checkedAll=o;var n=moment().format("DD-MM-YYYY HH:mm");return w.data.map(function(e,t,a){o?(w.data[t].STATUS_TOMA=n,w.data[t].customCheked=!0,Oa.udpateStatusTomaMuestra(w.data[t].CD_EXA_LAB,1)):(w.data[t].STATUS_TOMA="",w.data[t].customCheked=!1,Oa.udpateStatusTomaMuestra(w.data[t].CD_EXA_LAB,2))})},udpateStatusTomaMuestra:function(e,t){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-status-pedido-lab",body:{numeroPedido:Ha.numeroPedido,cod_exa_lab:e,sts:t},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),Ha.validarStatus()}).catch(function(e){})},view:function(){return w.error?[i()("p.mg-0",w.error)]:0!==w.data.length?[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("div.mg-b-30",i()("i.tx-60.fas.fa-file."+Ha.classPedido)),i()("h5.tx-inverse.mg-b-10","Detalle de Pedido N°: "+Ha.numeroPedido+" - Status: "+Ha.descSstatusPedido),"R"==Ha.data.TIPO_PEDIDO?[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],i()("p.mg-5.tx-20.mg-t-10",[i()("i.fas.fa-user.mg-r-8.text-secondary"),Ha.data.PTE_MV]),i()("p.mg-5.tx-15",["Fecha Pedido: ",Ha.data.FECHA_TOMA]),i()("p.mg-5.tx-15",["Médico: ",Ha.data.MED_MV]),i()("p.mg-5.tx-15",["Ubicaciòn: ",Ha.data.SECTOR,": ",Ha.data.CAMA]),i()("p.mg-5",["Historía Clínica: "]),i()("p.mg-5",[i()("span.badge.badge-primary.mg-r-5.tx-14","GEMA: "+Ha.data.HC_MV+"01"),i()("span.badge.badge-success.mg-r-5.tx-14","MV: "+Ha.data.HC_MV)]),i()("ul.nav.nav-tabs.mg-t-15[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link.active[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']","Detalle Pedido")),i()("li.nav-item",i()("a.nav-link[id='profile-tab'][data-toggle='tab'][href='#profile'][role='tab'][aria-controls='profile'][aria-selected='false']","Toma de Muestras"))]),i()(".tab-content.bd.bd-gray-300.bd-t-0.pd-20.mg-t-10[id='myTabContent']",[i()(".tab-pane.fade.show.active[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[w.error?[i()("p.mg-0",w.error)]:void 0!==w.data&&0!==w.data.length?[i()("h6","Detalle Pedido:"),i()("div.table-responsive",i()("table.table.table-dashboard.mg-b-0",[i()("thead",i()("tr",[i()("th","FECHA PROGRAMADA"),i()("th","FECHA TOMA MUESTRA"),i()("th","FECHA RECEP. LAB."),i()("th.text-right","EXAMEN")])),i()("tbody",[w.data.map(function(e,t,a){return[i()("tr",[i()("td.tx-color-03.tx-normal",e.FECHA_TOMA+" "+e.HORA_TOMA),i()("td.tx-color-03.tx-normal",0!==e.STATUS_TOMA.length?e.STATUS_TOMA:"Pendiente"),i()("td.tx-color-03.tx-normal",0!==e.STATUS_TOMA.length?e.STATUS_TOMA:"Pendiente"),i()("td.tx-medium.text-right",e.NM_EXA_LAB)])]})])]))]:i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])]),i()(".tab-pane.fade[id='profile'][role='tabpanel'][aria-labelledby='profile-tab']",[i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Registro de Toma de Muestras")]),i()("div.table-responsive.mg-b-10.mg-t-10",i()("table.table.table-dashboard.table-hover.mg-b-0",[i()("thead",i()("tr",[i()("th.text-left","EXAMEN"),i()("th","FECHA DE TOMA DE MUESTRA")])),i()("tbody",[i()("tr.d-none",[i()("td.tx-normal",i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:Oa.checkedAll,onclick:function(e){Oa.seleccionarTodos(this.checked)}}),i()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),i()("td.tx-medium.text-right")]),w.data.map(function(t,a,e){return[i()("tr",[i()("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:w.data[a].customCheked,onupdate:function(e){this.checked=w.data[a].customCheked},onclick:function(e){e.preventDefault();e=this.checked;w.data[a].customCheked=!w.data[a].customCheked,e?(this.checked=!0,w.data[a].STATUS_TOMA=moment().format("DD-MM-YYYY HH:mm"),Oa.udpateStatusTomaMuestra(t.CD_EXA_LAB,1)):(this.checked=!1,Oa.checkedAll=!1,w.data[a].STATUS_TOMA="",Oa.udpateStatusTomaMuestra(t.CD_EXA_LAB,2))}}),i()("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",(w.data[a].STATUS_TOMA.length,w.data[a].STATUS_TOMA))]))])]})])])),i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Registro de Insumos")]),i()("div.table-responsive.mg-b-10.mg-t-10",i()("table.table.table-dashboard.table-hover.mg-b-0",[i()("thead",i()("tr",[i()("th.text-left","INSUMOS"),i()("th.text-left","CANTIDAD")])),i()("tbody",[i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']"),i()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Fa.tuboLila},onupdate:function(e){e.dom.innerText=Fa.tuboLila}})),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboLila++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboLila--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']"),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Fa.tuboRojo},onupdate:function(e){e.dom.innerText=Fa.tuboRojo}})),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboRojo++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboRojo--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']"),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Fa.tuboCeleste},onupdate:function(e){e.dom.innerText=Fa.tuboCeleste}})),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboCeleste++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboCeleste--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']"),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Fa.tuboNegro},onupdate:function(e){e.dom.innerText=Fa.tuboNegro}})),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboNegro++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboNegro--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']"),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Fa.tuboVerde},onupdate:function(e){e.dom.innerText=Fa.tuboVerde}})),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboVerde++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){Fa.tuboVerde--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']"),i()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Fa.gsav},onupdate:function(e){e.dom.innerText=Fa.gsav}})),i()("button.btn.btn[type='button']",{onclick:function(){Fa.gsav++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){Fa.gsav--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']"),i()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Fa.hemocultivo},onupdate:function(e){e.dom.innerText=Fa.hemocultivo}})),i()("button.btn.btn[type='button']",{onclick:function(){Fa.hemocultivo++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){Fa.hemocultivo--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']"),i()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Fa.qtb},onupdate:function(e){e.dom.innerText=Fa.qtb}})),i()("button.btn.btn[type='button']",{onclick:function(){Fa.qtb++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){Fa.qtb--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])]))])])])]:[i()("div.pd-t-10",[i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])])]}},Ha={numeroPedido:"",numeroHistoriaClinica:"",track:"",data:[],classPedido:"",descSstatusPedido:"",validarStatus:function(){for(var e=0;e<w.data.length;e++)0!==w.data[e].STATUS_TOMA.length&&(w.data[e].customCheked=!0);for(var t=0,a=0,e=0;e<w.data.length;e++)0!==w.data[e].STATUS_RESULTADO.length&&t++,0!==w.data[e].STATUS_TOMA.length&&a++;w.data.length!==a&&w.data.length!==t&&(Ha.classPedido="tx-warning",Ha.descSstatusPedido="Muestras Pendientes"),w.data.length==a&&w.data.length!==t&&(Oa.checkedAll=!0,Ha.classPedido="tx-orange",Ha.descSstatusPedido="Pendiente Resultado"),w.data.length==a&&w.data.length==t&&(Oa.checkedAll=!0,Ha.classPedido="tx-success",Ha.descSstatusPedido="Finalizado - Gestionado")},view:function(){return[i()("div.animated.fadeInUp",{class:0!==E.showBitacora.length?"":"d-none"},[i()(Oa)])]}};var Ya={increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(Ya.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=0},toggle:function(e){e.isPaused?Ya.start(e):Ya.stop(e),e.isPaused=!e.isPaused}};function ja(){var t={interval:null,seconds:89,isPaused:!1};return Ya.start(t),{view:function(){return[i()("div.mg-t-30.mg-b-20",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play",{onclick:function(){Ya.toggle(t)}})]:[i()("i.fas.fa-pause",{onclick:function(){Ya.toggle(t)}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Ya.stop(t)}}}var E={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,oninit:function(e){$a(e.attrs)?E.showBitacora="":(E.showBitacora="d-none",Ha.numeroPedido=e.attrs.numeroPedido),o.page="",Ta.page="",E.dataPendientesAlta=[],E.dataCamaTotales=[],E.camasTotales=0,E.pendienteAlta=0,d.isAuth("hospitalizacion",17)},oncreate:function(e){document.title="Caja Recepción Turnos | "+d.title,$a(e.attrs)?($(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-control-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-control-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"100%",orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){var t;$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){E.dataCamaTotales.push(e._aData),1==e._aData.DIFERENCIA&&E.camasTotales++,"SIN ALTA EN MV"==e._aData.TIPO&&(E.pendienteAlta++,E.dataPendientesAlta.push(e._aData)),"GEMA Y MV"==e._aData.TIPO&&E.gemaMV++}),i().redraw.sync(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-pendientes-alta").DataTable({data:E.dataPendientesAlta,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,pageLength:40,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){i().mount(e.anCells[0],{view:function(){return i()(Ra,e._aData)}})})}}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-camas-totales").DataTable({data:E.dataCamaTotales,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,pageLength:20,columns:!1,aoColumnDefs:[{mRender:function(e,t,a){return a.DIFERENCIA},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.TIPO},visible:!1,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.NOMBRE_GEMA},visible:!1,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NOMBRE_MV},visible:!1,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return""},visible:!0,width:"100%",aTargets:[4],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){i().mount(e.anCells[4],{view:function(){return i()(La,e._aData)}})})}}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()})},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,n){E.dataPendientesAlta=[],E.camasTotales=[],E.camasTotales=0,void(E.pendienteAlta=0)!==a&&0!==a.delete.length&&(Ua("#table-pendientes-alta",E.dataPendientesAlta),Ua("#table-camas-totales",E.camasTotales)),void 0!==a&&0!==a.create.length&&(Ua("#table-pendientes-alta",E.dataPendientesAlta),Ua("#table-camas-totales",E.camasTotales)),void 0!==a&&0!==Object.keys(a.update).length&&(Ua("#table-pendientes-alta",E.dataPendientesAlta),Ua("#table-camas-totales",E.camasTotales))}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")}),$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-status-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-status-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"N°:"},{title:"ÁREA:"},{title:"COVID:"},{title:"DISPONIBLES:"},{title:"EN LIMPIEZA:"},{title:"OCUPADAS:"},{title:"TOTAL CAMAS:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.AREA},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.COVID},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.DISPONIBLES<5?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+a.DISPONIBLES+"</span></div>":a.DISPONIBLES},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.EN_LIMPIEZA>a.DISPONIBLES?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+a.EN_LIMPIEZA+"</span></div>":a.EN_LIMPIEZA},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return a.OCUPADAS},visible:!0,aTargets:[5],orderable:!1},{mRender:function(e,t,a){return a.TOTAL_CAMAS},visible:!0,aTargets:[6],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,n){}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")})):w.fetch()},onupdate:function(e){$a(e.attrs)?E.showBitacora="":E.showBitacora="d-none"},view:function(e){var t=moment().format("DD-MM-YYYY");return $a(e.attrs)?E.showBitacora="":E.showBitacora="d-none",[i()(o,{oncreate:o.setPage("hospitalizacion")}),i()(Ta,{oncreate:Ta.setPage(17)}),i()("div.content.content-components",i()("div.container",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" Metrovirtual "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/hospitalizacion"},[" Hospitalización "])),i()("li.breadcrumb-item.active[aria-current='page']","Control de Camas GEMA-MV:")]),i()("h1.df-title.mg-t-20.mg-b-10","Control de Camas GEMA-MV:"),i()("p.mg-b-20.tx-14.d-none",{class:null==e.attrs.numeroPedido?"":"d-none"},[i()("i.fas.fa-info-circle.mg-r-5.text-secondary"),"Buscar por apellidos y nombres de paciente, historia clínica y número de pedido."]),i()("div.d-lg-none.d-md-block.mg-t-10.mg-b-10.bg-white",i()("div.col-12.mg-t-30.mg-lg-t-0",i()("div.row",[i()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),i()("span.tx-10.tx-color-04","Hoy, "+t)]),i()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==E.pendienteAlta?[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=E.pendienteAlta+" Paciente(s)"},onupdate:function(e){e.dom.innerText=E.pendienteAlta+" Paciente(s)"}})]]),0==E.pendienteAlta?[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),i()("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),i()("span.tx-10.tx-color-04","Hoy, "+t)]),i()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==E.camasTotales?[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=E.camasTotales+" Paciente(s)"},onupdate:function(e){e.dom.innerText=E.camasTotales+" Paciente(s)"}})]]),0==E.camasTotales?[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])]))),i()("div.row.animated.fadeInUp",{class:E.showBitacora},[i()("div.col-12",[i()("div.table-loader.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()(ja),i()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[i()("h5.mg-b-0","Camas Disponibles GEMA: ")]),i()("table.table.table-xs.mg-b-10[id='table-status-camas'][width='100%']"),i()("table.table.table-xs.d-none[id='table-control-camas'][width='100%']"),i()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[i()("h5.mg-b-0.mg-t-15","Pendientes de Alta MV: "),i()("div.tx-15.d-none",[i()("a.link-03.lh-0[href='']",i()("i.icon.ion-md-refresh")," Actualizar")])]),i()("table.table.table-xs[id='table-pendientes-alta'][width='100%']"),i()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[i()("h5.mg-b-0","Estado de Camas: ")]),i()("div.mg-b-5.d-flex",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']")),i()("table.table.table-xs[id='table-camas-totales'][width='100%']")])])]),i()(Ha)])),i()("div.section-nav",[i()("label.nav-label","Control de Camas"),i()("div.mg-t-10.bg-white",i()("div.col-12.mg-t-30.mg-lg-t-0",i()("div.row",[i()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),i()("span.tx-10.tx-color-04","Hoy, "+t)]),i()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==E.pendienteAlta?[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=E.pendienteAlta+" Paciente(s)"},onupdate:function(e){e.dom.innerText=E.pendienteAlta+" Paciente(s)"}})]]),0==E.pendienteAlta?[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),i()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),i()("span.tx-10.tx-color-04","Hoy, "+t)]),i()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==E.camasTotales?[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=E.camasTotales+" Paciente(s)"},onupdate:function(e){e.dom.innerText=E.camasTotales+" Paciente(s)"}})]]),0==E.camasTotales?[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),i()("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","GEMA Y MV"),i()("span.tx-10.tx-color-04","Hoy, "+t)]),i()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==E.gemaMV?[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[i()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=E.gemaMV+" Paciente(s)"},onupdate:function(e){e.dom.innerText=E.gemaMV+" Paciente(s)"}})]]),0==E.gemaMV?[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])])))])]}};function Ua(e,t){e=$(e).DataTable();e.clear(),e.rows.add(t).draw()}function $a(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}var Ba=E,Va={data:[],fetch:function(){Va.data=[];for(var e=0;e<Ja.dataFiltros.length;e++)Ja.dataFiltros[e].id==Ja.idFiltro&&(Va.data=Ja.dataFiltros[e])},view:function(){return 0!==Ja.showBitacora.length&&0!==Va.data.length?[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){Ja.showBitacora="",Va.data=[],i().route.set("/laboratorio/notificaciones/filtros",{})}}))),i()("div.mg-b-30",i()("i.tx-40.fas.fa-filter.")),i()("p.mg-5.tx-right",[i()("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-edit.mg-r-5")," Editar "),i()("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),i()("h5.tx-inverse.mg-b-10","Filtro: "+Va.data.nombre),0==Va.data.ene?[i()("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[i()("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],null!==Va.data.x_servicio?[i()("h5.tx-inverse.mg-b-10","Por Servicio: "+Va.data.x_servicio)]:[],null!==Va.data.x_origen?[i()("h5.tx-inverse.mg-b-10","Por Origen: "+Va.data.x_origen)]:[],null!==Va.data.x_motivo?[i()("h5.tx-inverse.mg-b-10","Por Motivo: "+Va.data.x_motivo)]:[],null!==Va.data.x_especialidad?[i()("h5.tx-inverse.mg-b-10","Por Especialidad: "+Va.data.x_especialidad)]:[],null!==Va.data.x_medico?[i()("h5.tx-inverse.mg-b-10","Por Médico: "+Va.data.x_medico)]:[],null!==Va.data.x_idprueba?[i()("h5.tx-inverse.mg-b-10","Por Id Prueba: "+Va.data.x_idprueba)]:[]])]:0!==Ja.showBitacora.length?[i()("div.pd-t-10",[i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])])]:void 0}},Ja={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",searchField:"",fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=filtradas"}).then(function(e){var t;Ja.dataFiltros=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-NotificacionesPendientesLab").DataTable({data:Ja.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N°:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.sc},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.apellidosPaciente+" "+a.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide()}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()})}).catch(function(e){})},oninit:function(e){o.page="",r.page="",Ja.dataPendientesAlta=[],Ja.dataCamaTotales=[],Ja.camasTotales=0,Ja.pendienteAlta=0,d.isAuth("laboratorio",15)},oncreate:function(e){document.title="Notificaciones Enviadas | "+d.title,Ja.fetch()},view:function(e){return void 0!==e.attrs&&void 0!==e.attrs.idFiltro?(Ja.idFiltro=e.attrs.idFiltro,Ja.showBitacora="d-none",Va.fetch(),console.log(Va.data)):(Ja.idFiltro="",Ja.showBitacora=""),[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",{style:{"margin-right":"0px"}},i()("div.container",{style:{"max-width":"none"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Pendientes")]),i()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Pendientes:"),i()("div.row.animated.fadeInUp",{class:Ja.showBitacora},[i()("div.col-12",[i()("div.filemgr-content-header.",[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),i()("div.mg-t-90.table-loader.wd-100p",i()("div.placeholder-paragraph.",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[i()("table.table.table-sm.tx-12[id='table-NotificacionesPendientesLab'][width='100%']")])])]),i()(Va)]))]}};var za=Ja,qa={data:[],fetch:function(){qa.data=[];for(var e=0;e<Xa.dataErroresEnvio.length;e++)Xa.dataErroresEnvio[e].sc==Xa.sc&&(qa.data=Xa.dataErroresEnvio[e])},fetchFiltro:function(){qa.data=[];for(var e=0;e<Xa.dataErroresFiltro.length;e++)Xa.dataErroresFiltro[e].sc==Xa.sc&&(qa.data=Xa.dataErroresFiltro[e])},view:function(){return 0!==Xa.showBitacora.length&&0!==qa.data.length?[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){Xa.showBitacora="",qa.data=[],i().route.set("/laboratorio/notificaciones/error",{})}}))),i()("div.mg-b-30",i()("i.tx-40.fas.fa-envelope.")),i()("p.mg-5.tx-right",[i()("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-edit.mg-r-5")," Reenviar "),i()("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-times-circle.mg-r-5")," Reprocesar ")]),i()("h5.tx-inverse.mg-b-10","SC: "+qa.data.sc)])]:0!==Xa.showBitacora.length?[i()("div.pd-t-10",[i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])])]:void 0}},Xa={dataErroresFiltro:[],dataErroresEnvio:[],showBitacora:"",sc:"",searchField:"",fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=errorEnviadas"}).then(function(e){var t;Xa.dataErroresEnvio=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-notificaciones-errores").DataTable({data:Xa.dataErroresEnvio,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N°:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.sc},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.apellidosPaciente+" "+a.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(e,t,a,o){$(e).attr("id",t.sc).css("cursor","pointer"),$(e).addClass("verNotificacion")},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),$(".verNotificacion").click(function(e){e.preventDefault();Xa.showBitacora="d-none",i().route.set("/laboratorio/notificaciones/error/",{sc:this.id,type:"errorNotificacion"})})}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()})}).catch(function(e){})},fetchErrorFiltro:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=errorFiltradas"}).then(function(e){var t;Xa.dataErroresFiltro=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-notificaciones-errores-filtro").DataTable({data:Xa.dataErroresFiltro,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N°:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.sc},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.apellidosPaciente+" "+a.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(e,t,a,o){$(e).attr("id",t.sc).css("cursor","pointer"),$(e).addClass("verNotificacionFiltro")},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),$(".verNotificacionFiltro").click(function(e){e.preventDefault();Xa.showBitacora="d-none",i().route.set("/laboratorio/notificaciones/error/",{sc:this.id,type:"errorNotificacionFiltro"})})}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchFieldFiltro").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchFieldFiltro").val()).draw()})}).catch(function(e){})},oninit:function(e){o.page="",r.page="",d.isAuth("laboratorio",15)},oncreate:function(e){document.title="Notificaciones con Error | "+d.title,Xa.fetch(),Xa.fetchErrorFiltro()},view:function(e){return void 0!==e.attrs&&void 0!==e.attrs.sc&&void 0!==e.attrs.type?(Xa.sc=e.attrs.sc,Xa.showBitacora="d-none","errorNotificacion"==e.attrs.type?qa.fetch():qa.fetchFiltro()):(Xa.sc="",Xa.showBitacora=""),[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(15)}),i()("div.content.content-components",{style:{"margin-right":"0px"}},i()("div.container",{style:{"max-width":"none"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),i()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error:"),i()("div.row.animated.fadeInUp",{class:Xa.showBitacora},[i()("div.col-12.wd-100p",i()("div.row.mg-t-10",[i()("div.col-sm-12",[i()("label.nav-label.tx-semibold","Errores en Envío:")])])),i()("div.col-12",[i()("div.filemgr-content-header.",[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),i()("div.mg-t-90.table-loader.wd-100p",i()("div.placeholder-paragraph.",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[i()("table.table.table-sm.tx-12[id='table-notificaciones-errores'][width='100%']")])]),i()("div.col-12.wd-100p",i()("div.row.mg-t-10",[i()("div.col-sm-12",[i()("label.nav-label.tx-semibold","Errores en Filtro:")])])),i()("div.col-12",[i()("div.filemgr-content-header.",[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchFieldFiltro']"))]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[i()("table.table.table-sm.tx-12[id='table-notificaciones-errores-filtro'][width='100%']")])])]),i()(qa)]))]}};var Ga=Xa,Ka=Mr(360),Za={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess["terapia-respiratoria"].map(function(e,t,a){return[Ka(Ka.route.Link,{href:"/"+e.href,class:Wa.page==e.idModulo?"active":""},[e.label])]})]}},Wa={page:"",setPage:function(e){Wa.page=e},view:function(){return[Ka(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Ka("div.sidebar-header",[Ka("a[href=''][id='mainMenuOpen']",Ka("i[data-feather='menu']")),Ka("h5","Menu"),Ka("a[href=''][id='sidebarMenuClose']",Ka("i[data-feather='x']"))]),Ka("div.sidebar-body",Ka("ul.sidebar-nav",[Ka("li.nav-label.mg-b-15","Terapia Respiratoria"),Ka("li.nav-item.show",[Ka(Ka.route.Link,{href:"/terapia-respiratoria",class:"nav-link with-sub"},[Ka("i[data-feather='layout']")," Terapia Respiratoria "]),Ka("nav.nav",[Ka(Za)])])]))])]}},Qa=Wa;var eo={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(eo.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?eo.start(e):eo.stop(e),e.isPaused=!e.isPaused}};function to(){var t={interval:null,seconds:100,isPaused:!1};return eo.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){eo.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){eo.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){eo.stop(t)}}}var ao={oncreate:function(){P.loadPedidos(),0!==P.searchField.length&&$("#table-pedidos").DataTable().search(P.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","Pedidos de Terapia Respiratoria:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==P.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==P.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==P.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==P.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==P.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==P.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==P.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==P.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==P.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==P.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==P.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==P.idFiltro?moment(moment(P.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){P.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetchPedidos(),i().route.set("/terapia-respiratoria/pedidos?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==P.idFiltro?moment(moment(P.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){P.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetchPedidos(),i().route.set("/terapia-respiratoria/pedidos?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Pedidos entre Fechas"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Pedidos de Emergencia"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Pedidos de C. Externa"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Pedidos de Hospitalización"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==P.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){P.searchField=e.target.value},value:P.searchField}))]),i()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},P={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Qa.page="",0==P.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),P.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),P.fechaHasta=moment().format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetchPedidos())},oncreate:function(e){ke.suscribirCanal("MetroPlus-Terapia-Respiratoria")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:P.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){P.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),i().mount(e.anCells[5],{view:function(){return[i()("div.d-flex",{},[i()("div.pd-0.flex-grow-1",i()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},i()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),i()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),i()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," SECTOR: "),i()(".d-inline.tx-12.mg-r-5",null!==e._aData.SECTOR?e._aData.SECTOR+" "+e._aData.UBICACION:"No Disponible"),i()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),i()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA+".")]),i()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[i()("div.pd-0.flex-grow-1",i()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),i()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},i()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){i().route.set("/terapia-respiratoria/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},i()(".tx-normal",i()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==P.idFiltro?"?idFiltro="+P.idFiltro:"?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/terapia-respiratoria/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){P.loader=!1,P.pedidos=e.data}).catch(function(e){setTimeout(function(){P.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(P.pedidos).draw()},view:function(e){return P.loader?[i()(Qa,{oncreate:Qa.setPage(18)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==P.error.length?[i()(Qa,{oncreate:Qa.setPage(18)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("p","No existe infrmac dd ncin")])]))]:P.loader||0===P.pedidos.length?P.loader||0!=P.pedidos.length?[i()(Qa,{oncreate:Qa.setPage(18)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(Qa,{oncreate:Qa.setPage(18)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(Qa,{oncreate:Qa.setPage(18)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()(ao)])),i()("div.section-nav",[i()("label.nav-label","RECEPCIÓN DE PedidosTR"),i()("div.mg-t-10.bg-white",{},i()("div.mg-t-10.bg-white",i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","N° de PedidosTR:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",P.pedidos.length),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),i()("div.pd-20",i()(to)))])]}},oo=P,no={data:[],fetch:function(){no.data=[];for(var e=0;e<ro.dataFiltros.length;e++)ro.dataFiltros[e].id==ro.idFiltro&&(no.data=ro.dataFiltros[e])},view:function(){return 0!==ro.showBitacora.length&&0!==no.data.length?[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){ro.showBitacora="",no.data=[],i().route.set("/laboratorio/notificaciones/filtros",{})}}))),i()("div.mg-b-30",i()("i.tx-40.fas.fa-filter.")),i()("p.mg-5.tx-right",[i()("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-edit.mg-r-5")," Editar "),i()("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:function(){}},i()("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),i()("h5.tx-inverse.mg-b-10","Filtro: "+no.data.nombre),0==no.data.ene?[i()("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[i()("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],null!==no.data.x_servicio?[i()("h5.tx-inverse.mg-b-10","Por Servicio: "+no.data.x_servicio)]:[],null!==no.data.x_origen?[i()("h5.tx-inverse.mg-b-10","Por Origen: "+no.data.x_origen)]:[],null!==no.data.x_motivo?[i()("h5.tx-inverse.mg-b-10","Por Motivo: "+no.data.x_motivo)]:[],null!==no.data.x_especialidad?[i()("h5.tx-inverse.mg-b-10","Por Especialidad: "+no.data.x_especialidad)]:[],null!==no.data.x_medico?[i()("h5.tx-inverse.mg-b-10","Por Médico: "+no.data.x_medico)]:[],null!==no.data.x_idprueba?[i()("h5.tx-inverse.mg-b-10","Por Id Prueba: "+no.data.x_idprueba)]:[]])]:0!==ro.showBitacora.length?[i()("div.pd-t-10",[i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])])]:void 0}},ro={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",searchField:"",fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/tr/pedidos"}).then(function(e){var t;ro.dataFiltros=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-BSPedidos").DataTable({data:ro.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N°:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"N° ATENCION:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.HR_PRE_MED},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.CD_ATENDIMENTO},visible:!0,aTargets:[4]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide()}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()})}).catch(function(e){})},oninit:function(e){o.page="",r.page="",ro.dataPendientesAlta=[],ro.dataCamaTotales=[],ro.camasTotales=0,ro.pendienteAlta=0,d.isAuth("laboratorio",15)},oncreate:function(e){document.title="Pedidos de Terapia Respiratoria | "+d.title,ro.fetch()},view:function(e){return void 0!==e.attrs&&void 0!==e.attrs.idFiltro?(ro.idFiltro=e.attrs.idFiltro,ro.showBitacora="d-none",no.fetch()):(ro.idFiltro="",ro.showBitacora=""),[i()(o,{oncreate:o.setPage("laboratorio")}),i()("div.content.content-components",{},i()("div.container",{},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos de Terapia Respiratoria:")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos de Banco de Sangre:"),i()("div.row.animated.fadeInUp",{class:ro.showBitacora},[i()("div.col-12",[i()("div.filemgr-content-header.",[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),i()("div.mg-t-90.table-loader.wd-100p",i()("div.placeholder-paragraph.",[i()("div.line"),i()("div.line")])),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[i()("table.table.table-sm.tx-12[id='table-BSPedidos'][width='100%']")])])]),i()(no)]))]}};var io=ro,so=Mr(360),co={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.neurofisiologia.map(function(e,t,a){return[so(so.route.Link,{href:"/"+e.href,class:lo.page==e.idModulo?"active":""},[e.label])]})]}},lo={page:"",setPage:function(e){lo.page=e},view:function(){return[so(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[so("div.sidebar-header",[so("a[href=''][id='mainMenuOpen']",so("i[data-feather='menu']")),so("h5","Menu"),so("a[href=''][id='sidebarMenuClose']",so("i[data-feather='x']"))]),so("div.sidebar-body",so("ul.sidebar-nav",[so("li.nav-label.mg-b-15","Neurofisiología"),so("li.nav-item.show",[so(so.route.Link,{href:"/neurofisiologia",class:"nav-link with-sub"},[so("i[data-feather='layout']")," Neurofisiología "]),so("nav.nav",[so(co)])])]))])]}},uo=lo;var mo={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(mo.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?mo.start(e):mo.stop(e),e.isPaused=!e.isPaused}};function po(){var t={interval:null,seconds:100,isPaused:!1};return mo.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){mo.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){mo.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){mo.stop(t)}}}var bo={oncreate:function(){k.loadPedidos(),0!==k.searchField.length&&$("#table-pedidos").DataTable().search(k.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","Pedidos de Neurofisiología:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==k.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==k.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==k.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==k.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==k.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==k.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==k.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==k.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==k.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==k.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==k.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==k.idFiltro?moment(moment(k.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){k.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),k.loader=!0,k.pedidos=[],k.fetchPedidos(),i().route.set("/neurofisiologia/pedidos?idFiltro="+k.idFiltro+"&fechaDesde="+k.fechaDesde+"&fechaHasta="+k.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==k.idFiltro?moment(moment(k.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){k.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),k.loader=!0,k.pedidos=[],k.fetchPedidos(),i().route.set("/neurofisiologia/pedidos?idFiltro="+k.idFiltro+"&fechaDesde="+k.fechaDesde+"&fechaHasta="+k.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=2&fechaDesde="+k.fechaDesde+"&fechaHasta="+k.fechaHasta},["Pedidos entre Fechas"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=3&fechaDesde="+k.fechaDesde+"&fechaHasta="+k.fechaHasta},["Pedidos de Emergencia"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=4&fechaDesde="+k.fechaDesde+"&fechaHasta="+k.fechaHasta},["Pedidos de C. Externa"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=5&fechaDesde="+k.fechaDesde+"&fechaHasta="+k.fechaHasta},["Pedidos de Hospitalización"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==k.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){k.searchField=e.target.value},value:k.searchField}))]),i()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},k={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){uo.page="",0==k.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),k.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),k.fechaHasta=moment().format("DD-MM-YYYY"),k.loader=!0,k.pedidos=[],k.fetchPedidos())},oncreate:function(e){ke.suscribirCanal("MetroPlus-Imagen")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:k.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){k.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),i().mount(e.anCells[5],{view:function(){return[i()("div.d-flex",{},[i()("div.pd-0.flex-grow-1",i()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},i()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),i()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),i()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," SECTOR: "),i()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),i()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),i()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),i()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[i()("div.pd-0.flex-grow-1",i()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),i()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},i()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){i().route.set("/neurofisiologia/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},i()(".tx-normal",i()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==k.idFiltro?"?idFiltro="+k.idFiltro:"?idFiltro="+k.idFiltro+"&fechaDesde="+k.fechaDesde+"&fechaHasta="+k.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/neuro/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){k.loader=!1,k.pedidos=e.data}).catch(function(e){setTimeout(function(){k.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(k.pedidos).draw()},view:function(e){return k.loader?[i()(uo,{oncreate:uo.setPage(20)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==k.error.length?[i()(uo,{oncreate:uo.setPage(20)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("p","No existe infrmac dd ncin")])]))]:k.loader||0===k.pedidos.length?k.loader||0!=k.pedidos.length?[i()(uo,{oncreate:uo.setPage(20)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(uo,{oncreate:uo.setPage(20)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(uo,{oncreate:uo.setPage(20)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()(bo)])),i()("div.section-nav",[i()("label.nav-label","Recepción de Pedidos"),i()("div.mg-t-10.bg-white",{},i()("div.mg-t-10.bg-white",i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","N° de NeuroPedidos:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",k.pedidos.length),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),i()("div.pd-20",i()(po)))])]}},fo=k,ho=Mr(360),go={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.imagen.map(function(e,t,a){return[ho(ho.route.Link,{href:"/"+e.href,class:vo.page==e.idModulo?"active":""},[e.label])]})]}},vo={page:"",setPage:function(e){vo.page=e},view:function(){return[ho(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[ho("div.sidebar-header",[ho("a[href=''][id='mainMenuOpen']",ho("i[data-feather='menu']")),ho("h5","Menu"),ho("a[href=''][id='sidebarMenuClose']",ho("i[data-feather='x']"))]),ho("div.sidebar-body",ho("ul.sidebar-nav",[ho("li.nav-label.mg-b-15","Imagen"),ho("li.nav-item.show",[ho(ho.route.Link,{href:"/imagen",class:"nav-link with-sub"},[ho("i[data-feather='layout']")," Imagen "]),ho("nav.nav",[ho(go)])])]))])]}},xo=vo;var _o={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(_o.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?_o.start(e):_o.stop(e),e.isPaused=!e.isPaused}};function yo(){var t={interval:null,seconds:100,isPaused:!1};return _o.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){_o.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){_o.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){_o.stop(t)}}}var wo={oncreate:function(){D.loadPedidos(),0!==D.searchField.length&&$("#table-pedidos").DataTable().search(D.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","Pedidos de Imagen:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==D.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==D.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==D.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==D.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==D.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==D.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==D.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==D.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==D.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==D.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==D.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==D.idFiltro?moment(moment(D.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){D.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),D.loader=!0,D.pedidos=[],D.fetchPedidos(),i().route.set("/imagen/pedidos?idFiltro="+D.idFiltro+"&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==D.idFiltro?moment(moment(D.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){D.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),D.loader=!0,D.pedidos=[],D.fetchPedidos(),i().route.set("/imagen/pedidos?idFiltro="+D.idFiltro+"&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta},["Pedidos entre Fechas"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta},["Pedidos de Emergencia"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta},["Pedidos de C. Externa"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta},["Pedidos de Hospitalización"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==D.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){D.searchField=e.target.value},value:D.searchField}))]),i()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},D={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){xo.page="",0==D.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),D.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),D.fechaHasta=moment().format("DD-MM-YYYY"),D.loader=!0,D.pedidos=[],D.fetchPedidos())},oncreate:function(e){ke.suscribirCanal("MetroPlus-Imagen")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:D.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){D.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),i().mount(e.anCells[5],{view:function(){return[i()("div.d-flex",{},[i()("div.pd-0.flex-grow-1",i()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},i()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),i()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),i()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," SECTOR: "),i()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),i()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),i()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),i()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[i()("div.pd-0.flex-grow-1",i()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),i()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},i()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){i().route.set("/imagen/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},i()(".tx-normal",i()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==D.idFiltro?"?idFiltro="+D.idFiltro:"?idFiltro="+D.idFiltro+"&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/imagen/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){D.loader=!1,D.pedidos=e.data}).catch(function(e){setTimeout(function(){D.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(D.pedidos).draw()},view:function(e){return D.loader?[i()(xo,{oncreate:xo.setPage(24)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/imagen"},[" Imagen "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==D.error.length?[i()(xo,{oncreate:xo.setPage(24)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/imagen"},[" Imagen "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("p","No existe infrmac dd ncin")])]))]:D.loader||0===D.pedidos.length?D.loader||0!=D.pedidos.length?[i()(xo,{oncreate:xo.setPage(24)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/imagen"},[" Imagen "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(xo,{oncreate:xo.setPage(24)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/imagen"},[" Imagen "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(xo,{oncreate:xo.setPage(24)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/imagen"},[" Imagen "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()(wo)])),i()("div.section-nav",[i()("label.nav-label","RECEPCIÓN DE PEDIDOS"),i()("div.mg-t-10.bg-white",{},i()("div.mg-t-10.bg-white",i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","N° de Pedidos:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",D.pedidos.length),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),i()("div.pd-20",i()(yo)))])]}},Mo=D,Eo={secs:[],nombres:"",show:!1,view:function(){var o="",n="",r="";return 0==Po.num&&setTimeout(function(){Po.num=Po.data.length,Po.parseFetch(),i().redraw.sync()},2e3),0==Eo.secs.length?[i()("div.pd-10.wd-100p",i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Po.data.length+" formulario(s) encontrado(s)..."}}),i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]:[Eo.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(n=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(r="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Po.data.length+" formulario(s) encontrado(s)."}}),i()("table.table.table-bordered.wd-100p",{style:{zoom:Po.zoom}},[i()("thead",[i()("tr",i()("th[colspan='12'][scope='col']",[i()("i.tx-light.fas.fa-file-alt.mg-r-2."),i()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),i()("tr",[i()("th[colspan='10'][scope='col']",i()("div.m-0.p-0",i()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),i()("th.tx-right[colspan='2'][scope='col']",i()("a.tx-right.tx-semibold",{href:r,target:"_blank"},i()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),i()("tbody",[i()("tr",[i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ESTABLECIMIENTO")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NOMBRE")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","APELLIDO")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","SEXO (M-F)")),i()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NHCL.")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ADM."))]),i()("tr",[i()("th.text-center[colspan='3'][scope='row']",i()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",Eo.nombres)),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",Eo.apellidos_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Eo.sexo)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Eo.nhcl)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Eo.numero_admision))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","EDAD")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),i()("tr",[i()("td.text-center[colspan='1'][scope='row']",i()("div.m-0.p-0.text-center",Eo.edad||Eo.edad_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Eo.identificacion)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Eo.fecha_admision)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Eo.fecha_admision)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",Eo.ubicacion)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",Eo.medico_tratante))]),i()("tr",[i()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),i()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",i()("br"),"CADA PRESCRIPCIÓN"]))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FECHA",i()("br"),"día/mes/año"])),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","HORA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",i()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),i()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",i()("br"),"FÁRMACOS INSUMOS"]))]),i()("tr",[i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?i().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.text-justify",null!==n&&0!==n.length?i().trust(n.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Po={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Eo.secs.push(o.data[e])}),Eo.secs.map(function(e,t,a){"nombres"==e.name&&(Eo.nombres=e.answer),"apellidos_paciente"==e.name&&(Eo.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Eo.sexo=e.answer),"nhcl"==e.name&&(Eo.nhcl=e.answer),"numero_admision"==e.name&&(Eo.numero_admision=e.answer),"edad"==e.name&&(Eo.edad=e.answer),"edad_paciente"==e.name&&(Eo.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Eo.identificacion=e.answer),"fecha_admision"==e.name&&(Eo.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Eo.ubicacion=e.answer),"fecha_alta"==e.name&&(Eo.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Eo.medico_tratante=e.answer)})},parseFetch:function(){return Eo.secs=[],Po.data.map(function(e,t,a){Po.parseDoc(Po.data[t])})},fetch:function(){Po.data=[],Po.error="",i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Po.nhc+"&adm="+Po.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Po.data=e,Po.num=0):Po.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Po.fetch()},5e3)})},view:function(){return Po.error?[i()(".alert.alert-danger[role='alert']",Po.error)]:0!==Po.data.length?[i()(Eo)]:[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},ko={data:[],detalle:[],error:"",showFor:"",fetch:function(){ko.data=[],ko.error="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:To.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(ko.data=e.data,Po.adm=ko.data[0].ADM,Po.nhc=ko.data[0].NHCL,Po.fetch()):ko.error=e.message}).catch(function(e){setTimeout(function(){ko.fetch()},5e3)})},view:function(){return ko.error?[i()(".alert.alert-danger[role='alert']",ko.error)]:0!==ko.data.length?[i()(Po)]:[i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},Do={view:function(){if(0!==To.examenes.length)return To.examenes.map(function(e,t,a){return[i()(".tx-14.tx-semibold.d-inline",e.EXAMEN),null!==e.OBS_EXAMEN?[i()("br"),i()(".d-inline","Observaciones:"),i()("br"),i()(".d-inline",e.OBS_EXAMEN),i()("br"),i()("br")]:""]})}},To={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==To.data&&0==To.data.length||To.numeroPedido!==e.attrs.numeroPedido)&&(To.numeroPedido=e.attrs.numeroPedido,To.numeroAtencion=e.attrs.numeroAtencion,To.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,To.fetch()))},fetch:function(){To.data=[],To.loader=!0,i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-imagen",body:{numeroPedido:To.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(To.loader=!1,To.data=e.data,To.examenes=e.examenes,ko.fetch()):To.error=e.message}).catch(function(e){})},view:function(e){return[i()(o,{oncreate:o.setPage("imagen")}),i()(xo,{oncreate:xo.setPage(24)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/imagen"},[" Imagen "])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+To.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){To.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){To.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){To.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){To.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==Mo.idFiltro&&1<Mo.idFiltro?i().route.set("/imagen/pedidos/",{idFiltro:Mo.idFiltro,fechaDesde:Mo.fechaDesde,fechaHasta:Mo.fechaHasta}):i().route.set("/imagen/pedidos/",{idFiltro:1})}}))),"R"==To.data.TIPO_PEDIDO?[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),i()("td",{style:{"background-color":"#eaeff5"}},To.data.CD_PRE_MED),i()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},To.data.FECHA_PEDIDO+" "+To.data.HORA_PEDIDO),i()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},To.data.SECTOR)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},To.data.MED_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},To.data.ESPECIALIDAD)])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},To.data.NM_PACIENTE),i()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),i()("td",{style:{"background-color":"#eaeff5"}},To.data.EDAD),i()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},To.data.CD_PACIENTE)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),i()("td",{style:{"background-color":"#eaeff5"}},To.data.AT_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),i()("td",{style:{"background-color":"#eaeff5"}},To.data.PESO+"Kg."),i()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),i()("td",{style:{"background-color":"#eaeff5"}},To.data.ALTURA+"m."),i()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},To.data.SECTOR+" "+To.data.UBICACION)]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),i()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},i()(Do))]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),i()("tr.d-print-none",[i()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),i()("tr.d-print-none",[i()("td[colspan='9']",{},i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[i()(ko)])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}},Ao=To,So=Mr(360),Co={view:function(){return[So("div.content.content-components",So("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[So("ol.breadcrumb.df-breadcrumbs.mg-b-10",[So("li.breadcrumb-item",So(So.route.Link,{href:"/"},["MetroPlus"])),So("li.breadcrumb-item.active[aria-current='page']","Imagen")]),So("h1.df-title.mg-t-20.mg-b-10","Imagen:"),So("div.row.tx-14",[d.isShow("imagen",24)?[So("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){So.route.set("/imagen/pedidos")}},[So("div",{class:"media"},[So("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},So("i",{class:"fas fa-inbox tx-30 tx-white"})),So("div",{class:"media-body mg-l-15"},[So("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),So("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[],d.isShow("imagen",31)?[So("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){So.route.set("/imagen/agendamiento")}},[So("div",{class:"media"},[So("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},So("i",{class:"fas fa-calendar tx-30 tx-white"})),So("div",{class:"media-body mg-l-15"},[So("p",{class:"tx-18 mg-b-0"},"Agendamiento de Imagen"),So("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Agendamiento de Imagen")])])])]:[],d.isShow("imagen",35)?[So("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){So.route.set("/imagen/notificaciones")}},[So("div",{class:"media"},[So("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},So("i",{class:"fas fa-bell tx-30 tx-white"})),So("div",{class:"media-body mg-l-15"},[So("p",{class:"tx-18 mg-b-0"},"Notificaciones de Imagen"),So("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Imagen")])])])]:[]])]))]}},Io={oninit:function(){o.page="",xo.page="",d.isAuth()},oncreate:function(){document.title="Imagen | "+d.title},view:function(){return[So(o,{oncreate:o.setPage("imagen")}),So(xo),So(Co)]}},No=Mr(360),Lo={view:function(){return[No("div.content.content-components",No("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[No("ol.breadcrumb.df-breadcrumbs.mg-b-10",[No("li.breadcrumb-item",No(No.route.Link,{href:"/"},["MetroPlus"])),No("li.breadcrumb-item.active[aria-current='page']","Neurofisiología")]),No("h1.df-title.mg-t-20.mg-b-10","Neurofisiología:"),No("div.row.tx-14",[d.isShow("neurofisiologia",20)?[No("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){No.route.set("/neurofisiologia/pedidos")}},[No("div",{class:"media"},[No("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},No("i",{class:"fas fa-inbox tx-30 tx-white"})),No("div",{class:"media-body mg-l-15"},[No("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),No("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},Ro={oninit:function(){o.page="",uo.page="",d.isAuth()},oncreate:function(){document.title="Neurofisiología | "+d.title},view:function(){return[No(o,{oncreate:o.setPage("neurofisiologia")}),No(uo),No(Lo)]}},Fo={secs:[],nombres:"",show:!1,view:function(){var o="",n="",r="";return 0==Oo.num&&setTimeout(function(){Oo.num=Oo.data.length,Oo.parseFetch(),i().redraw.sync()},2e3),0==Fo.secs.length?[i()("div.pd-10.wd-100p",i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Oo.data.length+" formulario(s) encontrado(s)..."}}),i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]:[Fo.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(n=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(r="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Oo.data.length+" formulario(s) encontrado(s)."}}),i()("table.table.table-bordered.wd-100p",{style:{zoom:Oo.zoom}},[i()("thead",[i()("tr",i()("th[colspan='12'][scope='col']",[i()("i.tx-light.fas.fa-file-alt.mg-r-2."),i()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),i()("tr",[i()("th[colspan='10'][scope='col']",i()("div.m-0.p-0",i()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),i()("th.tx-right[colspan='2'][scope='col']",i()("a.tx-right.tx-semibold",{href:r,target:"_blank"},i()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),i()("tbody",[i()("tr",[i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ESTABLECIMIENTO")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NOMBRE")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","APELLIDO")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","SEXO (M-F)")),i()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NHCL.")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ADM."))]),i()("tr",[i()("th.text-center[colspan='3'][scope='row']",i()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",Fo.nombres)),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",Fo.apellidos_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Fo.sexo)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Fo.nhcl)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Fo.numero_admision))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","EDAD")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),i()("tr",[i()("td.text-center[colspan='1'][scope='row']",i()("div.m-0.p-0.text-center",Fo.edad||Fo.edad_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Fo.identificacion)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Fo.fecha_admision)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Fo.fecha_admision)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",Fo.ubicacion)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",Fo.medico_tratante))]),i()("tr",[i()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),i()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",i()("br"),"CADA PRESCRIPCIÓN"]))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FECHA",i()("br"),"día/mes/año"])),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","HORA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",i()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),i()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",i()("br"),"FÁRMACOS INSUMOS"]))]),i()("tr",[i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?i().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.text-justify",null!==n&&0!==n.length?i().trust(n.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Oo={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Fo.secs.push(o.data[e])}),Fo.secs.map(function(e,t,a){"nombres"==e.name&&(Fo.nombres=e.answer),"apellidos_paciente"==e.name&&(Fo.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Fo.sexo=e.answer),"nhcl"==e.name&&(Fo.nhcl=e.answer),"numero_admision"==e.name&&(Fo.numero_admision=e.answer),"edad"==e.name&&(Fo.edad=e.answer),"edad_paciente"==e.name&&(Fo.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Fo.identificacion=e.answer),"fecha_admision"==e.name&&(Fo.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Fo.ubicacion=e.answer),"fecha_alta"==e.name&&(Fo.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Fo.medico_tratante=e.answer)})},parseFetch:function(){return Fo.secs=[],Oo.data.map(function(e,t,a){Oo.parseDoc(Oo.data[t])})},fetch:function(){Oo.data=[],Oo.error="",i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Oo.nhc+"&adm="+Oo.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Oo.data=e,Oo.num=0):Oo.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Oo.fetch()},5e3)})},view:function(){return Oo.error?[i()(".alert.alert-danger[role='alert']",Oo.error)]:0!==Oo.data.length?[i()(Fo)]:[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},Ho={data:[],detalle:[],error:"",showFor:"",fetch:function(){Ho.data=[],Ho.error="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:jo.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Ho.data=e.data,Oo.adm=Ho.data[0].ADM,Oo.nhc=Ho.data[0].NHCL,Oo.fetch()):Ho.error=e.message}).catch(function(e){setTimeout(function(){Ho.fetch()},5e3)})},view:function(){return Ho.error?[i()(".alert.alert-danger[role='alert']",Ho.error)]:0!==Ho.data.length?[i()(Oo)]:[i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},Yo={view:function(){if(0!==jo.examenes.length)return jo.examenes.map(function(e,t,a){return[i()(".tx-14.tx-semibold.d-inline",e.EXAMEN),i()("br"),null!==e.OBS_EXAMEN?i()(".d-inline","Observaciones:"):"",null!==e.OBS_EXAMEN?i()("br"):"",null!==e.OBS_EXAMEN?i()(".d-inline",e.OBS_EXAMEN):""]})}},jo={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==jo.data&&0==jo.data.length||jo.numeroPedido!==e.attrs.numeroPedido)&&(jo.numeroPedido=e.attrs.numeroPedido,jo.numeroAtencion=e.attrs.numeroAtencion,jo.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,jo.fetch()))},fetch:function(){jo.data=[],jo.loader=!0,i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-neuro",body:{numeroPedido:jo.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(jo.loader=!1,jo.data=e.data,jo.examenes=e.examenes,Ho.fetch()):jo.error=e.message}).catch(function(e){})},view:function(e){return[i()(o,{oncreate:o.setPage("neurofisiologia")}),i()(uo,{oncreate:uo.setPage(20)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/neurofisiologia"},["Neurofisiología"])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+jo.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){jo.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){jo.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){jo.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){jo.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==fo.idFiltro&&1<fo.idFiltro?i().route.set("/neurofisiologia/pedidos/",{idFiltro:fo.idFiltro,fechaDesde:fo.fechaDesde,fechaHasta:fo.fechaHasta}):i().route.set("/neurofisiologia/pedidos/",{idFiltro:1})}}))),"N"==jo.data.TIPO_NeuroPedido?[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[i()("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Urgente")]:[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[i()("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Normal")],i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL NeuroPedido:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° de NeuroPedido:"),i()("td",{style:{"background-color":"#eaeff5"}},jo.data.CD_PRE_MED),i()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},jo.data.FECHA_PEDIDO+" "+jo.data.HORA_PEDIDO),i()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},jo.data.SECTOR)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},jo.data.MED_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},jo.data.ESPECIALIDAD)])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},jo.data.NM_PACIENTE),i()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),i()("td",{style:{"background-color":"#eaeff5"}},jo.data.EDAD),i()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},jo.data.CD_PACIENTE)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),i()("td",{style:{"background-color":"#eaeff5"}},jo.data.AT_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),i()("td",{style:{"background-color":"#eaeff5"}},jo.data.PESO),i()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),i()("td",{style:{"background-color":"#eaeff5"}},jo.data.ALTURA),i()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},jo.data.SECTOR+" "+jo.data.UBICACION)]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),i()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},i()(Yo))]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),i()("tr.d-print-none",[i()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),i()("tr.d-print-none",[i()("td[colspan='9']",{},i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[i()(Ho)])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}},Uo=jo,$o=Mr(360),Bo={view:function(){return[$o("div.content.content-components",$o("div.container",{style:{"max-width":"100%"}},[$o("ol.breadcrumb.df-breadcrumbs.mg-b-10",[$o("li.breadcrumb-item",$o($o.route.Link,{href:"/"},["MetroPlus"])),$o("li.breadcrumb-item.active[aria-current='page']","Terapia Respiratoria")]),$o("h1.df-title.mg-t-20.mg-b-10","Terapia Respiratoria:"),$o("div.row.tx-14",[d.isShow("terapia-respiratoria",18)?[$o("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){$o.route.set("/terapia-respiratoria/pedidos")}},[$o("div",{class:"media"},[$o("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},$o("i",{class:"fas fa-inbox tx-30 tx-white"})),$o("div",{class:"media-body mg-l-15"},[$o("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),$o("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},Vo={oninit:function(){o.page="",Qa.page="",d.isAuth()},oncreate:function(){document.title="Terapia Respiratoria | "+d.title},view:function(){return[$o(o,{oncreate:o.setPage("terapia-respiratoria")}),$o(Qa),$o(Bo)]}},Jo={secs:[],nombres:"",show:!1,view:function(){var o="",n="",r="";return 0==zo.num&&setTimeout(function(){zo.num=zo.data.length,zo.parseFetch(),i().redraw.sync()},2e3),0==Jo.secs.length?[i()("div.pd-10.wd-100p",i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+zo.data.length+" formulario(s) encontrado(s)..."}}),i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]:[Jo.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(n=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(r="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=zo.data.length+" formulario(s) encontrado(s)."}}),i()("table.table.table-bordered.wd-100p",{style:{zoom:zo.zoom}},[i()("thead",[i()("tr",i()("th[colspan='12'][scope='col']",[i()("i.tx-light.fas.fa-file-alt.mg-r-2."),i()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),i()("tr",[i()("th[colspan='10'][scope='col']",i()("div.m-0.p-0",i()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),i()("th.tx-right[colspan='2'][scope='col']",i()("a.tx-right.tx-semibold",{href:r,target:"_blank"},i()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),i()("tbody",[i()("tr",[i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ESTABLECIMIENTO")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NOMBRE")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","APELLIDO")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","SEXO (M-F)")),i()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NHCL.")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ADM."))]),i()("tr",[i()("th.text-center[colspan='3'][scope='row']",i()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",Jo.nombres)),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",Jo.apellidos_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Jo.sexo)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Jo.nhcl)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Jo.numero_admision))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","EDAD")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),i()("tr",[i()("td.text-center[colspan='1'][scope='row']",i()("div.m-0.p-0.text-center",Jo.edad||Jo.edad_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Jo.identificacion)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Jo.fecha_admision)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Jo.fecha_admision)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",Jo.ubicacion)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",Jo.medico_tratante))]),i()("tr",[i()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),i()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",i()("br"),"CADA PRESCRIPCIÓN"]))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FECHA",i()("br"),"día/mes/año"])),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","HORA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",i()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),i()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",i()("br"),"FÁRMACOS INSUMOS"]))]),i()("tr",[i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?i().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.text-justify",null!==n&&0!==n.length?i().trust(n.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},zo={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Jo.secs.push(o.data[e])}),Jo.secs.map(function(e,t,a){"nombres"==e.name&&(Jo.nombres=e.answer),"apellidos_paciente"==e.name&&(Jo.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Jo.sexo=e.answer),"nhcl"==e.name&&(Jo.nhcl=e.answer),"numero_admision"==e.name&&(Jo.numero_admision=e.answer),"edad"==e.name&&(Jo.edad=e.answer),"edad_paciente"==e.name&&(Jo.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Jo.identificacion=e.answer),"fecha_admision"==e.name&&(Jo.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Jo.ubicacion=e.answer),"fecha_alta"==e.name&&(Jo.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Jo.medico_tratante=e.answer)})},parseFetch:function(){return Jo.secs=[],zo.data.map(function(e,t,a){zo.parseDoc(zo.data[t])})},fetch:function(){zo.data=[],zo.error="",i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+zo.nhc+"&adm="+zo.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(zo.data=e,zo.num=0):zo.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){zo.fetch()},5e3)})},view:function(){return zo.error?[i()(".alert.alert-danger[role='alert']",zo.error)]:0!==zo.data.length?[i()(Jo)]:[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},qo={data:[],detalle:[],error:"",showFor:"",fetch:function(){qo.data=[],qo.error="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Go.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(qo.data=e.data,zo.adm=qo.data[0].ADM,zo.nhc=qo.data[0].NHCL,zo.fetch()):qo.error=e.message}).catch(function(e){setTimeout(function(){qo.fetch()},5e3)})},view:function(){return qo.error?[i()(".alert.alert-danger[role='alert']",qo.error)]:0!==qo.data.length?[i()(zo)]:[i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},Xo={view:function(){if(0!==Go.examenes.length)return Go.examenes.map(function(e,t,a){return[i()(".tx-14.tx-semibold.d-inline",e.EXAMEN),i()("br"),null!==e.OBS_EXAMEN?i()(".d-inline","Observaciones:"):"",null!==e.OBS_EXAMEN?i()("br"):"",null!==e.OBS_EXAMEN?i()(".d-inline",e.OBS_EXAMEN):""]})}},Go={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==Go.data&&0==Go.data.length||Go.numeroPedido!==e.attrs.numeroPedido)&&(Go.numeroPedido=e.attrs.numeroPedido,Go.numeroAtencion=e.attrs.numeroAtencion,Go.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,Go.fetch()))},fetch:function(){Go.data=[],Go.loader=!0,i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-tr",body:{numeroPedido:Go.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Go.loader=!1,Go.data=e.data,Go.examenes=e.examenes,qo.fetch()):Go.error=e.message}).catch(function(e){})},view:function(e){return[i()(o,{oncreate:o.setPage("imagen")}),i()(Qa,{oncreate:Qa.setPage(24)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/terapia-respiratoria"},["Terapia Respiratoria"])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Go.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){Go.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){Go.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){Go.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){Go.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==oo.idFiltro&&1<oo.idFiltro?i().route.set("/terapia-respiratoria/pedidos/",{idFiltro:oo.idFiltro,fechaDesde:oo.fechaDesde,fechaHasta:oo.fechaHasta}):i().route.set("/terapia-respiratoria/pedidos/",{idFiltro:1})}}))),"N"==Go.data.TIPO_PEDIDO?[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")]:[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")],i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),i()("td",{style:{"background-color":"#eaeff5"}},Go.data.CD_PRE_MED),i()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Go.data.FECHA_PEDIDO+" "+Go.data.HORA_PEDIDO),i()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Go.data.SECTOR)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Go.data.MED_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Go.data.ESPECIALIDAD)])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Go.data.NM_PACIENTE),i()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),i()("td",{style:{"background-color":"#eaeff5"}},Go.data.EDAD),i()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Go.data.CD_PACIENTE)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),i()("td",{style:{"background-color":"#eaeff5"}},Go.data.AT_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),i()("td",{style:{"background-color":"#eaeff5"}},Go.data.PESO),i()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),i()("td",{style:{"background-color":"#eaeff5"}},Go.data.ALTURA),i()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Go.data.SECTOR+" "+Go.data.UBICACION)]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),i()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},i()(Xo))]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),i()("tr.d-print-none",[i()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),i()("tr.d-print-none",[i()("td[colspan='9']",{},i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[i()(qo)])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}},Ko=Go,Zo=Mr(360),Wo={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.endoscopia.map(function(e,t,a){return[Zo(Zo.route.Link,{href:"/"+e.href,class:Qo.page==e.idModulo?"active":""},[e.label])]})]}},Qo={page:"",setPage:function(e){Qo.page=e},view:function(){return[Zo(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Zo("div.sidebar-header",[Zo("a[href=''][id='mainMenuOpen']",Zo("i[data-feather='menu']")),Zo("h5","Menu"),Zo("a[href=''][id='sidebarMenuClose']",Zo("i[data-feather='x']"))]),Zo("div.sidebar-body",Zo("ul.sidebar-nav",[Zo("li.nav-label.mg-b-15","Endoscopía"),Zo("li.nav-item.show",[Zo(Zo.route.Link,{href:"/endoscopia",class:"nav-link with-sub"},[Zo("i[data-feather='layout']")," Endoscopía "]),Zo("nav.nav",[Zo(Wo)])])]))])]}},en=Qo,tn=Mr(360),an={view:function(){return[tn("div.content.content-components",tn("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[tn("ol.breadcrumb.df-breadcrumbs.mg-b-10",[tn("li.breadcrumb-item",tn(tn.route.Link,{href:"/"},["MetroPlus"])),tn("li.breadcrumb-item.active[aria-current='page']","Endoscopía")]),tn("h1.df-title.mg-t-20.mg-b-10","Endoscopía:"),tn("div.row.tx-14",[d.isShow("endoscopia",25)?[tn("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){tn.route.set("/endoscopia/pedidos")}},[tn("div",{class:"media"},[tn("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},tn("i",{class:"fas fa-inbox tx-30 tx-white"})),tn("div",{class:"media-body mg-l-15"},[tn("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),tn("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},on={oninit:function(){o.page="",en.page="",d.isAuth()},oncreate:function(){document.title="Endoscopía | "+d.title},view:function(){return[tn(o,{oncreate:o.setPage("endoscopia")}),tn(en),tn(an)]}};var nn={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(nn.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?nn.start(e):nn.stop(e),e.isPaused=!e.isPaused}};function rn(){var t={interval:null,seconds:100,isPaused:!1};return nn.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){nn.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){nn.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){nn.stop(t)}}}var dn={oncreate:function(){T.loadPedidos(),0!==T.searchField.length&&$("#table-pedidos").DataTable().search(T.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","Pedidos de Endoscopía:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==T.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==T.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==T.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==T.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==T.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==T.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==T.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==T.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==T.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==T.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==T.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==T.idFiltro?moment(moment(T.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){T.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),T.loader=!0,T.pedidos=[],T.fetchPedidos(),i().route.set("/endoscopia/pedidos?idFiltro="+T.idFiltro+"&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==T.idFiltro?moment(moment(T.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){T.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),T.loader=!0,T.pedidos=[],T.fetchPedidos(),i().route.set("/endoscopia/pedidos?idFiltro="+T.idFiltro+"&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["Pedidos entre Fechas"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["Pedidos de Emergencia"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["Pedidos de C. Externa"]),i()(i().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["Pedidos de Hospitalización"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==T.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){T.searchField=e.target.value},value:T.searchField}))]),i()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},T={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){en.page="",0==T.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),T.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),T.fechaHasta=moment().format("DD-MM-YYYY"),T.loader=!0,T.pedidos=[],T.fetchPedidos())},oncreate:function(e){ke.suscribirCanal("MetroPlus-Endoscopia")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:T.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){T.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),i().mount(e.anCells[5],{view:function(){return[i()("div.d-flex",{},[i()("div.pd-0.flex-grow-1",i()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},i()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),i()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),i()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," SECTOR: "),i()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),i()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),i()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),i()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[i()("div.pd-0.flex-grow-1",i()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),i()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},i()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){i().route.set("/endoscopia/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},i()(".tx-normal",i()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==T.idFiltro?"?idFiltro="+T.idFiltro:"?idFiltro="+T.idFiltro+"&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/endoscopia/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){T.loader=!1,T.pedidos=e.data}).catch(function(e){setTimeout(function(){T.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(T.pedidos).draw()},view:function(e){return T.loader?[i()(en,{oncreate:en.setPage(25)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/endoscopia"},[" Endoscopía "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==T.error.length?[i()(en,{oncreate:en.setPage(25)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/endoscopia"},[" Endoscopía "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("p","No existe infrmac dd ncin")])]))]:T.loader||0===T.pedidos.length?T.loader||0!=T.pedidos.length?[i()(en,{oncreate:en.setPage(25)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/endoscopia"},[" Endoscopía "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(en,{oncreate:en.setPage(25)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/endoscopia"},[" Endoscopía "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(en,{oncreate:en.setPage(25)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/endoscopia"},[" Endoscopía "])),i()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),i()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),i()(dn)])),i()("div.section-nav",[i()("label.nav-label","RECEPCIÓN DE PEDIDOS"),i()("div.mg-t-10.bg-white",{},i()("div.mg-t-10.bg-white",i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","N° de Pedidos:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",T.pedidos.length),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),i()("div.pd-20",i()(rn)))])]}},sn=T,cn={secs:[],nombres:"",show:!1,view:function(){var o="",n="",r="";return 0==ln.num&&setTimeout(function(){ln.num=ln.data.length,ln.parseFetch(),i().redraw.sync()},2e3),0==cn.secs.length?[i()("div.pd-10.wd-100p",i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+ln.data.length+" formulario(s) encontrado(s)..."}}),i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]:[cn.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(n=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(r="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=ln.data.length+" formulario(s) encontrado(s)."}}),i()("table.table.table-bordered.wd-100p",{style:{zoom:ln.zoom}},[i()("thead",[i()("tr",i()("th[colspan='12'][scope='col']",[i()("i.tx-light.fas.fa-file-alt.mg-r-2."),i()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),i()("tr",[i()("th[colspan='10'][scope='col']",i()("div.m-0.p-0",i()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),i()("th.tx-right[colspan='2'][scope='col']",i()("a.tx-right.tx-semibold",{href:r,target:"_blank"},i()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),i()("tbody",[i()("tr",[i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ESTABLECIMIENTO")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NOMBRE")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","APELLIDO")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","SEXO (M-F)")),i()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NHCL.")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ADM."))]),i()("tr",[i()("th.text-center[colspan='3'][scope='row']",i()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",cn.nombres)),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",cn.apellidos_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",cn.sexo)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",cn.nhcl)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",cn.numero_admision))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","EDAD")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),i()("tr",[i()("td.text-center[colspan='1'][scope='row']",i()("div.m-0.p-0.text-center",cn.edad||cn.edad_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",cn.identificacion)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",cn.fecha_admision)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",cn.fecha_admision)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",cn.ubicacion)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",cn.medico_tratante))]),i()("tr",[i()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),i()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",i()("br"),"CADA PRESCRIPCIÓN"]))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FECHA",i()("br"),"día/mes/año"])),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","HORA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",i()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),i()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",i()("br"),"FÁRMACOS INSUMOS"]))]),i()("tr",[i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?i().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.text-justify",null!==n&&0!==n.length?i().trust(n.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},ln={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){cn.secs.push(o.data[e])}),cn.secs.map(function(e,t,a){"nombres"==e.name&&(cn.nombres=e.answer),"apellidos_paciente"==e.name&&(cn.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(cn.sexo=e.answer),"nhcl"==e.name&&(cn.nhcl=e.answer),"numero_admision"==e.name&&(cn.numero_admision=e.answer),"edad"==e.name&&(cn.edad=e.answer),"edad_paciente"==e.name&&(cn.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(cn.identificacion=e.answer),"fecha_admision"==e.name&&(cn.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(cn.ubicacion=e.answer),"fecha_alta"==e.name&&(cn.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(cn.medico_tratante=e.answer)})},parseFetch:function(){return cn.secs=[],ln.data.map(function(e,t,a){ln.parseDoc(ln.data[t])})},fetch:function(){ln.data=[],ln.error="",i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+ln.nhc+"&adm="+ln.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(ln.data=e,ln.num=0):ln.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){ln.fetch()},5e3)})},view:function(){return ln.error?[i()(".alert.alert-danger[role='alert']",ln.error)]:0!==ln.data.length?[i()(cn)]:[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},un={data:[],detalle:[],error:"",showFor:"",fetch:function(){un.data=[],un.error="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:pn.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(un.data=e.data,ln.adm=un.data[0].ADM,ln.nhc=un.data[0].NHCL,ln.fetch()):un.error=e.message}).catch(function(e){setTimeout(function(){un.fetch()},5e3)})},view:function(){return un.error?[i()(".alert.alert-danger[role='alert']",un.error)]:0!==un.data.length?[i()(ln)]:[i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},mn={view:function(){if(0!==pn.examenes.length)return pn.examenes.map(function(e,t,a){return[i()(".tx-14.tx-semibold.d-inline",e.EXAMEN),null!==e.OBS_EXAMEN?[i()("br"),i()(".d-inline","Observaciones:"),i()("br"),i()(".d-inline",e.OBS_EXAMEN),i()("br"),i()("br")]:""]})}},pn={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==pn.data&&0==pn.data.length||pn.numeroPedido!==e.attrs.numeroPedido)&&(pn.numeroPedido=e.attrs.numeroPedido,pn.numeroAtencion=e.attrs.numeroAtencion,pn.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,pn.fetch()))},fetch:function(){pn.data=[],pn.loader=!0,i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-endoscopia",body:{numeroPedido:pn.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(pn.loader=!1,pn.data=e.data,pn.examenes=e.examenes,un.fetch()):pn.error=e.message}).catch(function(e){})},view:function(e){return[i()(o,{oncreate:o.setPage("endoscopia")}),i()(en,{oncreate:en.setPage(25)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/endoscopia"},[" Endoscopía"])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+pn.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){pn.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){pn.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){pn.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){pn.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==sn.idFiltro&&1<sn.idFiltro?i().route.set("/endoscopia/pedidos/",{idFiltro:sn.idFiltro,fechaDesde:sn.fechaDesde,fechaHasta:sn.fechaHasta}):i().route.set("/endoscopia/pedidos/",{idFiltro:1})}}))),i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° de EndoPedido:"),i()("td",{style:{"background-color":"#eaeff5"}},pn.data.CD_PRE_MED),i()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},pn.data.FECHA_PEDIDO+" "+pn.data.HORA_PEDIDO),i()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},pn.data.SECTOR)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},pn.data.MED_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},pn.data.ESPECIALIDAD)])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},pn.data.NM_PACIENTE),i()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),i()("td",{style:{"background-color":"#eaeff5"}},pn.data.EDAD),i()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},pn.data.CD_PACIENTE)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),i()("td",{style:{"background-color":"#eaeff5"}},pn.data.AT_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),i()("td",{style:{"background-color":"#eaeff5"}},pn.data.PESO),i()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),i()("td",{style:{"background-color":"#eaeff5"}},pn.data.ALTURA),i()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},pn.data.SECTOR+" "+pn.data.UBICACION)]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),i()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},i()(mn))]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),i()("tr.d-print-none",[i()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),i()("tr.d-print-none",[i()("td[colspan='9']",{},i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[i()(un)])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}},bn=pn;function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hn={secs:[],nombres:"",show:!1,view:function(){var o="",n="",r="";return 0==gn.num&&setTimeout(function(){gn.num=gn.data.length,gn.parseFetch(),i().redraw.sync()},2e3),0==hn.secs.length?[i()("div.pd-10.wd-100p",i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+gn.data.length+" formulario(s) encontrado(s)..."}}),i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]:[hn.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(n=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(r="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=gn.data.length+" formulario(s) encontrado(s)."}}),i()("table.table.table-bordered.wd-100p",{style:{zoom:gn.zoom}},[i()("thead",[i()("tr",i()("th[colspan='12'][scope='col']",[i()("i.tx-light.fas.fa-file-alt.mg-r-2."),i()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),i()("tr",[i()("th[colspan='10'][scope='col']",i()("div.m-0.p-0",i()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),i()("th.tx-right[colspan='2'][scope='col']",i()("a.tx-right.tx-semibold",{href:r,target:"_blank"},i()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),i()("tbody",[i()("tr",[i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ESTABLECIMIENTO")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NOMBRE")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","APELLIDO")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","SEXO (M-F)")),i()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NHCL.")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ADM."))]),i()("tr",[i()("th.text-center[colspan='3'][scope='row']",i()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",hn.nombres)),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",hn.apellidos_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",hn.sexo)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",hn.nhcl)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",hn.numero_admision))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","EDAD")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),i()("tr",[i()("td.text-center[colspan='1'][scope='row']",i()("div.m-0.p-0.text-center",hn.edad||hn.edad_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",hn.identificacion)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",hn.fecha_admision)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",hn.fecha_admision)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",hn.ubicacion)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",hn.medico_tratante))]),i()("tr",[i()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),i()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",i()("br"),"CADA PRESCRIPCIÓN"]))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FECHA",i()("br"),"día/mes/año"])),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","HORA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",i()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),i()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",i()("br"),"FÁRMACOS INSUMOS"]))]),i()("tr",[i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?i().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.text-justify",null!==n&&0!==n.length?i().trust(n.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},gn={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){hn.secs.push(o.data[e])}),hn.secs.map(function(e,t,a){"nombres"==e.name&&(hn.nombres=e.answer),"apellidos_paciente"==e.name&&(hn.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(hn.sexo=e.answer),"nhcl"==e.name&&(hn.nhcl=e.answer),"numero_admision"==e.name&&(hn.numero_admision=e.answer),"edad"==e.name&&(hn.edad=e.answer),"edad_paciente"==e.name&&(hn.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(hn.identificacion=e.answer),"fecha_admision"==e.name&&(hn.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(hn.ubicacion=e.answer),"fecha_alta"==e.name&&(hn.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(hn.medico_tratante=e.answer)})},parseFetch:function(){return hn.secs=[],gn.data.map(function(e,t,a){gn.parseDoc(gn.data[t])})},fetch:function(){gn.data=[],gn.error="",i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+gn.nhc+"&adm="+gn.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(gn.data=e,gn.num=0,i().redraw()):gn.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){gn.fetch()},5e3)})},view:function(){return gn.error?[i()(".alert.alert-danger[role='alert']",gn.error)]:0!==gn.data.length?[i()(hn)]:[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},vn={data:[],detalle:[],error:"",showFor:"",fetch:function(){vn.data=[],vn.error="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:C.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(vn.data=e.data,gn.adm=vn.data[0].ADM,gn.nhc=vn.data[0].NHCL,gn.fetch()):vn.error=e.message}).catch(function(e){setTimeout(function(){vn.fetch()},5e3)})},view:function(){return vn.error?[i()(".alert.alert-danger[role='alert']",vn.error)]:0!==vn.data.length?[i()(gn)]:[i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},xn={view:function(){if(0!==C.examenes)return null==C.examenes.Exame.length&&(C.examenes.Exame=[C.examenes.Exame]),C.examenes.Exame.map(function(e,t,a){return"E"==e.operacao?[i()(".tx-14.tx-semibold.tx-danger.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),i()("br")]:[i()(".tx-14.tx-semibold.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),i()("br")]})}},A={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:function(){A.error="",A.data=[],A.documento=[],i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:C.numeroPedido,idTimeRecord:C.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(C.loader=!1,C.data=e.data.pedido,C.examenes=e.data.pedido.PedidoExameLab.listaExame,A.documento=e.data,A.data=e.data.dataTomaMuestra.examenesToma,A.dataMuestras=e.data.dataRecepcion.examenesRecep,A.documento.dataTomaMuestra.insumosToma=e.data.dataTomaMuestra.insumosToma,0!==A.documento.dataTomaMuestra.fechaToma.length&&(yn.disabledToma=!0,yn.checkedAll=!0),vn.fetch(),wn.fetch(),_n.fetch()):C.error=e.message}).catch(function(e){})}},S={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},_n={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:_n.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){i().mount(e.anCells[0],{view:function(){return e._aData.title,i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[i()("div.toast-header.bg-primary",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),i()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),i()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(_n.data).draw()},fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+C.numeroPedido}).then(function(e){_n.data=e.data,_n.loadObservaciones()}).catch(function(e){})},sendNotiLab:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+C.numeroPedido,body:{message:_n.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(_n.observaciones="",_n.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){EditarPedido.error=e.message})}},yn={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,oncreate:function(){0!==A.documento.dataTomaMuestra.insumosToma.length&&(S.tuboLila=A.documento.dataTomaMuestra.insumosToma.tuboLila,S.tuboRojo=A.documento.dataTomaMuestra.insumosToma.tuboRojo,S.tuboCeleste=A.documento.dataTomaMuestra.insumosToma.tuboCeleste,S.tuboNegro=A.documento.dataTomaMuestra.insumosToma.tuboNegro,S.tuboVerde=A.documento.dataTomaMuestra.insumosToma.tuboVerde,S.gsav=A.documento.dataTomaMuestra.insumosToma.gsav,S.hemocultivo=A.documento.dataTomaMuestra.insumosToma.hemocultivo,S.qtb=A.documento.dataTomaMuestra.insumosToma.qtb)},seleccionarTodos:function(o){yn.checkedAll=o;var n=moment().format("DD-MM-YYYY HH:mm");return A.data.map(function(e,t,a){o?(A.data[t].STATUS_TOMA="1",A.data[t].FECHA_TOMA=n,A.data[t].customCheked=!0):(A.data[t].STATUS_TOMA="",A.data[t].FECHA_TOMA="",A.data[t].customCheked=!1)})},validarUpdateMuestras:function(){for(var e=0,t=0;t<A.data.length;t++)0!==A.data[t].STATUS_TOMA.length&&e++;if(0==e)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";var a=0;if(0!==S.tuboLila&&a++,0!==S.tuboRojo&&a++,0!==S.tuboCeleste&&a++,0!==S.tuboNegro&&a++,0!==S.tuboVerde&&a++,0!==S.gsav&&a++,0!==S.hemocultivo&&a++,0!==S.qtb&&a++,0===a)throw console.log(a),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:function(){A.documento.dataTomaMuestra.insumosToma=S,i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-toma-status-pedido-lab",body:{documento:JSON.stringify(A.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){A.documento=e.data,A.data=e.data.dataTomaMuestra.examenesToma,A.documento.dataTomaMuestra.insumosToma=e.data.dataTomaMuestra.insumosToma}).catch(function(e){})},view:function(){return A.error?[i()("p.mg-0",A.error)]:0!==A.data.length?[i()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[yn.disabledToma?[i()("p.mg-5.tx-right",[i()("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:function(){yn.disabledToma=!1,yn.disabledInsumos=!1}},i()("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],i()(".",{style:{"pointer-events":yn.disabledToma?"none":"auto"}},[i()("div.table-responsive.mg-b-10.mg-t-10",i()("table.table.table-dashboard.table-hover.mg-b-0",[i()("thead",i()("tr",[i()("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),i()("tr",[i()("th.text-left","EXAMEN"),i()("th","CONFIRMACIÓN")])),i()("tbody",[i()("tr",[i()("td.tx-normal",i()("div.custom-control.custom-checkbox",[i()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:yn.checkedAll,onclick:function(e){yn.seleccionarTodos(this.checked)}}),i()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),i()("td.tx-medium.text-right")]),A.data.map(function(e,t,a){return[i()("tr",[i()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.custom-control-input.tx-16[type='checkbox'][id='"+e.CD_EXA_LAB+"']",{checked:A.data[t].customCheked,onupdate:function(e){this.checked=A.data[t].customCheked},onclick:function(e){e.preventDefault();e=this.checked;A.data[t].customCheked=!A.data[t].customCheked,e?(this.checked=!0,A.data[t].STATUS_TOMA="1",A.data[t].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,yn.checkedAll=!1,A.data[t].STATUS_TOMA="",A.data[t].FECHA_TOMA="")}}),i()("label.custom-control-label.tx-16[for='"+e.CD_EXA_LAB+"']",0!==A.data[t].STATUS_TOMA.length?A.data[t].FECHA_TOMA:A.data[t].STATUS_TOMA)]))])]})])])),i()("div.table-responsive.mg-b-10.mg-t-10",i()("table.table.table-dashboard.table-hover.mg-b-0",[i()("thead",i()("tr",[i()("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),i()("tr",[i()("th.text-left","INSUMOS"),i()("th.text-left","CANTIDAD")])),i()("tbody",[i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:function(e){e.target.checked?S.tuboLila=1:S.tuboLila=0},oncreate:function(e){void 0!==S.tuboLila&&0!==S.tuboLila&&(e.dom.checked=!0)},onupdate:function(e){void 0!==S.tuboLila&&0!==S.tuboLila?1==S.tuboLila&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==S.tuboLila&&0!==S.tuboLila?e.dom.innerText=S.tuboLila:e.dom.innerText=0},onupdate:function(e){void 0!==S.tuboLila&&0!==S.tuboLila?e.dom.innerText=S.tuboLila:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboLila++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboLila--,S.tuboLila<0&&(S.tuboLila=0)}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:function(e){e.target.checked?S.tuboRojo=1:S.tuboRojo=0},oncreate:function(e){void 0!==S.tuboRojo&&0!==S.tuboRojo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==S.tuboRojo&&0!==S.tuboRojo?1==S.tuboRojo&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==S.tuboRojo&&0!==S.tuboRojo?e.dom.innerText=S.tuboRojo:e.dom.innerText=0},onupdate:function(e){void 0!==S.tuboRojo&&0!==S.tuboRojo?e.dom.innerText=S.tuboRojo:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboRojo++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboRojo--,S.tuboRojo<0&&(S.tuboRojo=0)}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:function(e){e.target.checked?S.tuboCeleste=1:S.tuboCeleste=0},oncreate:function(e){void 0!==S.tuboCeleste&&0!==S.tuboCeleste&&(e.dom.checked=!0)},onupdate:function(e){void 0!==S.tuboCeleste&&0!==S.tuboCeleste?1==S.tuboCeleste&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==S.tuboCeleste&&0!==S.tuboCeleste?e.dom.innerText=S.tuboCeleste:e.dom.innerText=0},onupdate:function(e){void 0!==S.tuboCeleste&&0!==S.tuboCeleste?e.dom.innerText=S.tuboCeleste:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboCeleste++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboCeleste--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:function(e){e.target.checked?S.tuboNegro=1:S.tuboNegro=0},oncreate:function(e){void 0!==S.tuboNegro&&0!==S.tuboNegro&&(e.dom.checked=!0)},onupdate:function(e){void 0!==S.tuboNegro&&0!==S.tuboNegro?1==S.tuboNegro&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==S.tuboNegro&&0!==S.tuboNegro?e.dom.innerText=S.tuboNegro:e.dom.innerText=0},onupdate:function(e){void 0!==S.tuboNegro&&0!==S.tuboNegro?e.dom.innerText=S.tuboNegro:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboNegro++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboNegro--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:function(e){e.target.checked?S.tuboVerde=1:S.tuboVerde=0},oncreate:function(e){void 0!==S.tuboVerde&&0!==S.tuboVerde&&(e.dom.checked=!0)},onupdate:function(e){void 0!==S.tuboVerde&&0!==S.tuboVerde?1==S.tuboVerde&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==S.tuboVerde&&0!==S.tuboVerde?e.dom.innerText=S.tuboVerde:e.dom.innerText=0},onupdate:function(e){void 0!==S.tuboVerde&&0!==S.tuboVerde?e.dom.innerText=S.tuboVerde:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboVerde++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){S.tuboVerde--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:function(e){e.target.checked?S.gsav=1:S.gsav=0},oncreate:function(e){void 0!==S.gsav&&0!==S.gsav&&(e.dom.checked=!0)},onupdate:function(e){void 0!==S.gsav&&0!==S.gsav?1==S.gsav&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==S.gsav&&0!==S.gsav?e.dom.innerText=S.gsav:e.dom.innerText=0},onupdate:function(e){void 0!==S.gsav&&0!==S.gsav?e.dom.innerText=S.gsav:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){S.gsav++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){S.gsav--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:function(e){e.target.checked?S.hemocultivo=1:S.hemocultivo=0},oncreate:function(e){void 0!==S.hemocultivo&&0!==S.hemocultivo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==S.hemocultivo&&0!==S.hemocultivo?1==S.hemocultivo&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==S.hemocultivo&&0!==S.hemocultivo?e.dom.innerText=S.hemocultivo:e.dom.innerText=0},onupdate:function(e){void 0!==S.hemocultivo&&0!==S.hemocultivo?e.dom.innerText=S.hemocultivo:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){S.hemocultivo++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){S.hemocultivo--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),i()("tr",[i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:function(e){e.target.checked?S.qtb=1:S.qtb=0},oncreate:function(e){void 0!==S.qtb&&0!==S.qtb&&(e.dom.checked=!0)},onupdate:function(e){void 0!==S.qtb&&0!==S.qtb?1==S.qtb&&(e.dom.checked=!0):e.dom.checked=!1}}),i()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),i()("td.tx-16.tx-medium.text-left",[i()(".btn-group.btn-group-sm.tx-16[role='group']",{},[i()("button.btn[type='button']",i()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==S.qtb&&0!==S.qtb?e.dom.innerText=S.qtb:e.dom.innerText=0},onupdate:function(e){void 0!==S.qtb&&0!==S.qtb?e.dom.innerText=S.qtb:e.dom.innerText=0}})),i()("button.btn.btn[type='button']",{onclick:function(){S.qtb++}},i()("i.fas.fa-plus-circle.tx-22.tx-success")),i()("button.btn.btn[type='button']",{onclick:function(){S.qtb--}},i()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),yn.disabledToma?[i()("p.mg-5.",[0!==A.documento.dataTomaMuestra.fechaToma.length?[i()("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+A.documento.dataTomaMuestra.fechaToma)]:[]])]:[i()("div.pd-10",[i()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:yn.disabledToma,onclick:function(){yn.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");A.documento.dataTomaMuestra.usuarioToma="flebot1",A.documento.dataTomaMuestra.fechaToma=e,yn.disabledToma=!0,yn.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[i()("div.pd-t-10",[i()("div.placeholder-paragraph.wd-100p",[i()("div.line"),i()("div.line")])])]}},wn={showLogs:"",dataXML:"",logsEnvio:[],examenes:[],oninit:function(){wn.examenes=[]},agregarExamen:function(o){var n=!1;wn.examenes.map(function(e,t,a){wn.examenes[t].codigoExame==o.CD_EXA_LAB&&(n=!0)}),n||C.examenes.Exame.map(function(e,t,a){C.examenes.Exame[t].codigoExame==o.CD_EXA_LAB&&wn.examenes.push(C.examenes.Exame[t])}),console.log(wn.examenes)},eliminarExamen:function(o){var n=!1,r=null;wn.examenes.map(function(e,t,a){wn.examenes[t].codigoExame==o.CD_EXA_LAB&&(n=!0,r=t)}),n&&(wn.examenes.splice(r,1),console.log(wn.examenes))},generarXML:function(){var e={Exame:wn.examenes},t=moment().format("YYYY-MM-DD HH:mm:ss"),e=(C.data.Cabecalho.mensagemID=moment().unix(),C.data.Cabecalho.dataHora=t,C.data.PedidoExameLab.listaExame=e,C.data.PedidoExameLab.operacao="I",function e(t){var a="";for(var o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(var n in t[o])a=(a=(a+="\n<"+o+">\n")+e(new Object(t[o][n])))+"</"+o+">";else"object"==fn(t[o])?a+=e(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+">\n"}a=a.replace(/<\/?[0-9]{1,}>/g,"");return a}(C.data));console.log("documento",C.data),console.log("xmlRes",e),wn.sendXML(e,C.numeroPedido,t)},sendXML:function(e,t,a){i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3),console.log("result",e)}).catch(function(e){})},fetch:function(){wn.logsEnvio=[],i().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+C.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(e){console.log(e),wn.logsEnvio=e.data}).catch(function(e){})}},C={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&void 0!==e.attrs.idTimeRecord&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,C.numeroPedido=e.attrs.numeroPedido,C.numeroAtencion=e.attrs.numeroAtencion,C.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,C.idTimeRecord=e.attrs.idTimeRecord,C.fetch())},fetch:function(){C.data=[],C.loader=!0,A.fetch()},view:function(e){var t,a;return 0!==C.data.length&&(t=moment(C.data.PedidoExameLab.paciente.dataNascimento),a=moment(),C.data.PedidoExameLab.paciente.anios=a.diff(t,"years")),C.loader?[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(16)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+C.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:[i()(o,{oncreate:o.setPage("laboratorio")}),i()(r,{oncreate:r.setPage(16)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+C.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){C.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){C.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){C.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){C.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==Ke.idFiltro&&1<Ke.idFiltro?i().route.set("/laboratorio/flebotomista/",{idFiltro:Ke.idFiltro,fechaDesde:Ke.fechaDesde,fechaHasta:Ke.fechaHasta}):i().route.set("/laboratorio/flebotomista/",{idFiltro:1})}}))),"R"==C.data.PedidoExameLab.tipoSolicitacao?[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[i()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),i()("td",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.codigoPedido),i()("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",i()("br"),i()(".d-inline.tx-danger","Fecha Toma de Muestra:")),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.dataExame,i()("br"),C.data.PedidoExameLab.dataExame),i()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.descSetorSolicitante)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.descPrestadorSolicitante),i()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.descPrestadorSolicitante)])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),i()("td[colspan='5']",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.paciente.nome),i()("th",{style:{"background-color":"#a8bed6"}},"Edad:"),i()("td",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.paciente.anios+" Año(s)"),i()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),i()("td",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.paciente.codigoPaciente)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),i()("td",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.atendimento.codigoAtendimento),i()("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),i()("td",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.paciente.sexo),i()("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),i()("td",{style:{"background-color":"#eaeff5"}},C.data.PedidoExameLab.paciente.dataNascimento),i()("th",{style:{"background-color":"#a8bed6"}},"Dg:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(null==C.data.PedidoExameLab.diagnostico.codigoDiagnostico.length?"":"CIE: "+C.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(null==C.data.PedidoExameLab.diagnostico.dsDiagostico.length?"":" - "+C.data.PedidoExameLab.diagnostico.dsDiagostico))]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","EXÁMENES:")]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),i()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},i()(xn))]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),i()("tr.d-print-none",[i()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),i()("li.nav-item",i()("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},i()("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),i()("li.nav-item",i()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},i()("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),i()("tr.d-print-none",[i()("td[colspan='10']",i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[i()(vn)]),i()(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[i()(yn)]),i()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),i()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){_n.observaciones=e.target.value},value:_n.observaciones}),i()("div.mg-0.mg-t-5.text-right",[i()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==_n.observaciones.length?_n.sendNotiLab():alert("Observaciones es obligatorio.")}},[i()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),i()("hr.wd-100p.mg-t-5.mg-b-5")]),i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),i()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}};var Mn=C,En=Mr(360),Pn={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.patologia.map(function(e,t,a){return[En(En.route.Link,{href:"/"+e.href,class:kn.page==e.idModulo?"active":""},[e.label])]})]}},kn={page:"",setPage:function(e){kn.page=e},view:function(){return[En(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[En("div.sidebar-header",[En("a[href=''][id='mainMenuOpen']",En("i[data-feather='menu']")),En("h5","Menu"),En("a[href=''][id='sidebarMenuClose']",En("i[data-feather='x']"))]),En("div.sidebar-body",En("ul.sidebar-nav",[En("li.nav-label.mg-b-15","Patología"),En("li.nav-item.show",[En(En.route.Link,{href:"/patologia",class:"nav-link with-sub"},[En("i[data-feather='layout']")," Patología "]),En("nav.nav",[En(Pn)])])]))])]}},Dn=kn,Tn=Mr(360),An={view:function(){return[Tn("div.content.content-components",Tn("div.container",{style:{"max-width":"100%"}},[Tn("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Tn("li.breadcrumb-item",Tn(Tn.route.Link,{href:"/"},["MetroPlus"])),Tn("li.breadcrumb-item.active[aria-current='page']","Patología")]),Tn("h1.df-title.mg-t-20.mg-b-10","Patología:"),Tn("div.row.tx-14",[d.isShow("patologia",26)?[Tn("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Tn.route.set("/patologia/pedidos")}},[Tn("div",{class:"media"},[Tn("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Tn("i",{class:"fas fa-inbox tx-30 tx-white"})),Tn("div",{class:"media-body mg-l-15"},[Tn("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),Tn("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pedidos")])])])]:[]])]))]}},Sn={oninit:function(){o.page="",Dn.page="",d.isAuth()},oncreate:function(){document.title="Patologia | "+d.title},view:function(){return[Tn(o,{oncreate:o.setPage("patologia")}),Tn(Dn),Tn(An)]}};var Cn={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(Cn.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Cn.start(e):Cn.stop(e),e.isPaused=!e.isPaused}};function In(){var t={interval:null,seconds:100,isPaused:!1};return Cn.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Cn.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Cn.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Cn.stop(t)}}}var Nn={oncreate:function(){I.loadPedidos(),0!==I.searchField.length&&$("#table-PatologiaPedidos").DataTable().search(I.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","Patología:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==I.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==I.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa ")},onupdate:function(e){1==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==I.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==I.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa ")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==I.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==I.idFiltro?moment(moment(I.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){I.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),i().route.set("/patologia/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==I.idFiltro?moment(moment(I.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){I.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),i().route.set("/patologia/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=2&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Emergencia"]),i()(i().route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=3&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Hospitalización"]),i()(i().route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=4&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de C. Externa"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==I.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){I.searchField=e.target.value},value:I.searchField}))]),i()("table.table.table-sm.tx-11[id='table-PatologiaPedidos'][width='100%']")])])])}},I={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Dn.page="",0==I.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),I.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),I.fechaHasta=moment().format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos())},oncreate:function(e){ke.suscribirCanal("MetroPlus-PatologiaPedidos")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-PatologiaPedidos").DataTable({data:I.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"Pres. N°:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){i().mount(e,{view:function(){return[i()("td.wd-5p",{class:"I"==t.TP_ATENDIMENTO?"bg-primary":"bg-danger"},["I"==t.TP_ATENDIMENTO?i()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","I"):i()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","E")]),i()("td.wd-10p",{style:{}},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO),i()("td.wd-10p",{style:{}},i()("span.tx-semibold.tx-dark.tx-15.mg-b-1",t.CD_PRE_MED)),i()("td.wd-40p",{style:{}},[i()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.SECTOR?"tx-danger":"tx-primary"},t.SECTOR+" "+t.UBICACION),i()("br"),"NHC: "+t.CD_PACIENTE+" ATENCIÓN N°:"+t.AT_MV,i()("br"),t.EDAD+" "+t.PESO+" "+t.ALTURA,i()("br"),i()(".d-inline.tx-semibold",t.NM_PACIENTE),i()("br")]),i()("td.wd-40p",{style:{}},t.MED_MV),i()("td.tx-center.tx-semibold",{onclick:function(){i().route.set("/patologia/pedido/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]}})},drawCallback:function(e){I.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==I.idFiltro?"?type=ingresadas&idFiltro="+I.idFiltro:"?type=ingresadas&idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/patologia/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){I.loader=!1,I.pedidos=e.data}).catch(function(e){setTimeout(function(){I.fetchPatologiaPedidos()},2e3)})},reloadData:function(){var e=$("#table-PatologiaPedidos").DataTable();e.clear(),e.rows.add(I.pedidos).draw()},view:function(e){return I.loader?[i()(Dn,{oncreate:Dn.setPage(26)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/patologia"},[" Patología "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==I.error.length?[i()(Dn,{oncreate:Dn.setPage(26)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/patologia"},[" Patología "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("p","No existe información.")])]))]:I.loader||0===I.pedidos.length?I.loader||0!=I.pedidos.length?[i()(Dn,{oncreate:Dn.setPage(26)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/patologia"},[" Patología "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(Dn,{oncreate:Dn.setPage(26)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/patologia"},[" Patología "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(Dn,{oncreate:Dn.setPage(26)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/patologia"},[" Patología "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()(Nn)])),i()("div.section-nav",[i()("label.nav-label","Pedidos Ingresados"),i()("div.mg-t-10.bg-white",{},i()("div.mg-t-10.bg-white",i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",I.pedidos.length),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),i()("div.pd-20",i()(In)))])]}},Ln=I,Rn={secs:[],nombres:"",show:!1,view:function(){var o="",n="",r="";return 0==Fn.num&&setTimeout(function(){Fn.num=Fn.data.length,Fn.parseFetch(),i().redraw.sync()},2e3),0==Rn.secs.length?[i()("div.pd-10.wd-100p",i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Fn.data.length+" formulario(s) encontrado(s)..."}}),i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]:[Rn.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(n=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(r="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Fn.data.length+" formulario(s) encontrado(s)."}}),i()("table.table.table-bordered.wd-100p",{style:{zoom:Fn.zoom}},[i()("thead",[i()("tr",i()("th[colspan='12'][scope='col']",[i()("i.tx-light.fas.fa-file-alt.mg-r-2."),i()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),i()("tr",[i()("th[colspan='10'][scope='col']",i()("div.m-0.p-0",i()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),i()("th.tx-right[colspan='2'][scope='col']",i()("a.tx-right.tx-semibold",{href:r,target:"_blank"},i()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),i()("tbody",[i()("tr",[i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ESTABLECIMIENTO")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NOMBRE")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","APELLIDO")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","SEXO (M-F)")),i()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NHCL.")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ADM."))]),i()("tr",[i()("th.text-center[colspan='3'][scope='row']",i()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",Rn.nombres)),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",Rn.apellidos_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Rn.sexo)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Rn.nhcl)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Rn.numero_admision))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","EDAD")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),i()("tr",[i()("td.text-center[colspan='1'][scope='row']",i()("div.m-0.p-0.text-center",Rn.edad||Rn.edad_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Rn.identificacion)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Rn.fecha_admision)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",Rn.fecha_admision)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",Rn.ubicacion)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",Rn.medico_tratante))]),i()("tr",[i()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),i()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",i()("br"),"CADA PRESCRIPCIÓN"]))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FECHA",i()("br"),"día/mes/año"])),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","HORA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",i()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),i()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",i()("br"),"FÁRMACOS INSUMOS"]))]),i()("tr",[i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?i().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.text-justify",null!==n&&0!==n.length?i().trust(n.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Fn={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Rn.secs.push(o.data[e])}),Rn.secs.map(function(e,t,a){"nombres"==e.name&&(Rn.nombres=e.answer),"apellidos_paciente"==e.name&&(Rn.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Rn.sexo=e.answer),"nhcl"==e.name&&(Rn.nhcl=e.answer),"numero_admision"==e.name&&(Rn.numero_admision=e.answer),"edad"==e.name&&(Rn.edad=e.answer),"edad_paciente"==e.name&&(Rn.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Rn.identificacion=e.answer),"fecha_admision"==e.name&&(Rn.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Rn.ubicacion=e.answer),"fecha_alta"==e.name&&(Rn.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Rn.medico_tratante=e.answer)})},parseFetch:function(){return Rn.secs=[],Fn.data.map(function(e,t,a){Fn.parseDoc(Fn.data[t])})},fetch:function(){Fn.data=[],Fn.error="",i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Fn.nhc+"&adm="+Fn.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Fn.data=e,Fn.num=0):Fn.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Fn.fetch()},5e3)})},view:function(){return Fn.error?[i()(".alert.alert-danger[role='alert']",Fn.error)]:0!==Fn.data.length?[i()(Rn)]:[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},On={data:[],detalle:[],error:"",showFor:"",fetch:function(){On.data=[],On.error="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Yn.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(On.data=e.data,Fn.adm=On.data[0].ADM,Fn.nhc=On.data[0].NHCL,Fn.fetch()):On.error=e.message}).catch(function(e){setTimeout(function(){On.fetch()},5e3)})},view:function(){return On.error?[i()(".alert.alert-danger[role='alert']",On.error)]:0!==On.data.length?[i()(Fn)]:[i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},Hn={view:function(){if(0!==Yn.examenes.length)return Yn.examenes.map(function(e,t,a){return[i()(".tx-14.tx-semibold.d-inline",e.EXAMEN),i()("br"),null!==e.OBS_EXAMEN?i()(".d-inline","Observaciones:"):"",null!==e.OBS_EXAMEN?i()("br"):"",null!==e.OBS_EXAMEN?i()(".d-inline",e.OBS_EXAMEN):""]})}},Yn={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==Yn.data&&0==Yn.data.length||Yn.numeroPedido!==e.attrs.numeroPedido)&&(Yn.numeroPedido=e.attrs.numeroPedido,Yn.numeroAtencion=e.attrs.numeroAtencion,Yn.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,Yn.fetch()))},fetch:function(){Yn.data=[],Yn.loader=!0,i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-patologia",body:{numeroPedido:Yn.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Yn.loader=!1,Yn.data=e.data,Yn.examenes=e.examenes,On.fetch()):Yn.error=e.message}).catch(function(e){})},view:function(e){return[i()(o,{oncreate:o.setPage("patologia")}),i()(Dn,{oncreate:Dn.setPage(26)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/patologia"},["Patología"])),i()("li.breadcrumb-item.active[aria-current='page']","DETALLE DE PEDIDO")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Yn.numeroPedido),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){Yn.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){Yn.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){Yn.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){Yn.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==Ln.idFiltro&&1<Ln.idFiltro?i().route.set("/patologia/pedidos/",{idFiltro:Ln.idFiltro,fechaDesde:Ln.fechaDesde,fechaHasta:Ln.fechaHasta}):i().route.set("/patologia/pedidos/",{idFiltro:1})}}))),i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° de PedidoPatologia:"),i()("td",{style:{"background-color":"#eaeff5"}},Yn.data.CD_PRE_MED),i()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Yn.data.FECHA_PEDIDO+" "+Yn.data.HORA_PEDIDO),i()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Yn.data.SECTOR)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Yn.data.MED_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Yn.data.ESPECIALIDAD)])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Yn.data.NM_PACIENTE),i()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),i()("td",{style:{"background-color":"#eaeff5"}},Yn.data.EDAD),i()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Yn.data.CD_PACIENTE)]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),i()("td",{style:{"background-color":"#eaeff5"}},Yn.data.AT_MV),i()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),i()("td",{style:{"background-color":"#eaeff5"}},Yn.data.PESO),i()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),i()("td",{style:{"background-color":"#eaeff5"}},Yn.data.ALTURA),i()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Yn.data.SECTOR+" "+Yn.data.UBICACION)]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),i()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},i()(Hn))]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),i()("tr.d-print-none",[i()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),i()("tr.d-print-none",[i()("td[colspan='9']",{},i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[i()(On)])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}},jn=Yn;var Un={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(Un.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Un.start(e):Un.stop(e),e.isPaused=!e.isPaused}};function $n(){var t={interval:null,seconds:100,isPaused:!1};return Un.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Un.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Un.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Un.stop(t)}}}var Bn={oncreate:function(){Vn.loadEtiquetas(),0!==Vn.searchField.length&&$("#table-etiquetas").DataTable().search(Vn.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","Admisiones:")]),i()("div.col-sm-12.filemgr-content-header",{class:1==Vn.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){Vn.searchField=e.target.value},value:Vn.searchField}))]),i()("table.table.table-sm.tx-11[id='table-etiquetas'][width='100%']")])])])}},Vn={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",loaderImprimir:!1,oninit:function(e){da.page="",0==Vn.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Vn.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Vn.fechaHasta=moment().format("DD-MM-YYYY"),Vn.loader=!0,Vn.pedidos=[],Vn.fetchEtiquetas())},loadEtiquetas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-etiquetas").DataTable({data:Vn.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Paciente:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[2],orderable:!1}],fnRowCallback:function(e,t,a,o){i().mount(e,{view:function(){return[i()("td",{class:"I"==t.TP_ATENDIMENTO?"bg-primary":"bg-danger"},["I"==t.TP_ATENDIMENTO?i()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","Internación"):i()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","Emergencia")]),i()("td.wd-40p",{style:{}},t.NM_PACIENTE),i()("td.tx-center.tx-semibold",{onclick:function(){Vn.loaderImprimir?alert("Tienes un proceso de Impresión pendiente."):Vn.generarImpresion(t.CD_ATENDIMENTO)},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Imprimir ")]}})},drawCallback:function(e){Vn.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchEtiquetas:function(){var e="",e=1==Vn.idFiltro?"?type=ingresadas&idFiltro="+Vn.idFiltro:"?type=ingresadas&idFiltro="+Vn.idFiltro+"&fechaDesde="+Vn.fechaDesde+"&fechaHasta="+Vn.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ptes-etiquetas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Vn.loader=!1,Vn.pedidos=e.data}).catch(function(e){setTimeout(function(){Vn.fetchEtiquetas()},2e3)})},reloadData:function(){var e=$("#table-etiquetas").DataTable();e.clear(),e.rows.add(Vn.pedidos).draw()},generarImpresion:function(e){Vn.loaderImprimir=!0,i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/as-print-etiquetas",body:{numAtencion:e},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?Vn.imprimirEtiquetas(e.data,12):(Vn.loaderImprimir=!1,alert("Proceso no se completo con éxito, puedes reintetar una vez más. Si el inconveniente persiste, comuníquese con nuestra Mesa de Ayuda Ext: 2020."))}).catch(function(e){Vn.loaderImprimir=!1,alert(e)})},imprimirEtiquetas:function(e,t){i().request({method:"POST",url:"https://eti.hospitalmetropolitano.org/imprimir",body:{file:e,printer:"ETIQUETAS_MPLUS_EME",pages:t,ancho:670,alto:120},headers:{"Content-Type":"application/json; charset=utf-8"},extract:function(e){return{status:e.status,body:e.responseText}}}).then(function(e){201==e.status?(Vn.loaderImprimir=!1,alert("Proceso realizado con éxito.")):(Vn.loaderImprimir=!1,alert(e.body.mensaje))}).catch(function(e){Vn.loaderImprimir=!1,alert(e)})},view:function(e){return Vn.loader?[i()(da,{oncreate:da.setPage(27)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/admisiones"},[" Admsiones "])),i()("li.breadcrumb-item.active[aria-current='page']","Impresión de Etiquetas")]),i()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==Vn.error.length?[i()(da,{oncreate:da.setPage(27)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/admisiones"},[" Admsiones "])),i()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),i()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),i()("div.row.animated.fadeInUp",[i()("p","No existe información.")])]))]:Vn.loader||0===Vn.pedidos.length?Vn.loader||0!=Vn.pedidos.length?[i()(da,{oncreate:da.setPage(27)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/admisiones"},[" Admsiones "])),i()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),i()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(da,{oncreate:da.setPage(27)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/admisiones"},[" Admsiones "])),i()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),i()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(da,{oncreate:da.setPage(27)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/admisiones"},[" Admsiones "])),i()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),i()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),i()(Bn)])),i()("div.section-nav",[i()("label.nav-label"," Impresión de Etiquetas "),i()("div.mg-t-10.bg-white",i()("div.pd-20",i()($n)))])]}},Jn=Vn;var zn={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),i().redraw()},start:function(e){e.interval=setInterval(zn.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?zn.start(e):zn.stop(e),e.isPaused=!e.isPaused}};function qn(){var t={interval:null,seconds:100,isPaused:!1};return zn.start(t),{view:function(){return[i()("div.mg-b-0",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[i()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),i()("div.d-flex.justify-content-between.mg-b-5",[i()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),i()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-15",t.isPaused?[i()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){zn.toggle(t)},style:{cursor:"pointer"}})]:[i()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){zn.toggle(t)},style:{cursor:"pointer"}})]))]),i()("div.progress.ht-4.mg-b-0.op-5",i()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){zn.stop(t)}}}var Xn={oncreate:function(){N.loadRecetas(),0!==N.searchField.length&&$("#table-recetas").DataTable().search(N.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","Farmacia:",i()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==N.idFiltro&&(e.dom.innerHTML="Recetas de Hoy"),2==N.idFiltro&&(e.dom.innerHTML="Recetas entre Fechas"),3==N.idFiltro&&(e.dom.innerHTML="Recetas de Emergencia"),4==N.idFiltro&&(e.dom.innerHTML="Recetas de Hospitalización"),5==N.idFiltro&&(e.dom.innerHTML="Recetas de PB"),6==N.idFiltro&&(e.dom.innerHTML="Recetas de H1"),7==N.idFiltro&&(e.dom.innerHTML="Recetas de H2"),8==N.idFiltro&&(e.dom.innerHTML="Recetas de C2")},onupdate:function(e){1==N.idFiltro&&(e.dom.innerHTML="Recetas de Hoy"),2==N.idFiltro&&(e.dom.innerHTML="Recetas entre Fechas"),3==N.idFiltro&&(e.dom.innerHTML="Recetas de Emergencia"),4==N.idFiltro&&(e.dom.innerHTML="Recetas de Hospitalización"),5==N.idFiltro&&(e.dom.innerHTML="Recetas de PB"),6==N.idFiltro&&(e.dom.innerHTML="Recetas de H1"),7==N.idFiltro&&(e.dom.innerHTML="Recetas de H2"),8==N.idFiltro&&(e.dom.innerHTML="Recetas de C2")}})),i()("div.d-flex.tx-14",[i()(".",{class:1==N.idFiltro?"d-none":"d-flex"},[i()("div.link-03",{title:"Desde"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},i()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==N.idFiltro?moment(moment(N.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){N.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetch(),i().route.set("/farmacia/recetas/?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}})),i()("div.link-03",{title:"Hasta"},i()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),i()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},i()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==N.idFiltro?moment(moment(N.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){N.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetch(),i().route.set("/farmacia/recetas/?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}}))]),i()("div.dropdown.dropleft",[i()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},i()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),i()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[i()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),i()(i().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=1"},["Recetas de Hoy"]),i()(i().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=2&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Recetas entre Fechas"]),i()(i().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=3&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Recetas de Emergencia"]),i()(i().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=4&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Recetas de Hospitalización"]),i()(i().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=5&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Recetas de PB"]),i()(i().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=6&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Recetas de H1"]),i()(i().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=7&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Recetas de H2"]),i()(i().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=8&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Recetas de C2"])])])])]),i()("div.col-sm-12.filemgr-content-header",{class:1==N.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){N.searchField=e.target.value},value:N.searchField}))]),i()("table.table.table-sm.tx-11[id='table-recetas'][width='100%']")])])])}},N={notificaciones:[],pedidos:[],pendientes:0,despachos:0,showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){ea.page="",0==N.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),N.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),N.fechaHasta=moment().format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetch())},oncreate:function(e){ke.suscribirCanal("MetroPlus-Farmacia")},loadRecetas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-recetas").DataTable({data:N.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:[{title:"Fecha Receta:"},{title:"Paciente:"},{title:"Status Despacho:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.FECHA_RECETA},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[3],orderable:!1}],fnRowCallback:function(e,t,a,o){i().mount(e,{view:function(){return[i()("td.tx-14",{style:{}},t.FECHA_RECETA),i()("td.wd-60p",{style:{}},[i()(".d-inline.tx-semibold.tx-14","NHC: "),i()(".d-inline.tx-14",t.CD_PACIENTE),i()("br"),i()(".d-inline.tx-semibold.tx-14","PTE: "),i()(".d-inline.tx-14",t.NM_PACIENTE),i()("br"),i()(".d-inline.tx-semibold.tx-14","N° ATENCIÓN: "),i()(".d-inline.tx-14",t.CD_ATENDIMENTO),i()(".d-inline.tx-semibold.tx-14"," UBICACIÓN: "),i()(".d-inline.tx-14",t.UBICACION+" - "+t.DS_UNID_INT)]),i()("td.tx-center.wd-10p.tx-white.tx-semibold",{style:{"background-color":0==t.STATUS_DESPACHO?"#fd7e14":"#0d9448"}},0==t.STATUS_DESPACHO?"Pendiente":"Despachado"),i()("td.tx-center.wd-10p.tx-semibold",{onclick:function(){i().route.set("/farmacia/receta/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.CD_ATENDIMENTO,numeroReceta:t.id,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver ",i()("br")," Receta ")]}})},drawCallback:function(e){N.loader=!1,N.despachos=0,N.pendientes=0,e.aoData.map(function(e,t){1==e._aData.STATUS_DESPACHO?N.despachos++:N.pendientes++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==N.idFiltro?"?idFiltro="+N.idFiltro:"?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/recetas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),N.loader=!1,N.pedidos=e.data}).catch(function(e){setTimeout(function(){N.fetch()},2e3)})},reproesarMensajeXML:function(e,t){N.loader=!0,i().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-recetas").DataTable();e.clear(),e.rows.add(N.pedidos).draw()},view:function(e){return N.loader?[i()(ea,{oncreate:ea.setPage(5)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/farmacia"},[" Farmacia "])),i()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),i()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==N.error.length?[i()(ea,{oncreate:ea.setPage(5)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/farnacia"},[" Farmacia "])),i()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),i()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),i()("div.row.animated.fadeInUp",[i()("p","No existe información.")])]))]:N.loader||0===N.pedidos.length?N.loader||0!=N.pedidos.length?[i()(ea,{oncreate:ea.setPage(5)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),i()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(ea,{oncreate:ea.setPage(5)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/farmacia"},[" Farmacia "])),i()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),i()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(ea,{oncreate:ea.setPage(5)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/farmacia"},[" Farmacia "])),i()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),i()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),i()(Xn)])),i()("div.section-nav",[i()("label.nav-label","Recetas de Alta"),i()("div.mg-t-10.bg-white",{},i()("div.mg-t-10.bg-white",i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Recetas de Alta:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",N.pedidos.length),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Receta(s)")])])]),i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Pendientes:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",N.pendientes),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Receta(s)")])])]),i()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[i()("h6.lh-5.mg-b-5","Despachadas:")]),i()("div.card-body.pd-0",[i()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[i()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",N.despachos),i()("div.tx-18",[i()("divv.lh-0.tx-gray-300","Receta(s)")])])])),i()("div.pd-20",i()(qn)))])]}},Gn=N,Kn={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:Kn.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){i().mount(e.anCells[0],{view:function(){return i()("div.demo-static-toast",i()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[i()("div.toast-header.bg-primary",[i()("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observación:"),i()("small.tx-white",moment.unix(e._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),i()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(Kn.data).draw()},fetch:function(){i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+L.numeroReceta}).then(function(e){Kn.data=e.data,Kn.loadObservaciones()}).catch(function(e){})},sendObs:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+L.numeroReceta,body:{message:Kn.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Kn.observaciones="",Kn.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){})}},Zn={view:function(){if(0!==L.medicamentos.length)return[i()("thead",i()("tr",[i()("th","MEDICACIÓN"),i()("th","CANT:"),i()("th","DESP:")])),i()("tbody",[L.medicamentos.map(function(e,t,a){return e.DESP.includes("SI")?[i()("tr",[i()("td.tx-semibold.tx-normal",[e.MEDICACION,i()("br"),null!==e.OBS?i()(".d-inline","Observaciones:"):"",null!==e.OBS?i()("br"):"",null!==e.OBS?i()(".d-inline",e.OBS):""]),i()("td.tx-semibold.tx-normal",e.CANT),i()("td.tx-semibold.tx-normal.bg-danger.tx-white",e.DESP)])]:[i()("tr",[i()("td.tx-semibold.tx-normal",[e.MEDICACION,i()("br"),null!==e.OBS?i()(".d-inline","Observaciones:"):"",null!==e.OBS?i()("br"):"",null!==e.OBS?i()(".d-inline",e.OBS):""]),i()("td.tx-color-03.tx-normal",e.CANT),i()("td.tx-color-03.tx-normal",e.DESP)])]})])]}},L={data:[],medicamentos:[],despacho:!1,error:"",numeroReceta:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroReceta&&(document.title="Detalle de Receta N°: "+e.attrs.numeroReceta+" | "+d.title,(void 0!==L.data&&0==L.data.length||L.numeroReceta!==e.attrs.numeroReceta)&&(L.numeroReceta=e.attrs.numeroReceta,L.numeroAtencion=e.attrs.numeroAtencion,L.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,L.fetch()))},fetch:function(){L.data=[],L.loader=!0,i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-receta",body:{numeroReceta:L.numeroReceta},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(e.data=e.data[0],L.loader=!1,L.data=e.data,L.despacho=1==L.data.STATUS_DESPACHO,L.medicamentos=e.data.DATA,Kn.fetch()):L.error=e.message}).catch(function(e){})},checkDespacho:function(){i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/check-receta",body:{numeroReceta:L.numeroReceta,status:L.despacho},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){L.data.FECHA_DESPACHO=e.FECHA_DESPACHO}).catch(function(e){})},view:function(e){return[i()(o,{oncreate:o.setPage("farmacia")}),i()(ea,{oncreate:ea.setPage(5)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/farmacia"},["Farmacia"])),i()("li.breadcrumb-item.active[aria-current='page']","DETALLE DE RECETA")]),i()("h1.df-title.mg-t-20.mg-b-10","Detalle de Receta N°: "+L.numeroReceta),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){L.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){L.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){L.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){L.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[L.despacho?[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-success mg-b-2 mg-r-2"},[],"Despachado")]:[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-light mg-b-2 mg-r-2"},[],"Pendiente")],i()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",i()("small.pd-2.tx-20",i()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==Gn.idFiltro&&1<Gn.idFiltro?(Gn.pedidos=[],i().route.set("/farmacia/recetas/",{idFiltro:Gn.idFiltro,fechaDesde:Gn.fechaDesde,fechaHasta:Gn.fechaHasta})):(Gn.pedidos=[],i().route.set("/farmacia/recetas/",{idFiltro:1}))}}))),i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS RECETA:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"N° de Receta:"),i()("td",{style:{"background-color":"#eaeff5"}},L.data.CD_DOCUMENTO_CLINICO),i()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},L.data.DT_ATENDIMENTO),i()("th",{style:{"background-color":"#a8bed6"}},"N° de Atención:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},L.data.CD_ATENDIMENTO)])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),i()("tbody",[i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),i()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},L.data.NM_PACIENTE),i()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),i()("td",{style:{"background-color":"#eaeff5"}},L.data.CD_PACIENTE),i()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},L.data.UBICACION)]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='9']","MEDICAMENTOS Y OBSERVACIONES:")]),i()("tr",[i()("th",{style:{"background-color":"#a8bed6"}},"Medicamentos:"),i()("td.pd-0[colspan='8']",{style:{"background-color":"#eaeff5"}},i()(Zn))]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='9']","DESPACHO Y PRESCRIPCIONES:")]),i()("tr.d-print-none",[i()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link[target='_target'][href='"+L.data.URL+"']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," Ver Receta ")),i()("li.nav-item",i()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},i()("i.fas.fa-inbox.pd-1.mg-r-2")," Despacho "))]))]),i()("tr.d-print-none",[i()("td[colspan='9']",{},i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Despacho Farmacia"),i()("tr",[i()("td.tx-18.tx-medium.text-left","¿Confirmar despacho?:"),i()("td.tx-16.tx-normal",i()("div.custom-control.custom-checkbox.tx-16",[i()("input.custom-control-input.tx-16[type='checkbox'][id='check_despacho']",{checked:L.despacho,onclick:function(e){e.preventDefault(),this.checked?(this.checked=!0,L.despacho=!0):(this.checked=!1,L.despacho=!1),L.checkDespacho()}}),i()("label.custom-control-label.tx-16[for='check_despacho']",L.despacho?["SI a las: "+L.data.FECHA_DESPACHO]:["SI"])]))])]),i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),i()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Kn.observaciones=e.target.value},value:Kn.observaciones}),i()("div.mg-0.mg-t-5.text-right",[i()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==Kn.observaciones.length?Kn.sendObs():alert("Observaciones es obligatorio.")}},[i()("i.fas.fa-save.mg-r-5")],"Guardar")]),i()("hr.wd-100p.mg-t-5.mg-b-5")]),i()("p.mg-5",[i()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),i()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}},Wn=L,Qn={oncreate:function(){er.loadEtiCajas(),0!==er.searchField.length&&$("#table-etiquetas").DataTable().search(er.searchField).draw()},view:function(){return i()("div.row.animated.fadeInUp",{},[i()("div.col-12",[i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[i()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[i()("h5.mg-b-0","Usuarios:")]),i()("div.col-sm-12.filemgr-content-header",{class:1==er.idFiltro?"mg-t-35":"mg-t-40"},[i()("i[data-feather='search']"),i()("div.search-form",i()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){er.searchField=e.target.value},value:er.searchField}))]),i()("table.table.table-sm.tx-11[id='table-etiquetas'][width='100%']")])])])}},er={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",loaderImprimir:!1,oninit:function(e){r.page="",0==er.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),er.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),er.fechaHasta=moment().format("DD-MM-YYYY"),er.loader=!0,er.pedidos=[],er.fetchEtiCajas())},loadEtiCajas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-etiquetas").DataTable({data:er.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,columns:[{title:"Usuario:"},{title:"Impresión:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.impresion},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.usuario},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[2],orderable:!1}],fnRowCallback:function(e,t,a,o){i().mount(e,{view:function(){return[i()("td.tx-18.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[t.impresion]),i()("td.wd-40p.tx-18.tx-semibold",{style:{}},t.usuario),i()("td.tx-center.tx-18.tx-semibold",{onclick:function(){var e=prompt("¿Nombre de Usuario?");null!==e&&er.changeUser(t.impresion,e)},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},i()("i.fas.fa-edit.mg-r-5")," Modificar ")]}})},drawCallback:function(e){er.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchEtiCajas:function(){i().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/users-etiquetas",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){er.loader=!1,er.pedidos=e.data}).catch(function(e){setTimeout(function(){er.fetchEtiCajas()},2e3)})},reloadData:function(){var e=$("#table-etiquetas").DataTable();e.clear(),e.rows.add(er.pedidos).draw()},changeUser:function(e,t){i().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/change-user",body:{impresion:e,usuario:t},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){alert(e.message),e.status&&window.location.reload()}).catch(function(e){alert(e)})},view:function(e){return er.loader?[i()(r,{oncreate:r.setPage(28)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']","Configuración de Etiquetas ")]),i()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])])])])]))]:0!==er.error.length?[i()(r,{oncreate:r.setPage(28)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),i()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),i()("div.row.animated.fadeInUp",[i()("p","No existe información.")])]))]:er.loader||0===er.pedidos.length?er.loader||0!=er.pedidos.length?[i()(r,{oncreate:r.setPage(28)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),i()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("p"," Error interno.")])])]))]:[i()(r,{oncreate:r.setPage(28)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),i()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[i()(r,{oncreate:r.setPage(28)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/laboratorio"},[" Laboratorio "])),i()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),i()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),i()(Qn)]))]}},tr=er,ar=Mr(360),or={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.contabilidad.map(function(e,t,a){if(30==e.idModulo)return[ar(ar.route.Link,{href:"/"+e.href,class:nr.page==e.idModulo?"active":""},[e.label])]})]}},nr={page:"",setPage:function(e){nr.page=e},view:function(){return[ar(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[ar("div.sidebar-header",[ar("a[href=''][id='mainMenuOpen']",ar("i[data-feather='menu']")),ar("h5","Menu"),ar("a[href=''][id='sidebarMenuClose']",ar("i[data-feather='x']"))]),ar("div.sidebar-body",ar("ul.sidebar-nav",[ar("li.nav-label.mg-b-15","Contabilidad"),ar("li.nav-item.show",[ar(ar.route.Link,{href:"/contabilidad",class:"nav-link with-sub"},[ar("i[data-feather='layout']")," Contabilidad "]),ar("nav.nav",[ar(or)])])]))])]}},rr=nr,ir=Mr(360),dr={view:function(){return[ir("div.content.content-components",ir("div.container",{style:{"max-width":"100%"}},[ir("ol.breadcrumb.df-breadcrumbs.mg-b-10",[ir("li.breadcrumb-item",ir(ir.route.Link,{href:"/"},["Metroplus"])),ir("li.breadcrumb-item.active[aria-current='page']","Contabilidad")]),ir("h1.df-title.mg-t-20.mg-b-10","Contabilidad:"),ir("div.row.tx-14",[d.isShow("contabilidad",30)?[ir("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){ir.route.set("/contabilidad/proceso/tarjeta-roja")}},[ir("div",{class:"media"},[ir("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},ir("i",{class:"fas fa-file-alt tx-30 tx-white"})),ir("div",{class:"media-body mg-l-15"},[ir("p",{class:"tx-18 mg-b-0"},"Tarjeta Roja"),ir("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Tarjeta Roja")])])])]:[]])]))]}},sr={oninit:function(){o.page="",rr.page="",d.isAuth()},oncreate:function(){document.title="Contabilidad | "+d.title},view:function(){return[ir(o,{oncreate:o.setPage("contabilidad")}),ir(rr),ir(dr)]}};var cr={notificaciones:[],AgendaImagen:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){cr.loader=!1,cr.AgendaImagen=[1,2,3],document.body.classList.add("app-calendar")},oncreate:function(e){ke.suscribirCanal("MetroPlus-Imagen-Agenda");var t=document.createElement("script"),t=(t.setAttribute("src","assets/dashforge/js/calendar-events.js"),t.setAttribute("id","events_calendar"),document.head.appendChild(t),document.createElement("script"));t.setAttribute("src","assets/dashforge/js/dashforge.calendar.js"),t.setAttribute("id","dashCalendar"),document.head.appendChild(t)},onremove:function(){document.getElementById("events_calendar").remove(),document.getElementById("dashCalendar").remove()},loadAgendaImagen:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-agenda").DataTable({data:cr.AgendaImagen,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){cr.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),i().mount(e.anCells[5],{view:function(){return[i()("div.d-flex",{},[i()("div.pd-0.flex-grow-1",i()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},i()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),i()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),i()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," SECTOR: "),i()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),i()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),i()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),i()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),i()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[i()("div.pd-0.flex-grow-1",i()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),i()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),i()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),i()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},i()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){i().route.set("/imagen/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},i()(".tx-normal",i()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchAgendaImagen:function(){var e="",e=1==cr.idFiltro?"?idFiltro="+cr.idFiltro:"?idFiltro="+cr.idFiltro+"&fechaDesde="+cr.fechaDesde+"&fechaHasta="+cr.fechaHasta;i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/imagen/AgendaImagen"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){cr.loader=!1,cr.AgendaImagen=e.data}).catch(function(e){setTimeout(function(){cr.fetchAgendaImagen()},2e3)})},reloadData:function(){var e=$("#table-agenda").DataTable();e.clear(),e.rows.add(cr.AgendaImagen).draw()},view:function(e){return cr.loader||0!==cr.error.length?[i()("div.calendar-wrapper",[i()("div.calendar-sidebar",[i()("div.calendar-sidebar-header"),i()("div.calendar-sidebar-body")]),i()("div.calendar-content",[i()("div.calendar-content-body[id='calendar']")])])]:cr.loader||0===cr.AgendaImagen.length?(cr.loader||cr.AgendaImagen.length,[i()("div.calendar-wrapper",[i()("div.calendar-sidebar",[i()("div.calendar-sidebar-header"),i()("div.calendar-sidebar-body")]),i()("div.calendar-content",[i()("div.calendar-content-body[id='calendar']")])])]):[i()("div.calendar-wrapper",[i()("div.calendar-sidebar",[i()("div.calendar-sidebar-header",[i()("i[data-feather='search']"),i()("div.search-form",[i()("input.form-control[type='search']")]),i()("a.btn btn-sm btn-primary btn-icon calendar-add",[i()("div[data-toggle='tooltip']",[i()("i.tx-white[data-feather='plus']")])])]),i()("div.calendar-sidebar-body[id='calendarSidebarBody']",[i()("div.calendar-inline",[i()("div[id='calendarInline']")])])]),i()("div.calendar-content",[i()("div.calendar-content-body[id='calendar']")])])]}},lr=cr,ur=Mr(360),mr={menu:[{idModulo:32,label:"Nueva Tarjeta Roja",href:"contabilidad/proceso/tarjeta-roja/nueva"},{idModulo:2,label:"Autorizaciones",href:"contabilidad/proceso/tarjeta-roja/autorizaciones"},{idModulo:3,label:"Todas las Solicitudes",href:"contabilidad/proceso/tarjeta-roja/solicitudes"},{idModulo:4,label:"Configuración del Proceso",href:"contabilidad/proceso/tarjeta-roja/configuracion"}],view:function(){if(0!==mr.menu.length)return[mr.menu.map(function(e,t,a){return[ur(ur.route.Link,{href:"/"+e.href,class:pr.page==e.idModulo?"active":""},[e.label])]})]}},pr={page:"",setPage:function(e){pr.page=e},view:function(){return[ur(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[ur("div.sidebar-header",[ur("a[href=''][id='mainMenuOpen']",ur("i[data-feather='menu']")),ur("h5","Menu"),ur("a[href=''][id='sidebarMenuClose']",ur("i[data-feather='x']"))]),ur("div.sidebar-body",ur("ul.sidebar-nav",[ur("li.nav-label.mg-b-15","Contabilidad por Procesos"),ur("li.nav-item.show",[ur(ur.route.Link,{href:"/contabilidad",class:"nav-link with-sub"},[ur("i[data-feather='layout']")," Tarjeta Roja "]),ur("nav.nav",[ur(mr)])])]))])]}},br=pr,R=Mr(360),fr={view:function(){return[R("div.content.content-components",R("div.TRojainer",{style:{"max-width":"100%"}},[R("ol.breadcrumb.df-breadcrumbs.mg-b-10",[R("li.breadcrumb-item",R(R.route.Link,{href:"/"},["Metroplus"])),R("li.breadcrumb-item",R(R.route.Link,{href:"/contabilidad"},["Contabilidad"])),R("li.breadcrumb-item.active[aria-current='page']","TARJETA ROJA")]),R("h1.df-title.mg-t-20.mg-b-10","Tarjeta Roja:"),R("div.row.tx-14",[d.isShow("contabilidad",32)?[R("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){R.route.set("/contabilidad/proceso/tarjeta-roja/nueva")}},[R("div",{class:"media"},[R("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},R("i",{class:"fas fa-file tx-30 tx-white"})),R("div",{class:"media-body mg-l-15"},[R("p",{class:"tx-18 mg-b-0"},"Nueva Tarjeta Roja"),R("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Nueva Tarjeta Roja")])])])]:[],d.isShow("contabilidad",32)?[R("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){R.route.set("/contabilidad/proceso/tarjeta-roja/autorizaciones")}},[R("div",{class:"media"},[R("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},R("i",{class:"fas fa-user-edit tx-30 tx-white"})),R("div",{class:"media-body mg-l-15"},[R("p",{class:"tx-18 mg-b-0"},"Autorizaciones"),R("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Autorizaciones")])])])]:[],d.isShow("contabilidad",33)?[R("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){R.route.set("/contabilidad/proceso/tarjeta-roja/solicitudes")}},[R("div",{class:"media"},[R("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},R("i",{class:"fas fa-inbox tx-30 tx-white"})),R("div",{class:"media-body mg-l-15"},[R("p",{class:"tx-18 mg-b-0"},"Todas las Solicitudes"),R("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Todas las Solicitudes")])])])]:[],d.isShow("contabilidad",34)?[R("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){R.route.set("/contabilidad/proceso/tarjeta-roja/configuracion")}},[R("div",{class:"media"},[R("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},R("i",{class:"fas fa-cog tx-30 tx-white"})),R("div",{class:"media-body mg-l-15"},[R("p",{class:"tx-18 mg-b-0"},"Configuración del Proceso"),R("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuración del Proceso")])])])]:[]])]))]}},hr={oninit:function(){o.page="",br.page="",d.isAuth()},oncreate:function(){document.title="Tarjeta Roja | "+d.title},view:function(){return[R(o,{oncreate:o.setPage("contabilidad")}),R(br),R(fr)]}},gr={secs:[],nombres:"",show:!1,view:function(){var o="",n="",r="";return 0==vr.num&&setTimeout(function(){vr.num=vr.data.length,vr.parseFetch(),i().redraw.sync()},2e3),0==gr.secs.length?[i()("div.pd-10.wd-100p",i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+vr.data.length+" formulario(s) encontrado(s)..."}}),i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]:[gr.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(n=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(r="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=vr.data.length+" formulario(s) encontrado(s)."}}),i()("table.table.table-bordered.wd-100p",{style:{zoom:vr.zoom}},[i()("thead",[i()("tr",i()("th[colspan='12'][scope='col']",[i()("i.tx-light.fas.fa-file-alt.mg-r-2."),i()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),i()("tr",[i()("th[colspan='10'][scope='col']",i()("div.m-0.p-0",i()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),i()("th.tx-right[colspan='2'][scope='col']",i()("a.tx-right.tx-semibold",{href:r,target:"_blank"},i()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),i()("tbody",[i()("tr",[i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ESTABLECIMIENTO")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NOMBRE")),i()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","APELLIDO")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","SEXO (M-F)")),i()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","NHCL.")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.tx-bold.text-center.","ADM."))]),i()("tr",[i()("th.text-center[colspan='3'][scope='row']",i()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",gr.nombres)),i()("td.text-center[colspan='3']",i()("div.m-0.p-0.text-center",gr.apellidos_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",gr.sexo)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",gr.nhcl)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",gr.numero_admision))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","EDAD")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),i()("tr",[i()("td.text-center[colspan='1'][scope='row']",i()("div.m-0.p-0.text-center",gr.edad||gr.edad_paciente)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",gr.identificacion)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",gr.fecha_admision)),i()("td.text-center[colspan='1']",i()("div.m-0.p-0.text-center",gr.fecha_admision)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",gr.ubicacion)),i()("td.text-center[colspan='4']",i()("div.m-0.p-0.text-center",gr.medico_tratante))]),i()("tr",[i()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),i()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},i()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",i()("br"),"CADA PRESCRIPCIÓN"]))]),i()("tr",[i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FECHA",i()("br"),"día/mes/año"])),i()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","HORA")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),i()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",i()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),i()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},i()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",i()("br"),"FÁRMACOS INSUMOS"]))]),i()("tr",[i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?i().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),i()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},i()("div.m-0.p-2.text-justify",null!==n&&0!==n.length?i().trust(n.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},vr={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){gr.secs.push(o.data[e])}),gr.secs.map(function(e,t,a){"nombres"==e.name&&(gr.nombres=e.answer),"apellidos_paciente"==e.name&&(gr.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(gr.sexo=e.answer),"nhcl"==e.name&&(gr.nhcl=e.answer),"numero_admision"==e.name&&(gr.numero_admision=e.answer),"edad"==e.name&&(gr.edad=e.answer),"edad_paciente"==e.name&&(gr.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(gr.identificacion=e.answer),"fecha_admision"==e.name&&(gr.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(gr.ubicacion=e.answer),"fecha_alta"==e.name&&(gr.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(gr.medico_tratante=e.answer)})},parseFetch:function(){return gr.secs=[],vr.data.map(function(e,t,a){vr.parseDoc(vr.data[t])})},fetch:function(){vr.data=[],vr.error="",i().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+vr.nhc+"&adm="+vr.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(vr.data=e,vr.num=0):vr.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){vr.fetch()},5e3)})},view:function(){return vr.error?[i()(".alert.alert-danger[role='alert']",vr.error)]:0!==vr.data.length?[i()(gr)]:[i()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},xr={data:[],detalle:[],error:"",showFor:"",fetch:function(){xr.data=[],xr.error="",i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:_r.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(xr.data=e.data,vr.adm=xr.data[0].ADM,vr.nhc=xr.data[0].NHCL,vr.fetch()):xr.error=e.message}).catch(function(e){setTimeout(function(){xr.fetch()},5e3)})},view:function(){return xr.error?[i()(".alert.alert-danger[role='alert']",xr.error)]:0!==xr.data.length?[i()(vr)]:[i()("div.pd-10.wd-100p",i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")]))]}},_r={data:[],examenes:[],error:"",numeroNuevaTRoja:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroNuevaTRoja&&(document.title="Detalle de NuevaTRojas N°: "+e.attrs.numeroNuevaTRoja+" | "+d.title,(void 0!==_r.data&&0==_r.data.length||_r.numeroNuevaTRoja!==e.attrs.numeroNuevaTRoja)&&(_r.numeroNuevaTRoja=e.attrs.numeroNuevaTRoja,_r.numeroAtencion=e.attrs.numeroAtencion,_r.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,_r.fetch()))},fetch:function(){_r.data=[],_r.loader=!0,i().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-NuevaTRoja-imagen",body:{numeroNuevaTRoja:_r.numeroNuevaTRoja},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(_r.loader=!1,_r.data=e.data,_r.examenes=e.examenes,xr.fetch()):_r.error=e.message}).catch(function(e){})},view:function(e){return[i()(o,{oncreate:o.setPage("contabilidad")}),i()(br,{oncreate:br.setPage(32)}),i()("div.content.content-components",i()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[i()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[i()("li.breadcrumb-item",i()(i().route.Link,{href:"/"},[" MetroPlus "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/contabilidad"},[" Contabilidad "])),i()("li.breadcrumb-item",i()(i().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),i()("li.breadcrumb-item.active[aria-current='page']","Nueva Tarjeta Roja")]),i()("h1.df-title.mg-t-20.mg-b-10","Nueva Tarjeta Roja: "),i()("div.row.animated.fadeInUp",[i()("div.col-12",[i()("div.table-loader.wd-100p",{oncreate:function(e){_r.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){_r.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[i()("div.placeholder-paragraph",[i()("div.line"),i()("div.line")])]),i()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){_r.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){_r.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[i()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[i()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2"},[i()("i.fas.fa-file-alt.mg-r-5")],"FOR TARJETA ROJA"),i()("div.table-responsive",[i()("table.table.table-bordered.table-sm.tx-12",[i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","DATOS SOLICITUD:")])),i()("tbody",[i()("tr",[i()("th[colspan='8']",{style:{"background-color":"#a8bed6"}},"Fecha de Solicitud:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},i()("input",{value:moment().format("DD-MM-Y"),class:"form-control",type:"text",placeholder:"Input box"}))]),i()("tr",[i()("th[colspan='2']",{style:{"background-color":"#a8bed6"}},"Área de Origen:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},i()("input",{class:"form-control",type:"text",placeholder:"Input box"})),i()("th[colspan='3']",{style:{"background-color":"#a8bed6"}},"Categpría:"),i()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},i()("input",{class:"form-control",type:"text",placeholder:"Input box"}))])]),i()("thead",i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","DATOS DEL EQUIPO:")])),i()("tbody",[i()("tr",[i()("th[colspan='2']",{style:{"background-color":"#a8bed6"}},"Nombre:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},i()("input",{class:"form-control",type:"text",placeholder:"Input box"})),i()("th[colspan='2']",{style:{"background-color":"#a8bed6"}},"Marca:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},i()("input",{class:"form-control",type:"text",placeholder:"Input box"}))]),i()("tr",[i()("th[colspan='2']",{style:{"background-color":"#a8bed6"}},"Modelo:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},i()("input",{class:"form-control",type:"text",placeholder:"Input box"})),i()("th[colspan='2']",{style:{"background-color":"#a8bed6"}},"Serie:"),i()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},i()("input",{class:"form-control",type:"text",placeholder:"Input box"}))]),i()("tr.bg-litecoin.op-9.tx-white",[i()("th[scope='col'][colspan='10']","MOTIVO DE BAJA:")]),i()("tr",[i()("th[colspan='3']",{style:{"background-color":"#a8bed6"}},"Motivo de Baja:"),i()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[i()("select",{class:"custom-select"},[i()("option",{selected:"selected"},"Open this select menu"),i()("option",{value:"1"},"One"),i()("option",{value:"2"},"Two"),i()("option",{value:"3"},"Three")])])]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='10']","ACCIÓN SUGERIDA:")]),i()("tr",[i()("th[colspan='3']",{style:{"background-color":"#a8bed6"}},"Acción Sugerida:"),i()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[i()("select",{class:"custom-select"},[i()("option",{selected:"selected"},"Open this select menu"),i()("option",{value:"1"},"One"),i()("option",{value:"2"},"Two"),i()("option",{value:"3"},"Three")])])]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='10']","OBSERVACIÓN:")]),i()("tr",[i()("th[colspan='3']",{style:{"background-color":"#a8bed6"}},"Observación:"),i()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.")]),i()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[i()("th[scope='col'][colspan='10']","ADJUNTOS:")]),i()("tr.d-print-none",[i()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},i()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[i()("li.nav-item",i()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},i()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos "))]))]),i()("tr.d-print-none",[i()("td[colspan='9']",{},i()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[i()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[i()(xr)])]))]),i()("tr.d-print-none",[])])])])])])])])]))]}},yr=_r,wr=Mr(360),Ue={"/":d,"/subscribir/notificaciones":Ue,"/redir/mv/:idAtencion":F,"/inicio":Et,"/laboratorio":Oe,"/laboratorio/lisa/pedidos/ingresados":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/laboratorio/lisa/pedidos/ingresados/",{idFiltro:1});et.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==et.idFiltro&&1!==et.idFiltro&&void 0!==et.fechaDesde?(et.idFiltro=e.attrs.idFiltro,et.fechaDesde=e.attrs.fechaDesde,et.fechaHasta=e.attrs.fechaHasta,et.loader=!0,et.pedidos=[],et.fetchPedidosIngresados()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),et.idFiltro=e.attrs.idFiltro,et.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),et.fechaHasta=moment().format("DD-MM-YYYY"),0==et.pedidos.length?(et.loader=!0,et.pedidos=[],et.fetchPedidosIngresados()):et.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("laboratorio")}),wr(et)]}},"/laboratorio/lisa/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido&&void 0!==e.idTimeRecord?ct:wr.route.SKIP}},"/laboratorio/notificaciones":Ye,"/laboratorio/notificaciones/filtros":Ve,"/laboratorio/notificaciones/enviadas":ze,"/laboratorio/notificaciones/pendientes":za,"/laboratorio/notificaciones/error":Ga,"/laboratorio/flebotomista":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/laboratorio/flebotomista/",{idFiltro:1});Ke.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Ke.idFiltro&&1!==Ke.idFiltro&&void 0!==Ke.fechaDesde?(Ke.idFiltro=e.attrs.idFiltro,Ke.fechaDesde=e.attrs.fechaDesde,Ke.fechaHasta=e.attrs.fechaHasta,Ke.loader=!0,Ke.pedidos=[],Ke.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Ke.idFiltro=e.attrs.idFiltro,Ke.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Ke.fechaHasta=moment().format("DD-MM-YYYY"),0==Ke.pedidos.length?(Ke.loader=!0,Ke.pedidos=[],Ke.fetchPedidos()):Ke.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("laboratorio")}),wr(Ke)]}},"/laboratorio/flebotomista/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido&&void 0!==e.idTimeRecord?Mn:wr.route.SKIP}},"/laboratorio/etiquetas":{oninit:function(e){d.isAuth("laboratorio",28),document.title="Configuración de Etiquetas | "+d.title},view:function(e){return[wr(o,{oncreate:o.setPage("laboratorio")}),wr(tr)]}},"/laboratorio/formularios":pt,"/emergencia":Ct,"/emergencia/auxiliar/pedidos/laboratorio":Nt,"/emergencia/auxiliar/pedido/:idPedido":jt,"/emergencia/enfermeria/pedidos/laboratorio":Bt,"/emergencia/enfermeria/pedido/:idPedido":Kt,"/farmacia":oa,"/farmacia/recetas":{oninit:function(e){if(d.isAuth("farmacia",5),document.title="Recetas de Alta | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/farmacia/recetas/",{idFiltro:1});Gn.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Gn.idFiltro&&1!==Gn.idFiltro&&void 0!==Gn.fechaDesde?(Gn.idFiltro=e.attrs.idFiltro,Gn.fechaDesde=e.attrs.fechaDesde,Gn.fechaHasta=e.attrs.fechaHasta,Gn.loader=!0,Gn.pedidos=[],Gn.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Gn.idFiltro=e.attrs.idFiltro,Gn.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Gn.fechaHasta=moment().format("DD-MM-YYYY"),0==Gn.pedidos.length?(Gn.loader=!0,Gn.pedidos=[],Gn.fetch()):Gn.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("laboratorio")}),wr(Gn)]}},"/farmacia/receta/":{onmatch:function(e){return void 0!==e.numeroReceta?Wn:wr.route.SKIP}},"/contabilidad":sr,"/contabilidad/proceso/tarjeta-roja":hr,"/contabilidad/proceso/tarjeta-roja/nueva":yr,"/admisiones":la,"/admisiones/pre":fa,"/admisiones/etiquetas":{oninit:function(e){if(d.isAuth("admisiones",7),document.title="Impresión de Etiquetas | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/admisiones/etiquetas/",{idFiltro:1});Jn.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Jn.idFiltro&&1!==Jn.idFiltro&&void 0!==Jn.fechaDesde?(Jn.idFiltro=e.attrs.idFiltro,Jn.fechaDesde=e.attrs.fechaDesde,Jn.fechaHasta=e.attrs.fechaHasta,Jn.loader=!0,Jn.pedidos=[],Jn.fetchEtiquetas()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Jn.idFiltro=e.attrs.idFiltro,Jn.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Jn.fechaHasta=moment().format("DD-MM-YYYY"),0==Jn.pedidos.length?(Jn.loader=!0,Jn.pedidos=[],Jn.fetchEtiquetas()):Jn.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("admisiones")}),wr(Jn)]}},"/mantenimiento":wa,"/mantenimiento/higienizacion":Ea,"/hospitalizacion":Ca,"/hospitalizacion/pasaportes":Na,"/hospitalizacion/control-camas":Ba,"/terapia-respiratoria/pedidos":{oninit:function(e){if(d.isAuth("terapia-respiratoria",18),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/terapia-respiratoria/pedidos/",{idFiltro:1});oo.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==oo.idFiltro&&1!==oo.idFiltro&&void 0!==oo.fechaDesde?(oo.idFiltro=e.attrs.idFiltro,oo.fechaDesde=e.attrs.fechaDesde,oo.fechaHasta=e.attrs.fechaHasta,oo.loader=!0,oo.pedidos=[],oo.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),oo.idFiltro=e.attrs.idFiltro,oo.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),oo.fechaHasta=moment().format("DD-MM-YYYY"),0==oo.pedidos.length?(oo.loader=!0,oo.pedidos=[],oo.fetchPedidos()):oo.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("terapia-respiratoria")}),wr(oo)]}},"/bco-sangre/pedidos":io,"/neurofisiologia":Ro,"/neurofisiologia/pedidos":{oninit:function(e){if(d.isAuth("neurofisiologia",20),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/neurofisiologia/pedidos/",{idFiltro:1});fo.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==fo.idFiltro&&1!==fo.idFiltro&&void 0!==fo.fechaDesde?(fo.idFiltro=e.attrs.idFiltro,fo.fechaDesde=e.attrs.fechaDesde,fo.fechaHasta=e.attrs.fechaHasta,fo.loader=!0,fo.pedidos=[],fo.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),fo.idFiltro=e.attrs.idFiltro,fo.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),fo.fechaHasta=moment().format("DD-MM-YYYY"),0==fo.pedidos.length?(fo.loader=!0,fo.pedidos=[],fo.fetchPedidos()):fo.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("neurofisiologia")}),wr(fo)]}},"/neurofisiologia/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?Uo:wr.route.SKIP}},"/terapia-respiratoria":Vo,"/terapia-respiratoria/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?Ko:wr.route.SKIP}},"/imagen":Io,"/imagen/agendamiento":{oninit:function(e){d.isAuth("imagen",31),document.title="Agendamiento de Imagen | "+d.title},onupdate:function(e){},view:function(e){return[wr(o,{oncreate:o.setPage("imagen")}),wr(lr)]}},"/imagen/pedidos":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/imagen/pedidos/",{idFiltro:1});Mo.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Mo.idFiltro&&1!==Mo.idFiltro&&void 0!==Mo.fechaDesde?(Mo.idFiltro=e.attrs.idFiltro,Mo.fechaDesde=e.attrs.fechaDesde,Mo.fechaHasta=e.attrs.fechaHasta,Mo.loader=!0,Mo.pedidos=[],Mo.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Mo.idFiltro=e.attrs.idFiltro,Mo.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Mo.fechaHasta=moment().format("DD-MM-YYYY"),0==Mo.pedidos.length?(Mo.loader=!0,Mo.pedidos=[],Mo.fetchPedidos()):Mo.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("imagen")}),wr(Mo)]}},"/imagen/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?Ao:wr.route.SKIP}},"/endoscopia":on,"/endoscopia/pedidos":{oninit:function(e){if(d.isAuth("endoscopia",25),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/endoscopia/pedidos/",{idFiltro:1});sn.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==sn.idFiltro&&1!==sn.idFiltro&&void 0!==sn.fechaDesde?(sn.idFiltro=e.attrs.idFiltro,sn.fechaDesde=e.attrs.fechaDesde,sn.fechaHasta=e.attrs.fechaHasta,sn.loader=!0,sn.pedidos=[],sn.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),sn.idFiltro=e.attrs.idFiltro,sn.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),sn.fechaHasta=moment().format("DD-MM-YYYY"),0==sn.pedidos.length?(sn.loader=!0,sn.pedidos=[],sn.fetchPedidos()):sn.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("endoscopia")}),wr(sn)]}},"/endoscopia/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?bn:wr.route.SKIP}},"/patologia":Sn,"/patologia/pedidos":{oninit:function(e){if(d.isAuth("patologia",26),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return wr.route.set("/patologia/pedidos/",{idFiltro:1});Ln.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Ln.idFiltro&&1!==Ln.idFiltro&&void 0!==Ln.fechaDesde?(Ln.idFiltro=e.attrs.idFiltro,Ln.fechaDesde=e.attrs.fechaDesde,Ln.fechaHasta=e.attrs.fechaHasta,Ln.loader=!0,Ln.pedidos=[],Ln.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Ln.idFiltro=e.attrs.idFiltro,Ln.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Ln.fechaHasta=moment().format("DD-MM-YYYY"),0==Ln.pedidos.length?(Ln.loader=!0,Ln.pedidos=[],Ln.fetchPedidos()):Ln.loader=!1)},view:function(e){return[wr(o,{oncreate:o.setPage("patologia")}),wr(Ln)]}},"/patologia/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?jn:wr.route.SKIP}},"/auth":ee,"/mi-perfil":vt,"/salir":K,"/notificaciones":ut,"/:404...":_t},F=Mr(360),Et=(F.route.prefix="",document.body.querySelector("#app"));document.body.style.zoom="100%",F.route(Et,"/",Ue)}()}();