!function(){var a={788:function(e,t,a){var o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){for(var t=e,a=t.lib.BlockCipher,o=t.algo,l=[],r=[],i=[],n=[],d=[],s=[],c=[],u=[],m=[],p=[],b=[],f=0;f<256;f++)b[f]=f<128?f<<1:f<<1^283;for(var g=0,h=0,f=0;f<256;f++){var v=h^h<<1^h<<2^h<<3^h<<4,x=(l[g]=v=v>>>8^255&v^99,b[r[v]=g]),_=b[x],y=b[_],w=257*b[v]^16843008*v;i[g]=w<<24|w>>>8,n[g]=w<<16|w>>>16,d[g]=w<<8|w>>>24,s[g]=w,c[v]=(w=16843009*y^65537*_^257*x^16843008*g)<<24|w>>>8,u[v]=w<<16|w>>>16,m[v]=w<<8|w>>>24,p[v]=w,g?(g=x^b[b[b[y^x]]],h^=b[b[h]]):g=h=1}var M=[0,1,2,4,8,16,32,64,128,27,54],o=o.AES=a.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,a=e.sigBytes/4,o=4*(1+(this._nRounds=6+a)),r=this._keySchedule=[],i=0;i<o;i++)i<a?r[i]=t[i]:(s=r[i-1],i%a?6<a&&i%a==4&&(s=l[s>>>24]<<24|l[s>>>16&255]<<16|l[s>>>8&255]<<8|l[255&s]):(s=l[(s=s<<8|s>>>24)>>>24]<<24|l[s>>>16&255]<<16|l[s>>>8&255]<<8|l[255&s],s^=M[i/a|0]<<24),r[i]=r[i-a]^s);for(var n=this._invKeySchedule=[],d=0;d<o;d++){var s,i=o-d;s=d%4?r[i]:r[i-4],n[d]=d<4||i<=4?s:c[l[s>>>24]]^u[l[s>>>16&255]]^m[l[s>>>8&255]]^p[l[255&s]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,n,d,s,l)},decryptBlock:function(e,t){var a=e[t+1],a=(e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,c,u,m,p,r),e[t+1]);e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,o,r,i,n,d){for(var s=this._nRounds,l=e[t]^a[0],c=e[t+1]^a[1],u=e[t+2]^a[2],m=e[t+3]^a[3],p=4,b=1;b<s;b++)var f=o[l>>>24]^r[c>>>16&255]^i[u>>>8&255]^n[255&m]^a[p++],g=o[c>>>24]^r[u>>>16&255]^i[m>>>8&255]^n[255&l]^a[p++],h=o[u>>>24]^r[m>>>16&255]^i[l>>>8&255]^n[255&c]^a[p++],v=o[m>>>24]^r[l>>>16&255]^i[c>>>8&255]^n[255&u]^a[p++],l=f,c=g,u=h,m=v;f=(d[l>>>24]<<24|d[c>>>16&255]<<16|d[u>>>8&255]<<8|d[255&m])^a[p++],g=(d[c>>>24]<<24|d[u>>>16&255]<<16|d[m>>>8&255]<<8|d[255&l])^a[p++],h=(d[u>>>24]<<24|d[m>>>16&255]<<16|d[l>>>8&255]<<8|d[255&c])^a[p++],v=(d[m>>>24]<<24|d[l>>>16&255]<<16|d[c>>>8&255]<<8|d[255&u])^a[p++];e[t]=f,e[t+1]=g,e[t+2]=h,e[t+3]=v},keySize:8});return t.AES=a._createHelper(o),e.AES},"object"===r(t)?e.exports=t=o(a(656),a(662),a(624),a(915),a(402)):(a=[a(656),a(662),a(624),a(915),a(402)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},402:function(e,t,a){var o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){function r(e){return"string"==typeof e?b:p}function i(e,t,a){var o,r=this._iv;r?(o=r,this._iv=void 0):o=this._prevBlock;for(var i=0;i<a;i++)e[t+i]^=o[i]}var t,a,n,o,d,s,l,c,u,m,p,b;e.lib.Cipher||(t=(e=e).lib,a=t.Base,n=t.WordArray,o=t.BufferedBlockAlgorithm,(d=e.enc).Utf8,s=d.Base64,l=e.algo.EvpKDF,c=t.Cipher=o.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(o){return{encrypt:function(e,t,a){return r(t).encrypt(o,e,t,a)},decrypt:function(e,t,a){return r(t).decrypt(o,e,t,a)}}}}),t.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=e.mode={},u=t.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=d.CBC=((d=u.extend()).Encryptor=d.extend({processBlock:function(e,t){var a=this._cipher,o=a.blockSize;i.call(this,e,t,o),a.encryptBlock(e,t),this._prevBlock=e.slice(t,t+o)}}),d.Decryptor=d.extend({processBlock:function(e,t){var a=this._cipher,o=a.blockSize,r=e.slice(t,t+o);a.decryptBlock(e,t),i.call(this,e,t,o),this._prevBlock=r}}),d),d=(e.pad={}).Pkcs7={pad:function(e,t){for(var t=4*t,a=t-e.sigBytes%t,o=a<<24|a<<16|a<<8|a,r=[],i=0;i<a;i+=4)r.push(o);t=n.create(r,a);e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},t.BlockCipher=c.extend({cfg:c.cfg.extend({mode:u,padding:d}),reset:function(){c.reset.call(this);var e,t=this.cfg,a=t.iv,t=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=t.createEncryptor:(e=t.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,a&&a.words):(this._mode=e.call(t,this,a&&a.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),m=t.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,e=e.salt,e=e?n.create([1398893684,1701076831]).concat(e).concat(t):t;return e.toString(s)},parse:function(e){var t,e=s.parse(e),a=e.words;return 1398893684==a[0]&&1701076831==a[1]&&(t=n.create(a.slice(2,4)),a.splice(0,4),e.sigBytes-=16),m.create({ciphertext:e,salt:t})}},p=t.SerializableCipher=a.extend({cfg:a.extend({format:u}),encrypt:function(e,t,a,o){o=this.cfg.extend(o);var r=e.createEncryptor(a,o),t=r.finalize(t),r=r.cfg;return m.create({ciphertext:t,key:a,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,a,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(a,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),d=(e.kdf={}).OpenSSL={execute:function(e,t,a,o){o=o||n.random(8);e=l.create({keySize:t+a}).compute(e,o),a=n.create(e.words.slice(t),4*a);return e.sigBytes=4*t,m.create({key:e,iv:a,salt:o})}},b=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,a,o){a=(o=this.cfg.extend(o)).kdf.execute(a,e.keySize,e.ivSize),o.iv=a.iv,e=p.encrypt.call(this,e,t,a.key,o);return e.mixIn(a),e},decrypt:function(e,t,a,o){o=this.cfg.extend(o),t=this._parse(t,o.format);a=o.kdf.execute(a,e.keySize,e.ivSize,t.salt);return o.iv=a.iv,p.decrypt.call(this,e,t,a.key,o)}}))},"object"===r(t)?e.exports=t=o(a(656),a(915)):(a=[a(656),a(915)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},656:function(e,t,b){var a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){var o,l=Math;if("undefined"!=typeof window&&window.crypto&&(o=window.crypto),"undefined"!=typeof self&&self.crypto&&(o=self.crypto),!(o=!(o=!(o="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:o)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:o)&&void 0!==b.g&&b.g.crypto?b.g.crypto:o))try{o=b(480)}catch(e){}var a=Object.create||function(e){return t.prototype=e,e=new t,t.prototype=null,e};function t(){}var e={},r=e.lib={},i=r.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,a=e.words,o=this.sigBytes,r=e.sigBytes;if(this.clamp(),o%4)for(var i=0;i<r;i++){var n=a[i>>>2]>>>24-i%4*8&255;t[o+i>>>2]|=n<<24-(o+i)%4*8}else for(var d=0;d<r;d+=4)t[o+d>>>2]=a[d>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=l.ceil(t/4)},clone:function(){var e;return(e=i.clone.call(this)).words=this.words.slice(0),e},random:function(e){for(var t=[],a=0;a<e;a+=4)t.push(function(){if(o){if("function"==typeof o.getRandomValues)try{return o.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof o.randomBytes)try{return o.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new c.init(t,e)}}),n=e.enc={},d=n.Hex={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],r=0;r<a;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o+=2)a[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new c.init(a,t/2)}},s=n.Latin1={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],r=0;r<a;r++){var i=t[r>>>2]>>>24-r%4*8&255;o.push(String.fromCharCode(i))}return o.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o++)a[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new c.init(a,t)}},u=n.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},m=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,a=this._data,o=a.words,r=a.sigBytes,i=this.blockSize,n=r/(4*i),d=(n=e?l.ceil(n):l.max((0|n)-this._minBufferSize,0))*i,e=l.min(4*d,r);if(d){for(var s=0;s<d;s+=i)this._doProcessBlock(o,s);t=o.splice(0,d),a.sigBytes-=e}return new c.init(t,e)},clone:function(){var e;return(e=i.clone.call(this))._data=this._data.clone(),e},_minBufferSize:0}),p=(r.Hasher=m.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(e,t){return new a.init(t).finalize(e)}},_createHmacHelper:function(a){return function(e,t){return new p.HMAC.init(a,t).finalize(e)}}}),e.algo={});return e},"object"===o(t)?e.exports=t=a():void 0!==(t="function"==typeof(a=a)?a.apply(t,[]):a)&&(e.exports=t)},662:function(e,t,a){var o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var b;return b=e.lib.WordArray,e.enc.Base64={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=this._map,r=(e.clamp(),[]),i=0;i<a;i+=3)for(var n=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,d=0;d<4&&i+.75*d<a;d++)r.push(o.charAt(n>>>6*(3-d)&63));var s=o.charAt(64);if(s)for(;r.length%4;)r.push(s);return r.join("")},parse:function(e){var t=e.length,a=this._map;if(!(o=this._reverseMap))for(var o=this._reverseMap=[],r=0;r<a.length;r++)o[a.charCodeAt(r)]=r;for(var i,n,d=a.charAt(64),s=(!d||-1!==(d=e.indexOf(d))&&(t=d),e),l=t,c=o,u=[],m=0,p=0;p<l;p++)p%4&&(n=c[s.charCodeAt(p-1)]<<p%4*2,i=c[s.charCodeAt(p)]>>>6-p%4*2,n=n|i,u[m>>>2]|=n<<24-m%4*8,m++);return b.create(u,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"===r(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},623:function(e,t,a){var o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){return e.enc.Utf8},"object"===r(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},915:function(e,t,a){var o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,a,o,c,r,i;return a=(t=e).lib,o=a.Base,c=a.WordArray,a=t.algo,r=a.MD5,i=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:r,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a,o=this.cfg,r=o.hasher.create(),i=c.create(),n=i.words,d=o.keySize,s=o.iterations;n.length<d;){a&&r.update(a),a=r.update(e).finalize(t),r.reset();for(var l=1;l<s;l++)a=r.finalize(a),r.reset();i.concat(a)}return i.sigBytes=4*d,i}}),t.EvpKDF=function(e,t,a){return i.create(a).compute(e,t)},e.EvpKDF},"object"===r(t)?e.exports=t=o(a(656),a(272),a(260)):(a=[a(656),a(272),a(260)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},260:function(e,t,a){var o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,d;t=e.lib.Base,d=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=d.parse(t));for(var a=e.blockSize,o=4*a,e=((t=t.sigBytes>o?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),r=e.words,i=t.words,n=0;n<a;n++)r[n]^=1549556828,i[n]^=909522486;e.sigBytes=t.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})},"object"===r(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},624:function(e,t,a){var o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){for(var s=Math,t=e,a=(r=t.lib).WordArray,o=r.Hasher,r=t.algo,k=[],i=0;i<64;i++)k[i]=4294967296*s.abs(s.sin(i+1))|0;function E(e,t,a,o,r,i,n){e=e+(t&a|~t&o)+r+n;return(e<<i|e>>>32-i)+t}function T(e,t,a,o,r,i,n){e=e+(t&o|a&~o)+r+n;return(e<<i|e>>>32-i)+t}function A(e,t,a,o,r,i,n){e=e+(t^a^o)+r+n;return(e<<i|e>>>32-i)+t}function S(e,t,a,o,r,i,n){e=e+(a^(t|~o))+r+n;return(e<<i|e>>>32-i)+t}return r=r.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var o=t+a,r=e[o];e[o]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i=this._hash.words,n=e[t+0],d=e[t+1],s=e[t+2],l=e[t+3],c=e[t+4],u=e[t+5],m=e[t+6],p=e[t+7],b=e[t+8],f=e[t+9],g=e[t+10],h=e[t+11],v=e[t+12],x=e[t+13],_=e[t+14],y=e[t+15],w=E(i[0],P=i[1],D=i[2],M=i[3],n,7,k[0]),M=E(M,w,P,D,d,12,k[1]),D=E(D,M,w,P,s,17,k[2]),P=E(P,D,M,w,l,22,k[3]);w=E(w,P,D,M,c,7,k[4]),M=E(M,w,P,D,u,12,k[5]),D=E(D,M,w,P,m,17,k[6]),P=E(P,D,M,w,p,22,k[7]),w=E(w,P,D,M,b,7,k[8]),M=E(M,w,P,D,f,12,k[9]),D=E(D,M,w,P,g,17,k[10]),P=E(P,D,M,w,h,22,k[11]),w=E(w,P,D,M,v,7,k[12]),M=E(M,w,P,D,x,12,k[13]),D=E(D,M,w,P,_,17,k[14]),w=T(w,P=E(P,D,M,w,y,22,k[15]),D,M,d,5,k[16]),M=T(M,w,P,D,m,9,k[17]),D=T(D,M,w,P,h,14,k[18]),P=T(P,D,M,w,n,20,k[19]),w=T(w,P,D,M,u,5,k[20]),M=T(M,w,P,D,g,9,k[21]),D=T(D,M,w,P,y,14,k[22]),P=T(P,D,M,w,c,20,k[23]),w=T(w,P,D,M,f,5,k[24]),M=T(M,w,P,D,_,9,k[25]),D=T(D,M,w,P,l,14,k[26]),P=T(P,D,M,w,b,20,k[27]),w=T(w,P,D,M,x,5,k[28]),M=T(M,w,P,D,s,9,k[29]),D=T(D,M,w,P,p,14,k[30]),w=A(w,P=T(P,D,M,w,v,20,k[31]),D,M,u,4,k[32]),M=A(M,w,P,D,b,11,k[33]),D=A(D,M,w,P,h,16,k[34]),P=A(P,D,M,w,_,23,k[35]),w=A(w,P,D,M,d,4,k[36]),M=A(M,w,P,D,c,11,k[37]),D=A(D,M,w,P,p,16,k[38]),P=A(P,D,M,w,g,23,k[39]),w=A(w,P,D,M,x,4,k[40]),M=A(M,w,P,D,n,11,k[41]),D=A(D,M,w,P,l,16,k[42]),P=A(P,D,M,w,m,23,k[43]),w=A(w,P,D,M,f,4,k[44]),M=A(M,w,P,D,v,11,k[45]),D=A(D,M,w,P,y,16,k[46]),w=S(w,P=A(P,D,M,w,s,23,k[47]),D,M,n,6,k[48]),M=S(M,w,P,D,p,10,k[49]),D=S(D,M,w,P,_,15,k[50]),P=S(P,D,M,w,u,21,k[51]),w=S(w,P,D,M,v,6,k[52]),M=S(M,w,P,D,l,10,k[53]),D=S(D,M,w,P,g,15,k[54]),P=S(P,D,M,w,d,21,k[55]),w=S(w,P,D,M,b,6,k[56]),M=S(M,w,P,D,y,10,k[57]),D=S(D,M,w,P,m,15,k[58]),P=S(P,D,M,w,x,21,k[59]),w=S(w,P,D,M,c,6,k[60]),M=S(M,w,P,D,h,10,k[61]),D=S(D,M,w,P,s,15,k[62]),P=S(P,D,M,w,f,21,k[63]),i[0]=i[0]+w|0,i[1]=i[1]+P|0,i[2]=i[2]+D|0,i[3]=i[3]+M|0},_doFinalize:function(){for(var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes,r=(t[o>>>5]|=128<<24-o%32,s.floor(a/4294967296)),r=(t[15+(64+o>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t[14+(64+o>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(t.length+1),this._process(),this._hash),i=r.words,n=0;n<4;n++){var d=i[n];i[n]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return r},clone:function(){var e;return(e=o.clone.call(this))._hash=this._hash.clone(),e}}),t.MD5=o._createHelper(r),t.HmacMD5=o._createHmacHelper(r),e.MD5},"object"===r(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},272:function(e,t,a){var o;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(e){var t,a,o,r,c;return a=(t=e).lib,o=a.WordArray,r=a.Hasher,a=t.algo,c=[],a=a.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=this._hash.words,o=a[0],r=a[1],i=a[2],n=a[3],d=a[4],s=0;s<80;s++){s<16?c[s]=0|e[t+s]:(l=c[s-3]^c[s-8]^c[s-14]^c[s-16],c[s]=l<<1|l>>>31);var l=(o<<5|o>>>27)+d+c[s];l+=s<20?1518500249+(r&i|~r&n):s<40?1859775393+(r^i^n):s<60?(r&i|r&n|i&n)-1894007588:(r^i^n)-899497514,d=n,n=i,i=r<<30|r>>>2,r=o,o=l}a[0]=a[0]+o|0,a[1]=a[1]+r|0,a[2]=a[2]+i|0,a[3]=a[3]+n|0,a[4]=a[4]+d|0},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(64+o>>>9<<4)]=Math.floor(a/4294967296),t[15+(64+o>>>9<<4)]=a,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e;return(e=r.clone.call(this))._hash=this._hash.clone(),e}}),t.SHA1=r._createHelper(a),t.HmacSHA1=r._createHmacHelper(a),e.SHA1},"object"===r(t)?e.exports=t=o(a(656)):(a=[a(656)],void 0!==(t="function"==typeof(o=o)?o.apply(t,a):o)&&(e.exports=t))},344:function(e,t,a){function u(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function m(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=a.nmd(e),a=function(){"use strict";function a(e,t){return!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?m(JSON.stringify(e)).map(function(e){return String.fromCharCode(e.charCodeAt(0)+t)}).join(""):JSON.parse(m(e).map(function(e){return String.fromCharCode(e.charCodeAt(0)-t)}).join(""))}function e(){var o=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!d())return!1;Object.keys(localStorage).forEach(function(e){var t,a=localStorage.getItem(e);if(a){try{t=JSON.parse(a)}catch(e){return}i(t)&&s in t&&(Date.now()>t.ttl||o)&&localStorage.removeItem(e)}})}var t,o={d:function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},r={},n=(o.d(r,{default:function(){return c}}),function(){}),i=function(e){return null!==e&&"Object"===e.constructor.name},d=function(){if(void 0!==t)return t;t=!0;try{localStorage||(t=!1)}catch(e){t=!1}return e(),t},s=String.fromCharCode(0),l={ttl:null,encrypt:!1,encrypter:a,decrypter:function(e,t){return a(e,t,!1)},secret:75},c={config:l,set:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!d())return!1;a=Object.assign(Object.assign(Object.assign({},l),a),{encrypt:!1!==a.encrypt&&(a.encrypt||l.encrypt),ttl:null===a.ttl?null:a.ttl||l.ttl});try{var o,r=a.ttl&&!isNaN(a.ttl)&&0<a.ttl,i=r?(u(o={},s,t),u(o,"ttl",Date.now()+1e3*a.ttl),o):t;a.encrypt&&(r?i[s]=(a.encrypter||n)(i[s],a.secret):i=(a.encrypter||n)(i,a.secret)),localStorage.setItem(e,JSON.stringify(i))}catch(e){return!1}},get:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!d())return null;var a=localStorage.getItem(e);if(!a)return null;var t=Object.assign(Object.assign(Object.assign({},l),t),{encrypt:!1!==t.encrypt&&(t.encrypt||l.encrypt),ttl:null===t.ttl?null:t.ttl||l.ttl}),a=JSON.parse(a),o=i(a)&&s in a;if(t.decrypt||t.encrypt)try{o?a[s]=(t.decrypter||n)(a[s],t.secret):a=(t.decrypter||n)(a,t.secret)}catch(e){}return o?Date.now()>a.ttl?(localStorage.removeItem(e),null):a[s]:a},flush:e,clear:function(){if(!d())return!1;localStorage.clear()},remove:function(e){if(!d())return!1;localStorage.removeItem(e)}};return r.default},"object"==r(t)&&"object"==r(e)?e.exports=a():void 0!==(t="function"==typeof(a=a)?a.apply(t,[]):a)&&(e.exports=t)},36:function(e,t,a){"use strict";var s=a(300);e.exports=function(o,e,t){var r=[],a=!1,i=-1;function n(){for(i=0;i<r.length;i+=2)try{o(r[i],s(r[i+1]),d)}catch(e){t.error(e)}i=-1}function d(){a||(a=!0,e(function(){a=!1,n()}))}return d.sync=n,{mount:function(e,t){if(null!=t&&null==t.view&&"function"!=typeof t)throw new TypeError("m.mount expects a component, not a vnode.");var a=r.indexOf(e);0<=a&&(r.splice(a,2),a<=i&&(i-=2),o(e,[])),null!=t&&(r.push(e,t),o(e,s(t),d))},redraw:d}}},741:function(e,t,a){"use strict";function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=a(300),M=a(963),D=a(64),P=a(50),k=a(660),E=a(792),T=a(319),A=a(195),S={};function C(t){try{return decodeURIComponent(t)}catch(e){return t}}e.exports=function(r,l){var c,u,m,p,b,f,e=null==r?null:"function"==typeof r.setImmediate?r.setImmediate:r.setTimeout,g=D.resolve(),t=!1,i=!1,h=0,v=S,n={onbeforeupdate:function(){return!(!(h=h?2:1)||S===v)},onremove:function(){r.removeEventListener("popstate",s,!1),r.removeEventListener("hashchange",d,!1)},view:function(){var e;if(h&&S!==v)return e=[o(m,p.key,p)],v?v.render(e[0]):e}},x=y.SKIP={};function d(){t=!1;var e=r.location.hash,n=("#"!==y.prefix[0]&&(e=r.location.search+e,"?"!==y.prefix[0]&&"/"!==(e=r.location.pathname+e)[0]&&(e="/"+e)),e.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,C).slice(y.prefix.length)),d=k(n);function s(e){console.error(e),_(u,null,{replace:!0})}T(d.params,r.history.state),function t(a){for(;a<c.length;a++){var o,e,r,i;if(c[a].check(d))return o=c[a].component,e=c[a].route,i=f=function(e){if(i===f){if(e===x)return t(a+1);m=null==e||"function"!=typeof e.view&&"function"!=typeof e?"div":e,p=d.params,b=n,f=null,v=o.render?o:null,2===h?l.redraw():(h=2,l.redraw.sync())}},void((r=o).view||"function"==typeof o?(o={},i(r)):o.onmatch?g.then(function(){return o.onmatch(d.params,n,e)}).then(i,n===u?null:s):i("div"))}if(n===u)throw new Error("Could not resolve default route "+u+".");_(u,null,{replace:!0})}(0)}function s(){t||(t=!0,e(d))}function _(e,t,a){var o;e=P(e,t),i?(s(),t=a?a.state:null,o=a?a.title:null,a&&a.replace?r.history.replaceState(t,o,y.prefix+e):r.history.pushState(t,o,y.prefix+e)):r.location.href=y.prefix+e}function y(e,t,a){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(a).map(function(e){if("/"!==e[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:e,component:a[e],check:E(e)}}),null!=(u=t)){var o=k(t);if(!c.some(function(e){return e.check(o)}))throw new ReferenceError("Default route doesn't match any known routes.")}"function"==typeof r.history.pushState?r.addEventListener("popstate",s,!1):"#"===y.prefix[0]&&r.addEventListener("hashchange",d,!1),i=!0,l.mount(e,n),d()}return y.set=function(e,t,a){null!=f&&((a=a||{}).replace=!0),f=null,_(e,t,a)},y.get=function(){return b},y.prefix="#!",y.Link={view:function(e){var a,o,r,t=M(e.attrs.selector||"a",A(e.attrs,["options","params","selector","onclick"]),e.children);return(t.attrs.disabled=Boolean(t.attrs.disabled))?(t.attrs.href=null,t.attrs["aria-disabled"]="true"):(a=e.attrs.options,o=e.attrs.onclick,r=P(t.attrs.href,e.attrs.params),t.attrs.href=y.prefix+r,t.attrs.onclick=function(e){var t;"function"==typeof o?t=o.call(e.currentTarget,e):null!=o&&"object"===w(o)&&"function"==typeof o.handleEvent&&o.handleEvent(e),!1===t||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,y.set(r,null,a))}),t}},y.param=function(e){return p&&null!=e?p[e]:p},y}},632:function(e,t,a){"use strict";var o=a(963);o.trust=a(158),o.fragment=a(613),e.exports=o},360:function(e,t,a){"use strict";function o(){return r.apply(this,arguments)}var r=a(632),i=a(924),n=a(945);o.m=r,o.trust=r.trust,o.fragment=r.fragment,o.Fragment="[",o.mount=n.mount,o.route=a(208),o.render=a(754),o.redraw=n.redraw,o.request=i.request,o.jsonp=i.jsonp,o.parseQueryString=a(256),o.buildQueryString=a(19),o.parsePathname=a(660),o.buildPathname=a(50),o.vnode=a(300),o.PromisePolyfill=a(121),o.censor=a(195),e.exports=o},945:function(e,t,a){"use strict";var o=a(754);e.exports=a(36)(o,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},50:function(e,t,a){"use strict";var u=a(19),m=a(319);e.exports=function(e,o){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==o)return e;var t=e.indexOf("?"),a=e.indexOf("#"),r=a<0?e.length:a,i=e.slice(0,t<0?r:t),n={},i=(m(n,o),i.replace(/:([^\/\.-]+)(\.{3})?/g,function(e,t,a){return delete n[t],null==o[t]?e:a?o[t]:encodeURIComponent(String(o[t]))})),d=i.indexOf("?"),s=i.indexOf("#"),l=s<0?i.length:s,c=i.slice(0,d<0?l:d),r=(0<=t&&(c+=e.slice(t,r)),0<=d&&(c+=(t<0?"?":"&")+i.slice(d,l)),u(n));return r&&(c+=(t<0&&d<0?"?":"&")+r),0<=a&&(c+=e.slice(a)),0<=s&&(c+=(a<0?"":"&")+i.slice(s)),c}},792:function(e,t,a){"use strict";var d=a(660);e.exports=function(e){var o=d(e),r=Object.keys(o.params),i=[],n=new RegExp("^"+o.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(e,t,a){return null==t?"\\"+e:(i.push({k:t,r:"..."===a}),"..."===a?"(.*)":"."===a?"([^/]+)\\.":"([^/]+)"+(a||""))})+"$");return function(e){for(var t=0;t<r.length;t++)if(o.params[r[t]]!==e.params[r[t]])return!1;if(!i.length)return n.test(e.path);var a=n.exec(e.path);if(null==a)return!1;for(t=0;t<i.length;t++)e.params[i[t].k]=i[t].r?a[t+1]:decodeURIComponent(a[t+1]);return!0}}},660:function(e,t,a){"use strict";var r=a(256);e.exports=function(e){var t=e.indexOf("?"),a=e.indexOf("#"),a=a<0?e.length:a,o=e.slice(0,t<0?a:t).replace(/\/{2,}/g,"/");return o?1<(o="/"!==o[0]?"/"+o:o).length&&"/"===o[o.length-1]&&(o=o.slice(0,-1)):o="/",{path:o,params:t<0?{}:r(e.slice(t+1,a))}}},121:function(e){"use strict";function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){if(!(this instanceof p))throw new Error("Promise must be called with 'new'.");if("function"!=typeof e)throw new TypeError("executor must be a function.");var i=this,n=[],d=[],r=t(n,!0),s=t(d,!1),l=i._instance={resolvers:n,rejectors:d},c="function"==typeof setImmediate?setImmediate:setTimeout;function t(o,r){return function t(a){var e;try{if(!r||null==a||"object"!==m(a)&&"function"!=typeof a||"function"!=typeof(e=a.then))c(function(){r||0!==o.length||console.error("Possible unhandled promise rejection:",a);for(var e=0;e<o.length;e++)o[e](a);n.length=0,d.length=0,l.state=r,l.retry=function(){t(a)}});else{if(a===i)throw new TypeError("Promise can't be resolved with itself.");u(e.bind(a))}}catch(e){s(e)}}}function u(e){var a=0;function t(t){return function(e){0<a++||t(e)}}var o=t(s);try{e(t(r),o)}catch(e){o(e)}}u(e)}p.prototype.then=function(e,t){var r,i,n=this._instance;function a(t,e,a,o){e.push(function(e){if("function"!=typeof t)a(e);else try{r(t(e))}catch(e){i&&i(e)}}),"function"==typeof n.retry&&o===n.state&&n.retry()}var o=new p(function(e,t){r=e,i=t});return a(e,n.resolvers,r,!0),a(t,n.rejectors,i,!1),o},p.prototype.catch=function(e){return this.then(null,e)},p.prototype.finally=function(t){return this.then(function(e){return p.resolve(t()).then(function(){return e})},function(e){return p.resolve(t()).then(function(){return p.reject(e)})})},p.resolve=function(t){return t instanceof p?t:new p(function(e){e(t)})},p.reject=function(a){return new p(function(e,t){t(a)})},p.all=function(d){return new p(function(a,o){var r=d.length,i=0,n=[];if(0===d.length)a([]);else for(var e=0;e<d.length;e++)!function(t){function e(e){i++,n[t]=e,i===r&&a(n)}null==d[t]||"object"!==m(d[t])&&"function"!=typeof d[t]||"function"!=typeof d[t].then?e(d[t]):d[t].then(e,o)}(e)})},p.race=function(o){return new p(function(e,t){for(var a=0;a<o.length;a++)o[a].then(e,t)})},e.exports=p},64:function(e,t,a){"use strict";var o=a(121);"undefined"!=typeof window?(void 0===window.Promise?window.Promise=o:window.Promise.prototype.finally||(window.Promise.prototype.finally=o.prototype.finally),e.exports=window.Promise):void 0!==a.g?(void 0===a.g.Promise?a.g.Promise=o:a.g.Promise.prototype.finally||(a.g.Promise.prototype.finally=o.prototype.finally),e.exports=a.g.Promise):e.exports=o},19:function(e){"use strict";e.exports=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t,r=[];for(t in e)!function e(t,a){if(Array.isArray(a))for(var o=0;o<a.length;o++)e(t+"["+o+"]",a[o]);else if("[object Object]"===Object.prototype.toString.call(a))for(var o in a)e(t+"["+o+"]",a[o]);else r.push(encodeURIComponent(t)+(null!=a&&""!==a?"="+encodeURIComponent(a):""))}(t,e[t]);return r.join("&")}},256:function(e){"use strict";function b(t){try{return decodeURIComponent(t)}catch(e){return t}}e.exports=function(e){if(""===e||null==e)return{};for(var t=(e="?"===e.charAt(0)?e.slice(1):e).split("&"),a={},o={},r=0;r<t.length;r++){var i=t[r].split("="),n=b(i[0]),d=2===i.length?b(i[1]):"",s=("true"===d?d=!0:"false"===d&&(d=!1),n.split(/\]\[?|\[/)),l=o;-1<n.indexOf("[")&&s.pop();for(var c=0;c<s.length;c++){var u,m=s[c],p=s[c+1],p=""==p||!isNaN(parseInt(p,10));if(""===m)null==a[n=s.slice(0,c).join()]&&(a[n]=Array.isArray(l)?l.length:0),m=a[n]++;else if("__proto__"===m)break;c===s.length-1?l[m]=d:(null==(u=null!=(u=Object.getOwnPropertyDescriptor(l,m))?u.value:u)&&(l[m]=u=p?[]:{}),l=u)}}return o}},754:function(e,t,a){"use strict";e.exports=a(617)("undefined"!=typeof window?window:null)},613:function(e,t,a){"use strict";var o=a(300),r=a(953);e.exports=function(){var e=r.apply(0,arguments);return e.tag="[",e.children=o.normalizeChildren(e.children),e}},963:function(e,t,a){"use strict";var d=a(300),s=a(953),l=a(554),c=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,u={};function m(e){for(var t in e)if(l.call(e,t))return;return 1}e.exports=function(e){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var t=s.apply(1,arguments);if("string"!=typeof e||(t.children=d.normalizeChildren(t.children),"["===e))return t.tag=e,t;var a=u[e]||function(e){for(var t,a="div",o=[],r={};t=c.exec(e);){var i=t[1],n=t[2];""===i&&""!==n?a=n:"#"===i?r.id=n:"."===i?o.push(n):"["===t[3][0]&&(i=(i=t[6])&&i.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\"),"class"===t[4]?o.push(i):r[t[4]]=""===i?i:i||!0)}return 0<o.length&&(r.className=o.join(" ")),u[e]={tag:a,attrs:r}}(e),o=t,r=o.attrs,e=l.call(r,"class"),t=e?r.class:r.className;if(o.tag=a.tag,o.attrs={},!m(a.attrs)&&!m(r)){var i,n={};for(i in r)l.call(r,i)&&(n[i]=r[i]);r=n}for(i in a.attrs)l.call(a.attrs,i)&&"className"!==i&&!l.call(r,i)&&(r[i]=a.attrs[i]);for(i in null==t&&null==a.attrs.className||(r.className=null!=t?null!=a.attrs.className?String(a.attrs.className)+" "+String(t):t:null!=a.attrs.className?a.attrs.className:null),e&&(r.class=null),r)if(l.call(r,i)&&"key"!==i){o.attrs=r;break}return o}},953:function(e,t,a){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=a(300);e.exports=function(){var e,t=arguments[this],a=this+1;if(null==t?t={}:"object"===o(t)&&null==t.tag&&!Array.isArray(t)||(t={},a=this),arguments.length===a+1)e=arguments[a],Array.isArray(e)||(e=[e]);else for(e=[];a<arguments.length;)e.push(arguments[a++]);return r("",t.key,t,e)}},617:function(e,t,a){"use strict";function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ee=a(300);e.exports=function(e){var l,k=e&&e.document,t={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function H(e){return e.attrs&&e.attrs.xmlns||t[e.tag]}function c(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function Y(e){var t=e.state;try{return this.apply(t,arguments)}finally{c(e,t)}}function j(){try{return k.activeElement}catch(e){return null}}function E(e,t,a,o,r,i,n){for(var d=a;d<o;d++){var s=t[d];null!=s&&U(e,s,r,n,i)}}function U(e,t,a,o,r){var i,n,d,s,l=t.tag;if("string"==typeof l)switch(t.state={},null!=t.attrs&&F(t.attrs,t,a),l){case"#":c=e,m=r,(u=t).dom=k.createTextNode(u.children),C(c,u.dom,m);break;case"<":$(e,t,o,r);break;case"[":var c=e,u=t,m=a,p=o,b=r,f=k.createDocumentFragment();null!=u.children&&(g=u.children,E(f,g,0,g.length,m,null,p)),u.dom=f.firstChild,u.domSize=f.childNodes.length,C(c,f,b);break;default:var g=e,p=t,f=a,b=o,h=r,v=p.tag,x=p.attrs,_=x&&x.is,_=(b=H(p)||b)?_?k.createElementNS(b,v,{is:_}):k.createElementNS(b,v):_?k.createElement(v,{is:_}):k.createElement(v);if(p.dom=_,null!=x){var y=p;var w=x;var M=b;"input"===y.tag&&null!=w.type&&y.dom.setAttribute("type",w.type);var D,P=null!=w&&"input"===y.tag&&"file"===w.type;for(D in w)X(y,D,null,w[D],M,P)}if(C(g,_,h),!J(p))if(null!=p.children){v=p.children,E(_,v,0,v.length,f,null,b);if("select"===p.tag&&null!=x){h=p;_=x;"value"in _&&(null===_.value?-1!==h.dom.selectedIndex&&(h.dom.value=null):(v=""+_.value,h.dom.value===v&&-1!==h.dom.selectedIndex||(h.dom.value=v)));"selectedIndex"in _&&X(h,"selectedIndex",null,_.selectedIndex,void 0)}}}else l=e,d=o,s=r,function(e,t){var a;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(a=e.state.view).$$reentrantLock$$)return;a.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(a=e.tag).$$reentrantLock$$)return;a.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}F(e.state,e,t),null!=e.attrs&&F(e.attrs,e,t);if(e.instance=ee.normalize(Y.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}(i=t,n=a),null!=i.instance?(U(l,i.instance,n,d,s),i.dom=i.instance.dom,i.domSize=null!=i.dom?i.instance.domSize:0):i.domSize=0}var s={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function $(e,t,a,o){for(var r,i=t.children.match(/^\s*?<(\w+)/im)||[],n=k.createElement(s[i[1]]||"div"),d=("http://www.w3.org/2000/svg"===a?(n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",n=n.firstChild):n.innerHTML=t.children,t.dom=n.firstChild,t.domSize=n.childNodes.length,t.instance=[],k.createDocumentFragment());r=n.firstChild;)t.instance.push(r),d.appendChild(r);C(e,d,o)}function B(e,t,a,o,r,i){if(t!==a&&(null!=t||null!=a))if(null==t||0===t.length)E(e,a,0,a.length,o,r,i);else if(null==a||0===a.length)I(e,t,0,t.length);else{var n=null!=t[0]&&null!=t[0].key,d=null!=a[0]&&null!=a[0].key,s=0,l=0;if(!n)for(;l<t.length&&null==t[l];)l++;if(!d)for(;s<a.length&&null==a[s];)s++;if(n!=d)I(e,t,l,t.length),E(e,a,s,a.length,o,r,i);else if(d){for(var c,u,m,p,b=t.length-1,f=a.length-1;l<=b&&s<=f&&(m=t[b],D=a[f],m.key===D.key);)m!==D&&V(e,m,D,o,r,i),null!=D.dom&&(r=D.dom),b--,f--;for(;l<=b&&s<=f&&(c=t[l],u=a[s],c.key===u.key);)l++,s++,c!==u&&V(e,c,u,o,A(t,l,r),i);for(;l<=b&&s<=f&&s!==f&&c.key===D.key&&m.key===u.key;)S(e,m,p=A(t,l,r)),m!==u&&V(e,m,u,o,p,i),++s<=--f&&S(e,c,r),c!==D&&V(e,c,D,o,r,i),null!=D.dom&&(r=D.dom),m=t[--b],D=a[f],c=t[++l],u=a[s];for(;l<=b&&s<=f&&m.key===D.key;)m!==D&&V(e,m,D,o,r,i),null!=D.dom&&(r=D.dom),m=t[--b],D=a[--f];if(f<s)I(e,t,l,b+1);else if(b<l)E(e,a,s,f+1,o,r,i);else{for(var g,h,n=r,v=f-s+1,x=new Array(v),_=0,y=0,w=2147483647,M=0,y=0;y<v;y++)x[y]=-1;for(y=f;s<=y;y--){var D,P=(g=null==g?function(e,t,a){for(var o=Object.create(null);t<a;t++){var r=e[t];null==r||null!=(r=r.key)&&(o[r]=t)}return o}(t,l,b+1):g)[(D=a[y]).key];null!=P&&(w=P<w?P:-1,m=t[x[y-s]=P],t[P]=null,m!==D&&V(e,m,D,o,r,i),null!=D.dom&&(r=D.dom),M++)}if(r=n,M!==b-l+1&&I(e,t,l,b+1),0===M)E(e,a,s,f+1,o,r,i);else if(-1===w)for(_=(h=function(e){for(var t=[0],a=0,o=0,r=0,i=T.length=e.length,r=0;r<i;r++)T[r]=e[r];for(r=0;r<i;++r)if(-1!==e[r]){var n=t[t.length-1];if(e[n]<e[r])T[r]=n,t.push(r);else{for(a=0,o=t.length-1;a<o;){var d=(a>>>1)+(o>>>1)+(a&o&1);e[t[d]]<e[r]?a=1+d:o=d}e[r]<e[t[a]]&&(0<a&&(T[r]=t[a-1]),t[a]=r)}}a=t.length,o=t[a-1];for(;0<a--;)t[a]=o,o=T[o];return T.length=0,t}(x)).length-1,y=f;s<=y;y--)u=a[y],-1===x[y-s]?U(e,u,o,i,r):h[_]===y-s?_--:S(e,u,r),null!=u.dom&&(r=a[y].dom);else for(y=f;s<=y;y--)u=a[y],-1===x[y-s]&&U(e,u,o,i,r),null!=u.dom&&(r=a[y].dom)}}else{for(var k=(t.length<a.length?t:a).length,s=s<l?s:l;s<k;s++)(c=t[s])===(u=a[s])||null==c&&null==u||(null==c?U(e,u,o,i,A(t,s+1,r)):null==u?z(e,c):V(e,c,u,o,A(t,s+1,r),i));t.length>k&&I(e,t,s,t.length),a.length>k&&E(e,a,s,a.length,o,r,i)}}}function V(e,t,a,o,r,i){var n=t.tag;if(n===a.tag){if(a.state=t.state,a.events=t.events,!function(e,t){do{var a;if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate)if(void 0!==(a=Y.call(e.attrs.onbeforeupdate,e,t))&&!a)break;if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate)if(void 0!==(a=Y.call(e.state.onbeforeupdate,e,t))&&!a)break;return}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,1}(a,t))if("string"==typeof n)switch(null!=a.attrs&&Q(a.attrs,a,o),n){case"#":var d=t,s=a;d.children.toString()!==s.children.toString()&&(d.dom.nodeValue=s.children),s.dom=d.dom;break;case"<":s=e,d=a,c=i,u=r,(m=t).children!==d.children?(q(s,m),$(s,d,c,u)):(d.dom=m.dom,d.domSize=m.domSize,d.instance=m.instance);break;case"[":var l=a,c=o,u=r,m=i,p=(B(e,t.children,l.children,c,u,m),0),b=l.children;if((l.dom=null)!=b){for(var f=0;f<b.length;f++){var g=b[f];null!=g&&null!=g.dom&&(null==l.dom&&(l.dom=g.dom),p+=g.domSize||1)}1!==p&&(l.domSize=p)}break;default:var h,v=t,x=a,_=o,y=i,R=x.dom=v.dom,w=(y=H(x)||y,"textarea"!==x.tag||null==x.attrs&&(x.attrs={}),x),M=v.attrs,D=x.attrs,P=y;if(M&&M===D&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),null!=D){"input"===w.tag&&null!=D.type&&w.dom.setAttribute("type",D.type);var O="input"===w.tag&&"file"===D.type;for(k in D)X(w,k,M&&M[k],D[k],P,O)}if(null!=M)for(var k in M)if(null!=(h=M[k])&&(null==D||null==D[k])){E=void 0;T=void 0;A=void 0;S=void 0;S=void 0;var E=w;var T=k;var A=h;var S=P;"key"===T||"is"===T||null==A||G(T)||("o"===T[0]&&"n"===T[1]?W(E,T,void 0):"style"===T?K(E.dom,A,null):!Z(E,T,S)||"className"===T||"title"===T||"value"===T&&("option"===E.tag||"select"===E.tag&&-1===E.dom.selectedIndex&&E.dom===j())||"input"===E.tag&&"type"===T?(-1!==(S=T.indexOf(":"))&&(T=T.slice(S+1)),!1!==A&&E.dom.removeAttribute("className"===T?"class":T)):E.dom[T]=null)}J(x)||B(R,v.children,x.children,_,null,y)}else{var n=e,C=t,I=a,F=o,N=r,L=i;if(I.instance=ee.normalize(Y.call(I.state.view,I)),I.instance===I)throw Error("A view cannot return the vnode it received as argument");Q(I.state,I,F),null!=I.attrs&&Q(I.attrs,I,F),null!=I.instance?(null==C.instance?U(n,I.instance,F,L,N):V(n,C.instance,I.instance,F,N,L),I.dom=I.instance.dom,I.domSize=I.instance.domSize):null!=C.instance?(z(n,C.instance),I.dom=void 0,I.domSize=0):(I.dom=C.dom,I.domSize=C.domSize)}}else z(e,t),U(e,a,o,i,r)}var T=[];function A(e,t,a){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return a}function S(e,t,a){var o=k.createDocumentFragment();!function e(t,a,o){for(;null!=o.dom&&o.dom.parentNode===t;){if("string"!=typeof o.tag){if(null!=(o=o.instance))continue}else if("<"===o.tag)for(var r=0;r<o.instance.length;r++)a.appendChild(o.instance[r]);else if("["!==o.tag)a.appendChild(o.dom);else if(1===o.children.length){if(null!=(o=o.children[0]))continue}else for(r=0;r<o.children.length;r++){var i=o.children[r];null!=i&&e(t,a,i)}break}}(e,o,t),C(e,o,a)}function C(e,t,a){null!=a?e.insertBefore(t,a):e.appendChild(t)}function J(e){if(null!=e.attrs&&(null!=e.attrs.contenteditable||null!=e.attrs.contentEditable)){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var a=t[0].children;e.dom.innerHTML!==a&&(e.dom.innerHTML=a)}else if(null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted.");return 1}}function I(e,t,a,o){for(var r=a;r<o;r++){var i=t[r];null!=i&&z(e,i)}}function z(e,t){var a,o,r,i,n=0,d=t.state;function s(){c(t,d),m(t),u(e,t)}"string"!=typeof t.tag&&"function"==typeof t.state.onbeforeremove&&null!=(r=Y.call(t.state.onbeforeremove,t))&&"function"==typeof r.then&&(n=1,a=r),t.attrs&&"function"==typeof t.attrs.onbeforeremove&&null!=(r=Y.call(t.attrs.onbeforeremove,t))&&"function"==typeof r.then&&(n|=2,o=r),c(t,d),n?(null!=a&&a.then(i=function(){1&n&&((n&=2)||s())},i),null!=o&&o.then(i=function(){2&n&&((n&=1)||s())},i)):(m(t),u(e,t))}function q(e,t){for(var a=0;a<t.instance.length;a++)e.removeChild(t.instance[a])}function u(e,t){for(;null!=t.dom&&t.dom.parentNode===e;){if("string"!=typeof t.tag){if(null!=(t=t.instance))continue}else if("<"===t.tag)q(e,t);else{if("["!==t.tag&&(e.removeChild(t.dom),!Array.isArray(t.children)))break;if(1===t.children.length){if(null!=(t=t.children[0]))continue}else for(var a=0;a<t.children.length;a++){var o=t.children[a];null!=o&&u(e,o)}}break}}function m(e){if("string"!=typeof e.tag&&"function"==typeof e.state.onremove&&Y.call(e.state.onremove,e),e.attrs&&"function"==typeof e.attrs.onremove&&Y.call(e.attrs.onremove,e),"string"!=typeof e.tag)null!=e.instance&&m(e.instance);else{var t=e.children;if(Array.isArray(t))for(var a=0;a<t.length;a++){var o=t[a];null!=o&&m(o)}}}function X(e,t,a,o,r,i){if("key"!==t&&"is"!==t&&null!=o&&!G(t)&&(a!==o||(n=e,"value"===(d=t)||"checked"===d||"selectedIndex"===d||"selected"===d&&n.dom===j()||"option"===n.tag&&n.dom.parentNode===k.activeElement)||"object"===b(o))&&("type"!==t||"input"!==e.tag)){var n,d;if("o"===t[0]&&"n"===t[1])return W(e,t,o);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),o);else if("style"===t)K(e.dom,a,o);else if(Z(e,t,r)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+o&&(i||e.dom===j()))return;if("select"===e.tag&&null!==a&&e.dom.value===""+o)return;if("option"===e.tag&&null!==a&&e.dom.value===""+o)return;if(i&&""+o!="")return void console.error("`value` is read-only on file inputs!")}e.dom[t]=o}else"boolean"==typeof o?o?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,o)}}function G(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function Z(e,t,a){return void 0===a&&(-1<e.tag.indexOf("-")||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var p,a=/[A-Z]/g;function o(e){return"-"+e.toLowerCase()}function i(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(a,o)}function K(e,t,a){if(t!==a)if(null==a)e.style.cssText="";else if("object"!==b(a))e.style.cssText=a;else if(null==t||"object"!==b(t))for(var o in e.style.cssText="",a)null!=(r=a[o])&&e.style.setProperty(i(o),String(r));else{for(var o in a){var r;null!=(r=a[o])&&(r=String(r))!==String(t[o])&&e.style.setProperty(i(o),r)}for(var o in t)null!=t[o]&&null==a[o]&&e.style.removeProperty(i(o))}}function r(){this._=l}function W(e,t,a){null!=e.events?(e.events._=l,e.events[t]!==a&&(null==a||"function"!=typeof a&&"object"!==b(a)?(null!=e.events[t]&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0):(null==e.events[t]&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=a))):null==a||"function"!=typeof a&&"object"!==b(a)||(e.events=new r,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=a)}function F(e,t,a){"function"==typeof e.oninit&&Y.call(e.oninit,t),"function"==typeof e.oncreate&&a.push(Y.bind(e.oncreate,t))}function Q(e,t,a){"function"==typeof e.onupdate&&a.push(Y.bind(e.onupdate,t))}return(r.prototype=Object.create(null)).handleEvent=function(e){var t,a=this["on"+e.type];"function"==typeof a?t=a.call(e.currentTarget,e):"function"==typeof a.handleEvent&&a.handleEvent(e),this._&&!1!==e.redraw&&(0,this._)(),!1===t&&(e.preventDefault(),e.stopPropagation())},function(e,t,a){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(null!=p&&e.contains(p))throw new TypeError("Node is currently being rendered to and thus is locked.");var o=l,r=p,i=[],n=j(),d=e.namespaceURI;p=e,l="function"==typeof a?a:void 0;try{null==e.vnodes&&(e.textContent=""),t=ee.normalizeChildren(Array.isArray(t)?t:[t]),B(e,e.vnodes,t,i,null,"http://www.w3.org/1999/xhtml"===d?void 0:d),e.vnodes=t,null!=n&&j()!==n&&"function"==typeof n.focus&&n.focus();for(var s=0;s<i.length;s++)i[s]()}finally{l=o,p=r}}}},158:function(e,t,a){"use strict";var o=a(300);e.exports=function(e){return o("<",void 0,void 0,e=null==e?"":e,void 0,void 0)}},300:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,a,o,r,i){return{tag:e,key:t,attrs:a,children:o,text:r,dom:i,domSize:void 0,state:void 0,events:void 0,instance:void 0}}r.normalize=function(e){return Array.isArray(e)?r("[",void 0,void 0,r.normalizeChildren(e),void 0,void 0):null==e||"boolean"==typeof e?null:"object"===t(e)?e:r("#",void 0,void 0,String(e),void 0,void 0)},r.normalizeChildren=function(e){var t=[];if(e.length){for(var a=null!=e[0]&&null!=e[0].key,o=1;o<e.length;o++)if((null!=e[o]&&null!=e[o].key)!=a)throw new TypeError(!a||null==e[o]&&"boolean"!=typeof e[o]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(o=0;o<e.length;o++)t[o]=r.normalize(e[o])}return t},e.exports=r},924:function(e,t,a){"use strict";var o=a(64),r=a(945);e.exports=a(423)("undefined"!=typeof window?window:null,o,r.redraw)},423:function(e,t,a){"use strict";var l=a(50),h=a(554);e.exports=function(f,a,d){var n=0;function s(e){return new a(e)}function e(n){return function(t,o){"string"!=typeof t?t=(o=t).url:null==o&&(o={});var e=new a(function(a,e){n(l(t,o.params),o,function(e){if("function"==typeof o.type)if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t]=new o.type(e[t]);else e=new o.type(e);a(e)},e)});if(!0===o.background)return e;var r=0;function i(){0==--r&&"function"==typeof d&&d()}return function t(a){var o=a.then;a.constructor=s;a.then=function(){r++;var e=o.apply(a,arguments);return e.then(i,function(e){if(i(),0===r)throw e}),t(e)};return a}(e)}}function g(e,t){for(var a in e.headers)if(h.call(e.headers,a)&&a.toLowerCase()===t)return 1}return s.prototype=a.prototype,s.__proto__=a,{request:e(function(i,n,d,s){var e,t,a=null!=n.method?n.method.toUpperCase():"GET",o=n.body,r=(null==n.serialize||n.serialize===JSON.serialize)&&!(o instanceof f.FormData||o instanceof f.URLSearchParams),l=n.responseType||("function"==typeof n.extract?"":"json"),c=new f.XMLHttpRequest,u=!1,m=!1,p=c,b=c.abort;for(t in c.abort=function(){u=!0,b.call(this)},c.open(a,i,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),r&&null!=o&&!g(n,"content-type")&&c.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||g(n,"accept")||c.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(c.withCredentials=n.withCredentials),n.timeout&&(c.timeout=n.timeout),c.responseType=l,n.headers)h.call(n.headers,t)&&c.setRequestHeader(t,n.headers[t]);c.onreadystatechange=function(t){if(!u&&4===t.target.readyState)try{var a,e,o=200<=t.target.status&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(i),r=t.target.response;if("json"===l){if(!t.target.responseType&&"function"!=typeof n.extract)try{r=JSON.parse(t.target.responseText)}catch(e){r=null}}else l&&"text"!==l||null==r&&(r=t.target.responseText);"function"==typeof n.extract?(r=n.extract(t.target,n),o=!0):"function"==typeof n.deserialize&&(r=n.deserialize(r)),o?d(r):(e=function(){try{a=t.target.responseText}catch(e){a=r}var e=new Error(a);e.code=t.target.status,e.response=r,s(e)},0===c.status?setTimeout(function(){m||e()}):e())}catch(e){s(e)}},c.ontimeout=function(e){m=!0;var t=new Error("Request timed out");t.code=e.target.status,s(t)},"function"==typeof n.config&&(c=n.config(c,n,i)||c)!==p&&(e=c.abort,c.abort=function(){u=!0,e.call(this)}),null==o?c.send():"function"==typeof n.serialize?c.send(n.serialize(o)):o instanceof f.FormData||o instanceof f.URLSearchParams?c.send(o):c.send(JSON.stringify(o))}),jsonp:e(function(e,t,a,o){var r=t.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+n++,i=f.document.createElement("script");f[r]=function(e){delete f[r],i.parentNode.removeChild(i),a(e)},i.onerror=function(){delete f[r],i.parentNode.removeChild(i),o(new Error("JSONP request failed"))},i.src=e+(e.indexOf("?")<0?"?":"&")+encodeURIComponent(t.callbackKey||"callback")+"="+encodeURIComponent(r),f.document.documentElement.appendChild(i)})}}},208:function(e,t,a){"use strict";var o=a(945);e.exports=a(741)("undefined"!=typeof window?window:null,o)},319:function(e,t,a){"use strict";var o=a(554);e.exports=Object.assign||function(e,t){for(var a in t)o.call(t,a)&&(e[a]=t[a])}},195:function(e,t,a){"use strict";var r=a(554),i=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");e.exports=function(e,t){var a={};if(null!=t)for(var o in e)r.call(e,o)&&!i.test(o)&&t.indexOf(o)<0&&(a[o]=e[o]);else for(var o in e)r.call(e,o)&&!i.test(o)&&(a[o]=e[o]);return a}},554:function(e){"use strict";e.exports={}.hasOwnProperty},480:function(){}},o={};function Jn(e){var t=o[e];if(void 0!==t)return t.exports;t=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(t.exports,t,t.exports,Jn),t.loaded=!0,t.exports}Jn.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Jn.d(t,{a:t}),t},Jn.d=function(e,t){for(var a in t)Jn.o(t,a)&&!Jn.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},Jn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),Jn.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Jn.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};!function(){"use strict";var R=Jn(360),n=Jn.n(R),O={httpError:"Error en petición HTTP. [HTTP ERROR] Comunícate son soporte."},R=Jn(344),H=Jn.n(R),R=Jn(623),Y=Jn.n(R),R=Jn(788),j=Jn.n(R),U={oninit:function(){H().config.encrypt=!0,H().config.secret="v4.Metrovirtual",H().config.encrypter=function(e,t){return j().encrypt(JSON.stringify(e),t).toString()},H().config.decrypter=function(t,e){try{return JSON.parse(j().decrypt(t,e).toString(Y()))}catch(e){return t}}},setDataNotificaciones:function(e){return U.oninit(),H().set("updatesNotificaciones",e)},getDataNotificaciones:function(){return U.oninit(),H().get("updatesNotificaciones")},setData:function(e){return U.oninit(),H().set("updates",e)},setDataUser:function(e){return U.oninit(),H().set("dataUser",e)},getData:function(e){return U.oninit(),H().get("updates")},getDataUser:function(e){return U.oninit(),H().get("dataUser")}},B=U,V={user:[],rol:null,labelRol:null,modulesAccess:[],username:"",password:"",messageError:"",statusHide:" d-none",statusError:"warning",imputDisabled:!1,setUsername:function(e){V.username=e},setPassword:function(e){V.password=e},canSubmit:function(){return""!==V.username&&""!==V.password},setError:function(e){V.statusHide="",V.statusError="danger",V.messageError=e},setSuccess:function(e){V.statusHide="",V.statusError="success",V.messageError=e},setProcess:function(){V.statusHide="",V.statusError="warning",V.messageError="Procesando..."},login:function(){return V.imputDisabled=!0,V.setProcess(),n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/auth",body:{user:V.username,pass:V.password}}).then(function(e){e.status?(window.localStorage.accessToken=e.jwt,V.user=e.data.user,V.rol=e.data.rol,V.user.rol=V.rol,V.modulesAccess=e.data.modulesAccess,B.setDataUser({user:V.user,modulesAccess:V.modulesAccess}),V.setSuccess("¡Bienvenido!"),setTimeout(function(){V.imputDisabled=!1,V.statusHide="d-none",V.statusError="warning",V.messageError="",V.username="",V.password="",n().route.set("/inicio")},900)):(V.imputDisabled=!1,V.statusHide="d-none",V.statusError="warning",V.messageError="",V.setError(e.message))}).catch(function(e){V.imputDisabled=!1,V.statusHide="d-none",V.statusError="warning",V.messageError="",V.username="",V.password="",V.setError(O.httpError)})},isLogin:function(){return!(void 0===window.localStorage.getItem("accessToken")||!window.localStorage.getItem("accessToken"))}},J=V,z=Jn(360),q={view:function(){return[z("div.text-center.mg-t-300",z(".spinner-grow.text-dark[role='status']",z("span.sr-only","Cargando...")))]}},X=Jn(360),G={title:"MetroPlus v1.0.0",oninit:function(){document.title="Cargando..."},oncreate:function(){document.title="Bienvenido | "+G.title},isShow:function(){var o,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=B.getDataUser();return J.user=t.user,J.rol=t.user.rol,J.modulesAccess=t.modulesAccess,0===r||(o=0,J.modulesAccess[e].map(function(e,t,a){e.idModulo==r&&o++}),0!=o)},isAuth:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!J.isLogin())return X.route.set("/auth");var r,t=B.getDataUser();J.user=t.user,J.rol=t.user.rol,J.modulesAccess=t.modulesAccess,0!==o&&(r=0,J.modulesAccess[e].map(function(e,t,a){e.idModulo==o&&r++}),0==r&&X.route.set("/inicio"))},view:function(){return[X(q),setTimeout(function(){G.isAuth(),X.route.set("/inicio")},300)]}},d=G,R={oncreate:function(e){},view:function(e){window.location.href="http://172.16.253.18/report-executor/mvreport?name=USR_VALIDACION_EMERGENCIA&cdMultiEmpresa=1&V_ATENCION="+e.attrs.idAtencion}},Z=Jn(360),K={oncreate:function(){return window.localStorage.removeItem("accessToken"),Z.route.set("/auth")},view:function(){}},W=Jn(360),Q={view:function(){return[W("header.navbar.navbar-header.navbar-header-fixed",[W("div.navbar-brand",W(W.route.Link,{href:"/",class:"df-logo"},["Metro",W("span","Plus+")]))])]}},ee=Jn(360),te={view:function(){return[ee("div.content.content-fixed.content-auth",ee("div.container",ee("div.media.align-items-stretch.justify-content-center.ht-100p.pos-relative",[ee("div.mg-t-55.pd-50.media-body.align-items-center.d-none.d-lg-flex",[ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2 "},ee("i",{class:"fas fa-first-aid tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-pills tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-file-prescription tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-microscope  tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-procedures   tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-h-square tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-user-md tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-heartbeat      tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-notes-medical      tx-30 tx-white"})),ee("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},ee("i",{class:"fas fa-hospital tx-30 tx-white"}))]),ee("div.sign-wrapper.mg-lg-l-50.mg-xl-l-60",ee("div.wd-100p",[ee("h3.tx-color-01.mg-b-5.mg-t-20","Entrar"),ee("p.tx-color-03.tx-16.mg-b-40","¡Bienvenido! Por favor, inicie sesión para continuar."),ee(".tx-semibold.alert.alert-solid.alert-"+J.statusError+"."+J.statusHide+"[role='alert']",J.messageError),ee("div.form-group",[ee("label","Usuario:"),ee("input.form-control[type='text'][placeholder='mpaez']",{oninput:function(e){J.setUsername(e.target.value)},value:J.username})]),ee("div.form-group",[ee("div.d-flex.justify-content-between.mg-b-5",[ee("label.mg-b-0-f","Contraseña:")]),ee("input.form-control[type='password'][placeholder='Contraseña']",{oninput:function(e){J.setPassword(e.target.value)},value:J.password})]),ee("button.btn.btn-brand-02.btn-block "+J.buttonDisabled,{disabled:!J.canSubmit(),onclick:J.login},"Entrar"),ee("div.text-center.tx-gray-500.mg-t-20","MetroPlus Beta v1.0.0"),ee("div.text-center.tx-gray-500","Created by Hospital Metropolitano"),ee("div.ht-80")]))])))]}};var ae={oninit:function(){if(J.isLogin())return n().route.set("/inicio")},oncreate:function(){document.title="Entrar | "+d.title,document.onkeypress=function(e){"13"==((e=e||window.event).keyCode||e.which)&&J.canSubmit()&&$("button").click()}},view:function(){return[n()(Q),n()(te)]}};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var re=function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}};var ie=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)};var ne=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var de=function(e){return re(e)||ie(e)||ne()};(function(t){i=t.exports,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",a=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag",i.wrap=f,c="suspendedStart",u="suspendedYield",m="executing",p="completed",b={},(e={})[o]=function(){return this},(n=(n=Object.getPrototypeOf)&&n(n(P([]))))&&n!==t&&l.call(n,o)&&(e=n),d=x.prototype=h.prototype=Object.create(e),(v.prototype=d.constructor=x).constructor=v,x[r]=v.displayName="GeneratorFunction",i.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(d),e},i.awrap=function(e){return{__await:e}},_(y.prototype),y.prototype[a]=function(){return this},i.AsyncIterator=y,i.async=function(e,t,a,o){var r=new y(f(e,t,a,o));return i.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},_(d),d[r]="Generator",d[o]=function(){return this},d.toString=function(){return"[object Generator]"},i.keys=function(a){var e,o=[];for(e in a)o.push(e);return o.reverse(),function e(){for(;o.length;){var t=o.pop();if(t in a)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=P,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var o=this;function e(e,t){return i.type="throw",i.arg=a,o.next=e,t&&(o.method="next",o.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],i=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var n=l.call(r,"catchLoc"),d=l.call(r,"finallyLoc");if(n&&d){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(n){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&l.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}var i=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),M(a),b}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a,o,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(a=r.completion).type&&(o=a.arg,M(r)),o}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:P(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=s),b}};var i,s,l,e,o,a,r,c,u,m,p,b,n,d,t=i;function f(e,t,a,o){var r,i,n,d,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),o=new D(o||[]);return t._invoke=(r=e,i=a,n=o,d=c,function(e,t){if(d===m)throw new Error("Generator is already running");if(d===p){if("throw"===e)throw t;return k()}for(n.method=e,n.arg=t;;){var a=n.delegate;if(a){a=function e(t,a){var o=t.iterator[a.method];if(o===s){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=s,e(t,a),"throw"===a.method))return b;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}o=g(o,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,b;o=o.arg;if(!o)return a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b;{if(!o.done)return o;a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=s)}a.delegate=null;return b}(a,n);if(a){if(a===b)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(d===c)throw d=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);d=m;a=g(r,i,n);if("normal"===a.type){if(d=n.done?p:u,a.arg!==b)return{value:a.arg,done:n.done}}else"throw"===a.type&&(d=p,n.method="throw",n.arg=a.arg)}}),t}function g(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}function h(){}function v(){}function x(){}function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function y(n){var t;this._invoke=function(a,o){function e(){return new Promise(function(e,t){!function t(e,a,o,r){var i,e=g(n[e],n,a);if("throw"!==e.type)return(a=(i=e.arg).value)&&"object"===oe(a)&&l.call(a,"__await")?Promise.resolve(a.__await).then(function(e){t("next",e,o,r)},function(e){t("throw",e,o,r)}):Promise.resolve(a).then(function(e){i.value=e,o(i)},function(e){return t("throw",e,o,r)});r(e.arg)}(a,o,e,t)})}return t=t?t.then(e,e):e()}}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(t){if(t){var a,e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return a=-1,(e=function e(){for(;++a<t.length;)if(l.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=s,e.done=!0,e}).next=e}return{next:k}}function k(){return{value:s,done:!0}}try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})(je={exports:{}});var M=je.exports;function se(e,t,a,o,r,i,n){try{var d=e[i](n),s=d.value}catch(e){return void a(e)}d.done?t(s):Promise.resolve(s).then(o,r)}var le=function(d){return function(){var e=this,n=arguments;return new Promise(function(t,a){var o=d.apply(e,n);function r(e){se(o,t,a,r,i,"next",e)}function i(e){se(o,t,a,r,i,"throw",e)}r(void 0)})}};var ce=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function ue(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var me=function(e,t,a){return t&&ue(e.prototype,t),a&&ue(e,a),e};var pe=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e};var be=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);(o="function"==typeof Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})):o).forEach(function(e){pe(t,e,a[e])})}return t};function fe(e){var t=e.method,a=e.path,o=e.body,o=void 0===o?null:o,r=e.headers,r=void 0===r?{}:r,e=e.credentials,t={method:t,headers:r,credentials:void 0===e?"same-origin":e};return null!==o&&(t.body=JSON.stringify(o),t.headers=be({"Content-Type":"application/json"},r)),fetch(a,t).then(function(){var t=le(M.mark(function e(t){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=3;break}return e.next=3,function(){return ge.apply(this,arguments)}(t);case 3:return e.prev=3,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[3,9]])}));return function(e){return t.apply(this,arguments)}}())}function ge(){return(ge=le(M.mark(function e(t){var a,o;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:o=e.sent,a=o.error,a=void 0===a?"Unknown error":a,o=o.description,o=void 0===o?"No description":o,a="Unexpected status code ".concat(t.status,": ").concat(a,", ").concat(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a="Unexpected status code ".concat(t.status,": Cannot parse error response");case 14:throw new Error(a);case 15:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}var he=function(){function t(e){ce(this,t),this._instanceId=e,this._dbConn=null}var a,o;return me(t,[{key:"connect",value:function(){var o=this;return new Promise(function(t,a){var e=indexedDB.open(o._dbName);e.onsuccess=function(e){e=e.target.result;o._dbConn=e,o._readState().then(function(e){return null===e?o.clear():Promise.resolve()}).then(t)},e.onupgradeneeded=function(e){e.target.result.createObjectStore("beams",{keyPath:"instance_id"})},e.onerror=function(e){e=new Error("Database error: ".concat(e.target.error));a(e)}})}},{key:"clear",value:function(){return this._writeState({instance_id:this._instanceId,device_id:null,token:null,user_id:null})}},{key:"_readState",value:function(){var o=this;if(this.isConnected)return new Promise(function(t,a){var e=o._dbConn.transaction("beams").objectStore("beams").get(o._instanceId);e.onsuccess=function(e){e=e.target.result;e||t(null),t(e)},e.onerror=function(e){a(e.target.error)}});throw new Error("Cannot read value: DeviceStateStore not connected to IndexedDB")}},{key:"_readProperty",value:(o=le(M.mark(function e(t){var a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readState();case 2:if(null===(a=e.sent))return e.abrupt("return",null);e.next=5;break;case 5:return e.abrupt("return",a[t]||null);case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"_writeState",value:function(o){var r=this;if(this.isConnected)return new Promise(function(t,a){var e=r._dbConn.transaction("beams","readwrite").objectStore("beams").put(o);e.onsuccess=function(e){t()},e.onerror=function(e){a(e.target.error)}});throw new Error("Cannot write value: DeviceStateStore not connected to IndexedDB")}},{key:"_writeProperty",value:(a=le(M.mark(function e(t,a){var o;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readState();case 2:return(o=e.sent)[t]=a,e.next=6,this._writeState(o);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"getToken",value:function(){return this._readProperty("token")}},{key:"setToken",value:function(e){return this._writeProperty("token",e)}},{key:"getDeviceId",value:function(){return this._readProperty("device_id")}},{key:"setDeviceId",value:function(e){return this._writeProperty("device_id",e)}},{key:"getUserId",value:function(){return this._readProperty("user_id")}},{key:"setUserId",value:function(e){return this._writeProperty("user_id",e)}},{key:"getLastSeenSdkVersion",value:function(){return this._readProperty("last_seen_sdk_version")}},{key:"setLastSeenSdkVersion",value:function(e){return this._writeProperty("last_seen_sdk_version",e)}},{key:"getLastSeenUserAgent",value:function(){return this._readProperty("last_seen_user_agent")}},{key:"setLastSeenUserAgent",value:function(e){return this._writeProperty("last_seen_user_agent",e)}},{key:"_dbName",get:function(){return"beams-".concat(this._instanceId)}},{key:"isConnected",get:function(){return null!==this._dbConn}}]),t}(),ve="1.1.0",xe=new RegExp("^(_|\\-|=|@|,|\\.|;|[A-Z]|[a-z]|[0-9])*$"),_e="/service-worker.js?pusherBeamsWebSDKVersion=".concat(ve),ye=Object.freeze({PERMISSION_PROMPT_REQUIRED:"PERMISSION_PROMPT_REQUIRED",PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS",PERMISSION_GRANTED_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_REGISTERED_WITH_BEAMS",PERMISSION_DENIED:"PERMISSION_DENIED"}),we=function(){function r(e){if(ce(this,r),!e)throw new Error("Config object required");var t=e.instanceId,a=e.endpointOverride,a=void 0===a?null:a,e=e.serviceWorkerRegistration,e=void 0===e?null:e;if(void 0===t)throw new Error("Instance ID is required");if("string"!=typeof t)throw new Error("Instance ID must be a string");if(0===t.length)throw new Error("Instance ID cannot be empty");if(!("indexedDB"in window))throw new Error("Pusher Beams does not support this browser version (IndexedDB not supported)");if(!window.isSecureContext)throw new Error("Pusher Beams relies on Service Workers, which only work in secure contexts. Check that your page is being served from localhost/over HTTPS");if(!("serviceWorker"in navigator))throw new Error("Pusher Beams does not support this browser version (Service Workers not supported)");if(!("PushManager"in window))throw new Error("Pusher Beams does not support this browser version (Web Push not supported)");if(e){var o=e.scope;if(!window.location.href.startsWith(o))throw new Error("Could not initialize Pusher web push: current page not in serviceWorkerRegistration scope (".concat(o,")"))}this.instanceId=t,this._deviceId=null,this._token=null,this._userId=null,this._serviceWorkerRegistration=e,this._deviceStateStore=new he(t),this._endpoint=a,this._ready=this._init()}var e,t,a,o,i,n,d,s,l,c,u,m,p,b,f,g,h,v,x,_,y,w;return me(r,[{key:"_init",value:(w=le(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._deviceId)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,this._deviceStateStore.connect();case 4:if(this._serviceWorkerRegistration)return e.next=7,window.navigator.serviceWorker.ready;e.next=9;break;case 7:e.next=12;break;case 9:return e.next=11,function(){return De.apply(this,arguments)}();case 11:this._serviceWorkerRegistration=e.sent;case 12:return e.next=14,this._detectSubscriptionChange();case 14:return e.next=16,this._deviceStateStore.getDeviceId();case 16:return this._deviceId=e.sent,e.next=19,this._deviceStateStore.getToken();case 19:return this._token=e.sent,e.next=22,this._deviceStateStore.getUserId();case 22:this._userId=e.sent;case 23:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"_resolveSDKState",value:(y=le(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.next=4,this._detectSubscriptionChange();case 4:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"_detectSubscriptionChange",value:(_=le(M.mark(function e(){var t,a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._deviceStateStore.getToken();case 2:return t=e.sent,e.next=5,this._serviceWorkerRegistration.pushManager.getSubscription().then(function(e){return e?btoa(JSON.stringify(e)):null});case 5:if(a=e.sent,t!==a)return e.next=10,this._deviceStateStore.clear();e.next=13;break;case 10:this._deviceId=null,this._token=null,this._userId=null;case 13:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"getDeviceId",value:(x=le(M.mark(function e(){var t=this;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._deviceId}));case 3:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"getToken",value:(v=le(M.mark(function e(){var t=this;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._token}));case 3:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"getUserId",value:(h=le(M.mark(function e(){var t=this;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return e.abrupt("return",this._ready.then(function(){return t._userId}));case 3:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"_throwIfNotStarted",value:function(e){if(!this._deviceId)throw new Error("".concat(e,". SDK not registered with Beams. Did you call .start?"))}},{key:"start",value:(g=le(M.mark(function e(){var t,a,o;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(Pe()){e.next=4;break}return e.abrupt("return",this);case 4:if(null!==this._deviceId)return e.abrupt("return",this);e.next=6;break;case 6:return e.next=8,this._getPublicKey();case 8:return t=e.sent,t=t.vapidPublicKey,e.next=12,this._getPushToken(t);case 12:return a=e.sent,e.next=15,this._registerDevice(a);case 15:return o=e.sent,e.next=18,this._deviceStateStore.setToken(a);case 18:return e.next=20,this._deviceStateStore.setDeviceId(o);case 20:return e.next=22,this._deviceStateStore.setLastSeenSdkVersion(ve);case 22:return e.next=24,this._deviceStateStore.setLastSeenUserAgent(window.navigator.userAgent);case 24:return this._token=a,this._deviceId=o,e.abrupt("return",this);case 27:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"getRegistrationState",value:(f=le(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if("denied"===Notification.permission)return e.abrupt("return",ye.PERMISSION_DENIED);e.next=4;break;case 4:if("granted"===Notification.permission&&null!==this._deviceId)return e.abrupt("return",ye.PERMISSION_GRANTED_REGISTERED_WITH_BEAMS);e.next=6;break;case 6:if("granted"===Notification.permission&&null===this._deviceId)return e.abrupt("return",ye.PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS);e.next=8;break;case 8:return e.abrupt("return",ye.PERMISSION_PROMPT_REQUIRED);case 9:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"addDeviceInterest",value:(b=le(M.mark(function e(t){var a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not add Device Interest"),Me(t),a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(t)),a={method:"POST",path:a},e.next=8,fe(a);case 8:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"removeDeviceInterest",value:(p=le(M.mark(function e(t){var a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not remove Device Interest"),Me(t),a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(t)),a={method:"DELETE",path:a},e.next=8,fe(a);case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"getDeviceInterests",value:(m=le(M.mark(function e(){var t;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not get Device Interests"),t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),t={method:"GET",path:t},e.next=7,fe(t);case 7:if(e.t0=e.sent.interests,e.t0){e.next=10;break}e.t0=[];case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"setDeviceInterests",value:(u=le(M.mark(function e(t){var a,o,r,i,n,d,s;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(this._throwIfNotStarted("Could not set Device Interests"),null==t)throw new Error("interests argument is required");e.next=5;break;case 5:if(Array.isArray(t)){e.next=7;break}throw new Error("interests argument must be an array");case 7:if(5e3<t.length)throw new Error("Number of interests (".concat(t.length,") exceeds maximum of ").concat(5e3));e.next=9;break;case 9:for(o=!(a=!0),r=void 0,e.prev=12,i=t[Symbol.iterator]();!(a=(n=i.next()).done);a=!0)n=n.value,Me(n);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),o=!0,r=e.t0;case 20:e.prev=20,e.prev=21,a||null==i.return||i.return();case 23:if(e.prev=23,o)throw r;e.next=26;break;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return d=Array.from(new Set(t)),s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),s={method:"PUT",path:s,body:{interests:d}},e.next=33,fe(s);case 33:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])})),function(e){return u.apply(this,arguments)})},{key:"clearDeviceInterests",value:(c=le(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not clear Device Interests"),e.next=5,this.setDeviceInterests([]);case 5:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"setUserId",value:(l=le(M.mark(function e(t,a){var o,r,i;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(Pe()){e.next=4;break}return e.abrupt("return");case 4:if(null===this._deviceId)return r=new Error(".start must be called before .setUserId"),e.abrupt("return",Promise.reject(r));e.next=7;break;case 7:if("string"!=typeof t)throw new Error("User ID must be a string (was ".concat(t,")"));e.next=9;break;case 9:if(""===t)throw new Error("User ID cannot be the empty string");e.next=11;break;case 11:if(null!==this._userId&&this._userId!==t)throw new Error("Changing the `userId` is not allowed.");e.next=13;break;case 13:return o="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/user"),e.next=16,a.fetchToken(t);case 16:return r=e.sent,i=r.token,i={method:"PUT",path:o,headers:{Authorization:"Bearer ".concat(i)}},e.next=21,fe(i);case 21:return this._userId=t,e.abrupt("return",this._deviceStateStore.setUserId(t));case 23:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"stop",value:(s=le(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._resolveSDKState();case 2:if(Pe()){e.next=4;break}return e.abrupt("return");case 4:if(null===this._deviceId)return e.abrupt("return");e.next=6;break;case 6:return e.next=8,this._deleteDevice();case 8:return e.next=10,this._deviceStateStore.clear();case 10:this._clearPushToken().catch(function(){}),this._deviceId=null,this._token=null,this._userId=null;case 14:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"clearAllState",value:(d=le(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.stop();case 4:return e.next=6,this.start();case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"_getPublicKey",value:(n=le(M.mark(function e(){var t;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/web-vapid-public-key"),t={method:"GET",path:t},e.abrupt("return",fe(t));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_getPushToken",value:(i=le(M.mark(function e(o){var r;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._clearPushToken();case 3:return e.next=5,this._serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:(void 0,a=void 0,a="=".repeat((4-(t=o).length%4)%4),t=(t+a).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),Uint8Array.from(de(a).map(function(e){return e.charCodeAt(0)})))});case 5:return r=e.sent,e.abrupt("return",btoa(JSON.stringify(r)));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}var t,a},e,this,[[0,9]])})),function(e){return i.apply(this,arguments)})},{key:"_clearPushToken",value:(o=le(M.mark(function e(){return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){e&&e.unsubscribe()}));case 1:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"_registerDevice",value:(a=le(M.mark(function e(t){var a;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web"),a={method:"POST",path:a,body:{token:t,metadata:{sdkVersion:ve}}},e.next=5,fe(a);case 5:return a=e.sent,e.abrupt("return",a.id);case 7:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"_deleteDevice",value:(t=le(M.mark(function e(){var t;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(encodeURIComponent(this._deviceId)),t={method:"DELETE",path:t},e.next=4,fe(t);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_updateDeviceMetadata",value:(e=le(M.mark(function e(){var t,a,o,r;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.navigator.userAgent,e.next=3,this._deviceStateStore.getLastSeenUserAgent();case 3:return a=e.sent,e.next=6,this._deviceStateStore.getLastSeenSdkVersion();case 6:if(o=e.sent,t===a&&ve===o)return e.abrupt("return");e.next=9;break;case 9:return o="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/metadata"),r={method:"PUT",path:o,body:{sdkVersion:ve}},e.next=14,fe(r);case 14:return e.next=16,this._deviceStateStore.setLastSeenSdkVersion(ve);case 16:return e.next=18,this._deviceStateStore.setLastSeenUserAgent(t);case 18:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_baseURL",get:function(){return null!==this._endpoint?this._endpoint:"https://".concat(this.instanceId,".pushnotifications.pusher.com")}}]),r}(),Me=function(e){if(null==e)throw new Error("Interest name is required");if("string"!=typeof e)throw new Error("Interest ".concat(e," is not a string"));if(!xe.test(e))throw new Error('interest "'.concat(e,'" contains a forbidden character. ')+"Allowed characters are: ASCII upper/lower-case letters, numbers or one of _-=@,.;");if(164<e.length)throw new Error("Interest is longer than the maximum of ".concat(164," chars"))};function De(){return(De=le(M.mark(function e(){var t;return M.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_e);case 2:if(t=e.sent,200!==t.status)throw new Error("Cannot start SDK, service worker missing: No file found at /service-worker.js");e.next=6;break;case 6:return window.navigator.serviceWorker.register(_e,{updateViaCache:"none"}),e.abrupt("return",window.navigator.serviceWorker.ready);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pe(){var e=window.navigator,t=e.vendor,a=null!==window.chrome&&void 0!==window.chrome,o=-1<e.userAgent.indexOf("OPR"),r=-1<e.userAgent.indexOf("Edg"),e=-1<e.userAgent.indexOf("Firefox"),a=a&&"Google Inc."===t&&!r&&!o||o||e||r;return a||console.warn("Pusher Web Push Notifications supports Chrome, Firefox, Edge and Opera."),a}var ke={store:[],notificaciones:[],registraCanal:function(){ke.push({id:_data.id,data:null})},despacharMensajes:function(){0!==ke.notificaciones.length&&ke.notificaciones.map(function(e,t){Ee.setNot(),console.log(e),ke.sendPush({title:"Nueva NOTIFICACION",message:"Es"})})},sendPush:function(e){var t,a;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),t="Metrovirtual: "+e.title,e={icon:"assets/favicon.ico",body:e.message},(a=new Notification(t,e)).onclick=function(){},a.onclose={},setTimeout(function(){a.close()},3e4))},nuevaNotificacion:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=ke.notificaciones;ke.notificaciones=[],t.push(e),setTimeout(function(){ke.notificaciones=t,ke.despacharMensajes()},1e3)},oninit:function(){var e=new we({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});e.start().then(function(){return e.addDeviceInterest("Metrovirtual")}).then(function(){return console.log("Successfully registered and subscribed!")}).catch(console.error)},suscribirCanal:function(e){var t=new we({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});t.start().then(function(){return t.addDeviceInterest(e)}).then(function(){return console.log("Successfully registered and subscribed! + "+e)}).catch(console.error)},view:function(){}},Ee={num:0,message:" tenemos nueva información disponible para ti. Click aquí!.",timestamp:"",setNot:function(){Ee.num=Ee.num+1},suscribirCanal:function(e){return ke.suscribirCanal(e)},view:function(){return[n()(ke),n()("div.dropdown.dropdown-notification",[n()("a.dropdown-link.new-indicator[href=''][data-toggle='dropdown']",[n()("i[data-feather='bell']"),n()("span",{class:0==Ee.num?"d-none":""},Ee.num)]),n()("div.dropdown-menu.dropdown-menu-right",{class:0==Ee.num?"d-none":""},[n()("div.dropdown-header","Notificaciones"),n()("a.dropdown-item",{onclick:function(e){e.preventDefault(),n().route.set("/notificaciones")}},n()("div.media",[n()("div.media-body.mg-l-15",[n()("p",[n()("strong","Metrovirtual "),Ee.message]),n()("span",Ee.timestamp)])])),n()("div.dropdown-footer",n()("a[href='/']","Ver Todo"))])])]}},Te=Ee,Ae=Jn(360),Se={view:function(){return 1==J.rol?"Administrador":2==J.rol?"Coordinador":3==J.rol?"Gestionador":4==J.rol?"Operador":4==J.rol?"Usuario":void 0}},Ce={view:function(){return[Ae("div.navbar-right",[Ae(Te),Ae("div.dropdown.dropdown-profile",[Ae("a.dropdown-link[href=''][data-toggle='dropdown'][data-display='static']",Ae("div.avatar.avatar-sm",Ae("i[data-feather='user']"))),Ae("div.dropdown-menu.dropdown-menu-right.tx-13",[Ae("div.tx-18.tx-semibold.mg-b-0",void 0!==J.user.user?J.user.user.toUpperCase():""),Ae("p.mg-b-25.tx-12.tx-color-03",[Ae(Se)]),Ae(Ae.route.Link,{href:"/",class:"dropdown-item tx-16 "},[Ae("i[data-feather='user']")," Mi Perfil "]),Ae(Ae.route.Link,{href:"/",class:"dropdown-item tx-16 "},[Ae("i[data-feather='help-circle']")," Soporte CONCAS "]),Ae("div.dropdown-divider"),Ae(Ae.route.Link,{href:"/salir",class:"dropdown-item tx-16 "},[Ae("i[data-feather='log-out']"),"Salir"])])])])]}},Ie=Jn(360),Fe={view:function(){var o=B.getDataUser();if(0!==o.length)return[Ie("li.nav-item",Ie(Ie.route.Link,{href:"/inicio",class:"nav-link"},[Ie("i[data-feather='layout']")," Inicio "])),Object.keys(o.modulesAccess).map(function(e,t,a){if(0!==o.modulesAccess[e].length)return"terapia-respiratoria"==e?[Ie("li.nav-item."+(Ne.page===e?"active":""),Ie(Ie.route.Link,{href:"/terapia-respiratoria/pedidos",class:"nav-link"},[Ie("i[data-feather='layout']"),"Terapia Respiratoria"]))]:"bco-sangre"==e?[Ie("li.nav-item."+(Ne.page===e?"active":""),Ie(Ie.route.Link,{href:"/bco-sangre/pedidos",class:"nav-link"},[Ie("i[data-feather='layout']"),"Bco. de Sangre"]))]:"neurofisiologia"==e?[Ie("li.nav-item."+(Ne.page===e?"active":""),Ie(Ie.route.Link,{href:"/neurofisiologia/pedidos",class:"nav-link"},[Ie("i[data-feather='layout']"),"Neurofisiología"]))]:[Ie("li.nav-item."+(Ne.page===e?"active":""),Ie(Ie.route.Link,{href:"/"+e,class:"nav-link"},[Ie("i[data-feather='layout']"),e.charAt(0).toUpperCase()+e.slice(1)]))]})]}},Ne={page:"",setPage:function(e){Ne.page=e},oncreate:function(){Le()},onupdate:function(){Le()},view:function(){return[Ie("header.navbar.navbar-header.navbar-header-fixed",[Ie("a.burger-menu[href=''][id='sidebarMenuOpen']",Ie("i[data-feather='arrow-left']")),Ie("div.navbar-brand",Ie(Ie.route.Link,{href:"/",class:"df-logo"},["Metro",Ie("span","Plus+")])),Ie(".navbar-menu-wrapper[id='navbarMenu']",[Ie("div.navbar-menu-header",[Ie(Ie.route.Link,{href:"/",class:"df-logo"},["Metro",Ie("span","Plus+")]),Ie("a[id='mainMenuClose'][href='']",Ie("i[data-feather='x']"))]),Ie("ul.nav.navbar-menu",[Ie("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),Ie("div.d-lg-none",[Ie(Fe)])])]),Ie(Ce)])]}};function Le(){var t;function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))})}var o=Ne,Re=Jn(360),Oe={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.laboratorio.map(function(e,t,a){return[Re(Re.route.Link,{href:"/"+e.href,class:He.page==e.idModulo?"active":""},[e.label])]})]}},He={page:"",setPage:function(e){He.page=e},view:function(){return[Re(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Re("div.sidebar-header",[Re("a[href=''][id='mainMenuOpen']",Re("i[data-feather='menu']")),Re("h5","Menu"),Re("a[href=''][id='sidebarMenuClose']",Re("i[data-feather='x']"))]),Re("div.sidebar-body",Re("ul.sidebar-nav",[Re("li.nav-label.mg-b-15","Laboratorio"),Re("li.nav-item.show",[Re(Re.route.Link,{href:"/laboratorio",class:"nav-link with-sub"},[Re("i[data-feather='layout']")," Laboratorio "]),Re("nav.nav",[Re(Oe)])])]))])]}},r=He,e=Jn(360),Ye={view:function(){return[e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["MetroPlus"])),e("li.breadcrumb-item.active[aria-current='page']","Laboratorio")]),e("h1.df-title.mg-t-20.mg-b-10","Laboratorio:"),e("div.row.tx-14",[d.isShow("laboratorio",16)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){e.route.set("/laboratorio/flebotomista")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-flask tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Flebotomista"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Flebotomista")])])])]:[],d.isShow("laboratorio",6)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){e.route.set("/laboratorio/formularios")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-file-alt tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Formularios Epidemiológicos"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Formularios Epidemiológicos")])])])]:[],d.isShow("laboratorio",15)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){e.route.set("/laboratorio/notificaciones")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-bell tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Notificaciones de Laboratorio"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Laboratorio")])])])]:[],d.isShow("laboratorio",21)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){e.route.set("/laboratorio/lisa/pedidos/ingresados")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-sitemap tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"LISA"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a LISA v1.0")])])])]:[],d.isShow("laboratorio",28)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){e.route.set("/laboratorio/etiquetas")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-cog tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Configuración de Etiquetas"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuración de Etiquetas")])])])]:[]])]))]}},je={oninit:function(){o.page="",r.page="",d.isAuth()},oncreate:function(){document.title="Laboratorio | "+d.title},view:function(){return[e(o,{oncreate:o.setPage("laboratorio")}),e(r),e(Ye)]}},Ue={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:function(){o.page="",r.page="",Ue.searchField="",Ue.showBusquedas="",Ue.pacientes=[],d.isAuth()},oncreate:function(){document.title="Notificaciones de Laboratorio | "+d.title},view:function(){return[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" LABORATORIO "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Laboratorio")]),n()("h1.df-title.mg-t-20.mg-b-10",["Notificaciones de Laboratorio:"]),n()("div.row.tx-14",[n()("div.col-12.mg-b-10.wd-100p",n()("div.row.mg-t-10",[n()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){n().route.set("/laboratorio/notificaciones/filtros",{})}},[n()("div",{class:"media"},[n()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},n()("i",{class:"fas fa-filter tx-30 tx-white"})),n()("div",{class:"media-body mg-l-15"},[n()("p",{class:"tx-18 mg-b-0"},"Filtros"),n()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Filtros")])])]),n()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){n().route.set("/laboratorio/notificaciones/enviadas",{})}},[n()("div",{class:"media"},[n()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},n()("i",{class:"fas fa-mail-bulk tx-30 tx-white"})),n()("div",{class:"media-body mg-l-15"},[n()("p",{class:"tx-18 mg-b-0"},"Notificaciones Enviadas"),n()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones Enviadas")])])]),n()("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){n().route.set("/laboratorio/notificaciones/error",{})}},[n()("div",{class:"media"},[n()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},n()("i",{class:"fas fa-exclamation-triangle tx-30 tx-white"})),n()("div",{class:"media-body mg-l-15"},[n()("p",{class:"tx-18 mg-b-0"},"Notificaciones con Error"),n()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones con Error")])])]),n()("li.d-none",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){n().route.set("/laboratorio/notificaciones/pendientes",{})}},[n()("div",{class:"media"},[n()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},n()("i",{class:"fas fa-hourglass tx-30 tx-white"})),n()("div",{class:"media-body mg-l-15"},[n()("p",{class:"tx-18 mg-b-0"},"Configuración de Envío"),n()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuración de Envío")])])])])),n()("div.table-loader.col-12.wd-100p",{class:Ue.showProcess},n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.col-12",{class:"d-none"},[n()("label.nav-label.tx-semibold","Búsquedas Recientes:"),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",n()("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),n()("div.section-nav",[])]}},$e=Ue,Be={canal:"",oninit:function(e){void 0!==e.attrs.canal&&(Be.canal=e.attrs.canal)},subscribirCanal:function(e){var t=new we({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});t.start().then(function(){return t.addDeviceInterest(e)}).then(function(){alert("Proceso realizado con éxito. Usuario (Dispositivo) subscrito al canal: "+e),console.log("Successfully registered and subscribed! + "+e)}).catch(console.error)},view:function(){0!==Be.canal.length&&Be.subscribirCanal(Be.canal)}},Ve=Be,Je={data:[],fetch:function(){Je.data=[];for(var e=0;e<ze.dataFiltros.length;e++)ze.dataFiltros[e].id==ze.idFiltro&&(Je.data=ze.dataFiltros[e])},view:function(){return 0!==ze.showBitacora.length&&0!==Je.data.length?[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){ze.showBitacora="",Je.data=[],n().route.set("/laboratorio/notificaciones/filtros",{})}}))),n()("div.mg-b-30",n()("i.tx-40.fas.fa-filter.")),n()("p.mg-5.tx-right",[n()("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:function(){}},n()("i.fas.fa-edit.mg-r-5")," Editar "),n()("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:function(){}},n()("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),n()("h5.tx-inverse.mg-b-10","Filtro: "+Je.data.nombre),0==Je.data.ene?[n()("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[n()("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],null!==Je.data.x_servicio?[n()("h5.tx-inverse.mg-b-10","Por Servicio: "+Je.data.x_servicio)]:[],null!==Je.data.x_origen?[n()("h5.tx-inverse.mg-b-10","Por Origen: "+Je.data.x_origen)]:[],null!==Je.data.x_motivo?[n()("h5.tx-inverse.mg-b-10","Por Motivo: "+Je.data.x_motivo)]:[],null!==Je.data.x_especialidad?[n()("h5.tx-inverse.mg-b-10","Por Especialidad: "+Je.data.x_especialidad)]:[],null!==Je.data.x_medico?[n()("h5.tx-inverse.mg-b-10","Por Médico: "+Je.data.x_medico)]:[],null!==Je.data.x_idprueba?[n()("h5.tx-inverse.mg-b-10","Por Id Prueba: "+Je.data.x_idprueba)]:[]])]:0!==ze.showBitacora.length?[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]:void 0}},ze={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=reglas"}).then(function(e){var t;ze.dataFiltros=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-filtroslab").DataTable({data:ze.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,columns:[{title:"N°:"},{title:"REGLA:"},{title:"TIPO:"},{title:"FECHA:"},{title:"SERVICIO:"},{title:"ORIGEN:"},{title:"MOTIVO:"},{title:"ESPECIALIDAD:"},{title:"MÉDICO:"},{title:"ID PRUEBA:"},{title:"QR:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.nombreFiltro},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return 0==a.eNe?" NO ENVIAR ":" ENVIAR "},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return moment.utc(moment()).format("DD-MM-YYYY")},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.xServicio},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.xOrigen},visible:!0,aTargets:[5]},{mRender:function(e,t,a){return a.xMotivo},visible:!0,aTargets:[6]},{mRender:function(e,t,a){return a.xMedico},visible:!0,aTargets:[7]},{mRender:function(e,t,a){return a.x_medico},visible:!0,aTargets:[8]},{mRender:function(e,t,a){return a.xIdPrueba},visible:!0,aTargets:[9]},{mRender:function(e,t,a){return a.xQR},visible:!0,aTargets:[10]}],fnRowCallback:function(e,t,a,o){$(e).attr("id",t.id),0==t.eNe?$(e).addClass("tx-danger"):$(e).addClass("tx-primary"),$(e).css("cursor","pointer"),$(e).addClass("verRegla")},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),$(".verRegla").click(function(e){e.preventDefault();ze.showBitacora="d-none",n().route.set("/laboratorio/notificaciones/filtros/",{idFiltro:this.id})})}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()})}).catch(function(e){})},oninit:function(e){o.page="",r.page="",ze.dataPendientesAlta=[],ze.dataCamaTotales=[],ze.camasTotales=0,ze.pendienteAlta=0,d.isAuth("laboratorio",15)},oncreate:function(e){document.title="Reglas Filtros | "+d.title,ze.fetch()},view:function(e){return void 0!==e.attrs&&void 0!==e.attrs.idFiltro?(ze.idFiltro=e.attrs.idFiltro,ze.showBitacora="d-none",Je.fetch(),console.log(Je.data)):(ze.idFiltro="",ze.showBitacora=""),[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",{style:{"margin-right":"0px"}},n()("div.container",{style:{"max-width":"none"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Reglas Filtros:")]),n()("h1.df-title.mg-t-20.mg-b-10","Reglas Filtros:"),n()("div.row.animated.fadeInUp",{class:ze.showBitacora},[n()("div.col-12",[n()("p.mg-b-20.tx-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2[type='button']",{onclick:function(){}},n()("i.fas.fa-plus.mg-r-5")," Nueva Regla ")]),n()("div.filemgr-content-header.",[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),n()("div.mg-t-50.table-loader.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20..mg-t-40",[n()("table.table.table-sm.tx-12[id='table-filtroslab'][width='100%']")])])]),n()(Je)]))]}};var qe=ze;var Xe={oncreate:function(){a.loadNotificacionesEnviadasLab(),0!==a.searchField.length&&$("#table-NotificacionesEnviadasLab").DataTable().search(a.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Notificaciones Enviadas:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==a.idFiltro&&(e.dom.innerHTML="Notificaciones Enviadas de Hoy"),2==a.idFiltro&&(e.dom.innerHTML="Notificaciones Enviadas entre Fechas")},onupdate:function(e){1==a.idFiltro&&(e.dom.innerHTML="Notificaciones Enviadas de Hoy"),2==a.idFiltro&&(e.dom.innerHTML="Notificaciones Enviadas entre Fechas")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==a.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==a.idFiltro?moment(moment(a.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){a.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),a.loader=!0,a.NotificacionesEnviadasLab=[],a.fetchNotificacionesEnviadasLab(),n().route.set("/imagen/NotificacionesEnviadasLab?idFiltro="+a.idFiltro+"&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==a.idFiltro?moment(moment(a.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){a.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),a.loader=!0,a.NotificacionesEnviadasLab=[],a.fetchNotificacionesEnviadasLab(),n().route.set("/imagen/NotificacionesEnviadasLab?idFiltro="+a.idFiltro+"&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=1"},["Notificaciones de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=2&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta},["Notificaciones entre Fechas"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==a.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){a.searchField=e.target.value},value:a.searchField}))]),n()("table.table.table-sm.tx-11[id='table-NotificacionesEnviadasLab'][width='100%']")])])])}},a={notificaciones:[],NotificacionesEnviadasLab:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){r.page="",0==a.NotificacionesEnviadasLab.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),a.fechaDesde=moment().subtract(2,"days").format("DD-MM-YYYY"),a.fechaHasta=moment().format("DD-MM-YYYY"),a.loader=!0,a.NotificacionesEnviadasLab=[],a.fetchNotificacionesEnviadasLab())},oncreate:function(e){Te.suscribirCanal("MetroPlus-NotificacionesEnviadasLab")},loadNotificacionesEnviadasLab:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesEnviadasLab").DataTable({data:a.NotificacionesEnviadasLab,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Pedido N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.wd-5p",{class:"bg-primary",title:t.origen},[n()("span.badge.badge-pill.badge-primary.mg-b-1","R")]),n()("td.wd-15p",n()(".d-inline.mg-r-5",t.fechaExamen+" "+t.horaExamen)),n()("td.tx-center",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.sc)),n()("td",{style:{}},[n()(".d-inline.mg-r-5.tx-uppercase",t.origen),n()("br"),"PTE: "+t.apellidosPaciente+" "+t.nombresPaciente]),n()("td","MED: "+t.medico),n()("td.tx-center.tx-15",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},n()(n().route.Link,{href:t.urlfile,class:"tx-dark",target:"_blank"},[" Ver Log "]))]}})},drawCallback:function(e){a.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchNotificacionesEnviadasLab:function(){var e="",e=1==a.idFiltro?"&idFiltro="+a.idFiltro:"&idFiltro="+a.idFiltro+"&fechaDesde="+a.fechaDesde+"&fechaHasta="+a.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=enviadas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){a.loader=!1,a.NotificacionesEnviadasLab=e.data}).catch(function(e){setTimeout(function(){a.fetchNotificacionesEnviadasLab()},2e3)})},reloadData:function(){var e=$("#table-NotificacionesEnviadasLab").DataTable();e.clear(),e.rows.add(a.NotificacionesEnviadasLab).draw()},view:function(e){return a.loader?[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==a.error.length?[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:a.loader||0===a.NotificacionesEnviadasLab.length?a.loader||0!=a.NotificacionesEnviadasLab.length?[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),n()(Xe)]))]}},Ge=a;var Ze={showFilter:!0,showSearch:!0,show:!1,increment:function(e){0==i.searchField.length&&(e.seconds--,0==e.seconds&&window.location.reload(),n().redraw())},start:function(e){e.interval=setInterval(Ze.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=30},toggle:function(e){e.isPaused?Ze.start(e):Ze.stop(e),e.isPaused=!e.isPaused}};function Ke(){var t={interval:null,seconds:30,isPaused:!1};return Ze.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Ze.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Ze.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Ze.stop(t)}}}var We={oncreate:function(){4==i.idFiltro?i.loadFlebotomistaCE():i.loadFlebotomista(),0!==i.searchField.length&&$("#table-flebotomista").DataTable().search(i.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","LISA:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==i.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==i.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==i.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización"),4==i.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa")},onupdate:function(e){1==i.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==i.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==i.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización"),4==i.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==i.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==i.idFiltro?moment(moment(i.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){i.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),i.loader=!0,i.pedidos=[],i.fetchPedidos(),n().route.set("/laboratorio/flebotomista?idFiltro="+i.idFiltro+"&fechaDesde="+i.fechaDesde+"&fechaHasta="+i.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==i.idFiltro?moment(moment(i.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){i.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),i.loader=!0,i.pedidos=[],i.fetchPedidos(),n().route.set("/laboratorio/flebotomista?idFiltro="+i.idFiltro+"&fechaDesde="+i.fechaDesde+"&fechaHasta="+i.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=2&fechaDesde="+i.fechaDesde+"&fechaHasta="+i.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=3&fechaDesde="+i.fechaDesde+"&fechaHasta="+i.fechaHasta},["Pedidos de Hospitalización"]),n()(n().route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=4&fechaDesde="+i.fechaDesde+"&fechaHasta="+i.fechaHasta},["Pedidos de C. Externa"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==i.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){i.searchField=e.target.value},value:i.searchField}))]),n()("table.table.table-sm.tx-11[id='table-flebotomista'][width='100%']")])])])}},i={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){r.page="",0==i.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),i.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),i.fechaHasta=moment().format("DD-MM-YYYY"),i.loader=!0,i.pedidos=[],i.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-LisaPedidos")},loadFlebotomista:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-flebotomista").DataTable({data:i.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td",{class:"R"==t.tipoPedido?"bg-primary":"bg-danger"},["R"==t.tipoPedido?n()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):n()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),n()("td",{style:{}},t.fechaPedido),n()("td",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.codigoPedido)),n()("td",{style:{}},[n()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),n()("br"),t.paciente]),n()("td",{style:{}},t.descPrestadorSolicitante),"I"==t.tipoOperacion?[n()("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":0==t.muestrasProcesadas?"#ffc107":"#0d9448"}},0==t.muestrasProcesadas?"Muestras Pendientes":"Muestras Completo")]:[""],n()("td.tx-center",{onclick:function(){n().route.set("/laboratorio/flebotomista/pedido/",{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]}})},drawCallback:function(e){i.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},loadFlebotomistaCE:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-flebotomista").DataTable({data:i.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1,width:"60%"},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1,width:"5%"},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1,width:"5%"}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td",{class:"R"==t.tipoPedido?"bg-primary":"bg-danger"},["R"==t.tipoPedido?n()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):n()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),n()("td",{style:{}},t.fechaPedido),n()("td",{style:{}},n()("span.tx-semibold.tx-dark.tx-18.wd-100p.mg-b-1",t.codigoPedido)),n()("td",{style:{}},[n()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),n()("br"),n()(".d-inline.tx-18.tx-semibold",{},"PTE: "+t.paciente),n()("br"),n()(".d-inline",{},"MED: "+t.descPrestadorSolicitante)]),"I"==t.tipoOperacion?[n()("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":0==t.muestrasProcesadas?"#ffc107":"#0d9448"}},0==t.muestrasProcesadas?"Muestras Pendientes":"Muestras Completo")]:[""],n()("td.tx-center",{style:{cursor:"pointer"}},[n()("br"),n()(n().route.Link,{class:"pd-10 tx-semibold d-inline tx-18",href:"/laboratorio/flebotomista/pedido/",target:"_blank",params:{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"}},[" Ver "])])]}})},drawCallback:function(e){i.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==i.idFiltro?"?type=ingresadasFlebotomia&idFiltro="+i.idFiltro:"?type=ingresadasFlebotomia&idFiltro="+i.idFiltro+"&fechaDesde="+i.fechaDesde+"&fechaHasta="+i.fechaHasta;n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){i.loader=!1,i.pedidos=e.data}).catch(function(e){setTimeout(function(){i.fetchPedidos()},2e3)})},reproesarMensajeXML:function(e,t){i.loader=!0,n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-flebotomista").DataTable();e.clear(),e.rows.add(i.pedidos).draw()},view:function(e){return i.loader?[n()(r,{oncreate:r.setPage(16)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==i.error.length?[n()(r,{oncreate:r.setPage(16)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:i.loader||0===i.pedidos.length?i.loader||0!=i.pedidos.length?[n()(r,{oncreate:r.setPage(16)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(r,{oncreate:r.setPage(16)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(r,{oncreate:r.setPage(16)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()(We)])),n()("div.section-nav",[n()("label.nav-label","Pedidos Ingresados"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",i.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(Ke)))])]}},Qe=i;var et={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(et.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?et.start(e):et.stop(e),e.isPaused=!e.isPaused}};function tt(){var t={interval:null,seconds:100,isPaused:!1};return et.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){et.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){et.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){et.stop(t)}}}var at={oncreate:function(){s.loadPedidosIngresados(),0!==s.searchField.length&&$("#table-pedidosIngresados").DataTable().search(s.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","LISA:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==s.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==s.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==s.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==s.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa ")},onupdate:function(e){1==s.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==s.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==s.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==s.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa ")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==s.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==s.idFiltro?moment(moment(s.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){s.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),s.loader=!0,s.pedidos=[],s.fetchPedidosIngresados(),n().route.set("/laboratorio/lisa/pedidos/ingresados?idFiltro="+s.idFiltro+"&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==s.idFiltro?moment(moment(s.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){s.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),s.loader=!0,s.pedidos=[],s.fetchPedidosIngresados(),n().route.set("/laboratorio/lisa/pedidos/ingresados?idFiltro="+s.idFiltro+"&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=2&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=3&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta},["Pedidos de Hospitalización"]),n()(n().route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=4&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta},["Pedidos de C. Externa"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==s.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){s.searchField=e.target.value},value:s.searchField}))]),n()("table.table.table-sm.tx-11[id='table-pedidosIngresados'][width='100%']")])])])}},s={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",pCancelados:0,pIngreados:0,pPendientes:0,pProcesados:0,oninit:function(e){r.page="",0==s.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),s.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),s.fechaHasta=moment().format("DD-MM-YYYY"),s.loader=!0,s.pedidos=[],s.fetchPedidosIngresados())},oncreate:function(e){Te.suscribirCanal("MetroPlus-LisaPedidos")},loadPedidosIngresados:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidosIngresados").DataTable({data:s.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Toma de Muestra: "},{title:"SC:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td",{class:"R"==t.tipoPedido?"bg-primary":"bg-danger"},["R"==t.tipoPedido?n()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):n()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),n()("td",{style:{}},t.fechaPedido),n()("td",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.codigoPedido)),n()("td",{style:{}},[n()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.sector?"tx-danger":"tx-primary"},t.sector),n()("br"),t.paciente]),n()("td",{style:{}},t.descPrestadorSolicitante),"I"==t.tipoOperacion?n()("td.tx-white.tx-semibold.tx-center",{title:0==t.enviadoInfinity?" Retenido ":" Enviado ",style:{"background-color":0==t.enviadoInfinity?"#fd7e14":"#00cccc"}},0==t.enviadoInfinity?"Retenido":"Enviado"):n()("td.tx-white.tx-semibold.bg-danger.tx-center",{title:0==t.enviadoInfinity?" Cancelado ":" Cancelado Enviado "},0==t.enviadoInfinity?"Cancelado":"Cancelado Enviado"),"I"==t.tipoOperacion?[n()("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":0==t.muestrasProcesadas?"#ffc107":"#0d9448"}},0==t.muestrasProcesadas?"Muestras Pendientes":"Muestras Completo")]:[""],"E"==t.tipoOperacion||"A"==t.tipoOperacion?[n()("td.tx-center",{onclick:function(){1==confirm("Esta Ud. seguro de generar este envío.")&&s.reproesarMensajeXML(Number(t.codigoPedido),t.idTimeRecord)},title:0==t.enviadoInfinity?" Enviar ":" Reenviar ",style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},n()("i.fas.fa-file-upload.mg-r-5"),0==t.enviadoInfinity?" Enviar ":" Reenviar ")]:[""],n()("td.tx-center",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[n()(n().route.Link,{class:"tx-dark pd-2",href:"/laboratorio/lisa/pedido/",target:"_blank",params:{numeroHistoriaClinica:t.numeroHistoriaClinica,numeroAtencion:t.at_mv,numeroPedido:t.codigoPedido,idTimeRecord:t.idTimeRecord,track:"view"}},"Ver Pedido")])]}})},drawCallback:function(e){s.loader=!1,s.pProcesados=0,s.pPendientes=0,s.pIngreados=0,s.pCancelados=0,e.aoData.map(function(e,t){"I"==e._aData.tipoOperacion&&(s.pIngreados++,0==e._aData.muestrasProcesadas&&s.pPendientes++,1==e._aData.muestrasProcesadas&&s.pProcesados++),"E"!=e._aData.tipoOperacion&&"A"!=e._aData.tipoOperacion||s.pCancelados++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidosIngresados:function(){var e="",e=1==s.idFiltro?"?type=ingresadas&idFiltro="+s.idFiltro:"?type=ingresadas&idFiltro="+s.idFiltro+"&fechaDesde="+s.fechaDesde+"&fechaHasta="+s.fechaHasta;n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){s.loader=!1,s.pedidos=e.data}).catch(function(e){setTimeout(function(){s.fetchPedidosIngresados()},2e3)})},reproesarMensajeXML:function(e,t){s.loader=!0,n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-pedidosIngresados").DataTable();e.clear(),e.rows.add(s.pedidos).draw()},view:function(e){return s.loader?[n()(r,{oncreate:r.setPage(21)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==s.error.length?[n()(r,{oncreate:r.setPage(21)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:s.loader||0===s.pedidos.length?s.loader||0!=s.pedidos.length?[n()(r,{oncreate:r.setPage(21)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(r,{oncreate:r.setPage(21)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(r,{oncreate:r.setPage(21)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()(at)])),n()("div.section-nav",[n()("label.nav-label","Pedidos Ingresados"),n()("div.mg-t-10.bg-white",n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",s.pIngreados-s.pCancelados),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Pedidos Cancelados:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",s.pCancelados),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Pedidos Pendientes:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",s.pPendientes),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])]),n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Pedidos Procesados:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",s.pProcesados),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(tt)))])]}},ot=s;function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var it={secs:[],nombres:"",show:!1,view:function(){var o="",r="",i="";return 0==nt.num&&setTimeout(function(){nt.num=nt.data.length,nt.parseFetch(),n().redraw.sync()},2e3),0==it.secs.length?[n()("div.pd-10.wd-100p",n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+nt.data.length+" formulario(s) encontrado(s)..."}}),n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]:[it.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(r=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(i="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=nt.data.length+" formulario(s) encontrado(s)."}}),n()("table.table.table-bordered.wd-100p",{style:{zoom:nt.zoom}},[n()("thead",[n()("tr",n()("th[colspan='12'][scope='col']",[n()("i.tx-light.fas.fa-file-alt.mg-r-2."),n()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),n()("tr",[n()("th[colspan='10'][scope='col']",n()("div.m-0.p-0",n()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),n()("th.tx-right[colspan='2'][scope='col']",n()("a.tx-right.tx-semibold",{href:i,target:"_blank"},n()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),n()("tbody",[n()("tr",[n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ESTABLECIMIENTO")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NOMBRE")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","APELLIDO")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","SEXO (M-F)")),n()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NHCL.")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ADM."))]),n()("tr",[n()("th.text-center[colspan='3'][scope='row']",n()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",it.nombres)),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",it.apellidos_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",it.sexo)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",it.nhcl)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",it.numero_admision))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","EDAD")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),n()("tr",[n()("td.text-center[colspan='1'][scope='row']",n()("div.m-0.p-0.text-center",it.edad||it.edad_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",it.identificacion)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",it.fecha_admision)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",it.fecha_admision)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",it.ubicacion)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",it.medico_tratante))]),n()("tr",[n()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),n()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",n()("br"),"CADA PRESCRIPCIÓN"]))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FECHA",n()("br"),"día/mes/año"])),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","HORA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",n()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),n()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",n()("br"),"FÁRMACOS INSUMOS"]))]),n()("tr",[n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?n().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.text-justify",null!==r&&0!==r.length?n().trust(r.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},nt={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){it.secs.push(o.data[e])}),it.secs.map(function(e,t,a){"nombres"==e.name&&(it.nombres=e.answer),"apellidos_paciente"==e.name&&(it.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(it.sexo=e.answer),"nhcl"==e.name&&(it.nhcl=e.answer),"numero_admision"==e.name&&(it.numero_admision=e.answer),"edad"==e.name&&(it.edad=e.answer),"edad_paciente"==e.name&&(it.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(it.identificacion=e.answer),"fecha_admision"==e.name&&(it.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(it.ubicacion=e.answer),"fecha_alta"==e.name&&(it.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(it.medico_tratante=e.answer)})},parseFetch:function(){return it.secs=[],nt.data.map(function(e,t,a){nt.parseDoc(nt.data[t])})},fetch:function(){nt.data=[],nt.error="",n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+nt.nhc+"&adm="+nt.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(nt.data=e,nt.num=0,n().redraw()):nt.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){nt.fetch()},5e3)})},view:function(){return nt.error?[n()(".alert.alert-danger[role='alert']",nt.error)]:0!==nt.data.length?[n()(it)]:[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},dt={data:[],detalle:[],error:"",showFor:"",fetch:function(){dt.data=[],dt.error="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:m.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(dt.data=e.data,nt.adm=dt.data[0].ADM,nt.nhc=dt.data[0].NHCL,nt.fetch()):dt.error=e.message}).catch(function(e){setTimeout(function(){dt.fetch()},5e3)})},view:function(){return dt.error?[n()(".alert.alert-danger[role='alert']",dt.error)]:0!==dt.data.length?[n()(nt)]:[n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},st={data:null,medico:null,fetch:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/itemslab/"+m.numeroPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){st.data=e.examenes,st.medico=e.medico}).catch(function(e){})},oninit:function(){st.fetch()},view:function(){return 0!==m.examenes&&null!==st.data?(null==m.examenes.Exame.length&&(m.examenes.Exame=[m.examenes.Exame]),m.examenes.Exame.map(function(e,t,a){return console.log(st.data[e.codigoExame]),"E"==e.operacao?[n()(".tx-14.tx-semibold.tx-danger.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),void 0!==st.data[e.codigoExame]&&null!==st.data[e.codigoExame].OBS_EXAMEN?[n()("br"),n()(".d-inline.tx-danger","Observaciones:"),n()("br"),n()(".d-inline",st.data[e.codigoExame].OBS_EXAMEN),n()("br")]:n()("br")]:[n()(".tx-14.tx-semibold.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),void 0!==st.data[e.codigoExame]&&null!==st.data[e.codigoExame].OBS_EXAMEN?[n()("br"),n()(".d-inline.tx-danger","Observaciones:"),n()("br"),n()(".d-inline",st.data[e.codigoExame].OBS_EXAMEN),n()("br")]:n()("br")]})):[n()("div.pd-10",[n()("div.placeholder-paragraph",[n()("div.line")])])]}},l={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:function(){l.error="",l.data=[],l.documento=[],n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:m.numeroPedido,idTimeRecord:m.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(m.loader=!1,m.data=e.data.pedido,m.examenes=e.data.pedido.PedidoExameLab.listaExame,l.documento=e.data,l.data=e.data.dataTomaMuestra.examenesToma,l.dataMuestras=e.data.dataRecepcion.examenesRecep,ut.impresora=m.data.PedidoExameLab.atendimento.nomeMaquina,dt.fetch(),lt.fetch()):m.error=e.message}).catch(function(e){})}},c={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},lt={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:lt.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[0],{view:function(){return e._aData.title,n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),n()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(lt.data).draw()},fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+m.numeroPedido}).then(function(e){lt.data=e.data,lt.loadObservaciones()}).catch(function(e){})},sendNotiLab:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+m.numeroPedido,body:{message:lt.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(lt.observaciones="",lt.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){EditarPedido.error=e.message})}},ct={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,seleccionarTodos:function(o){ct.checkedAll=o;var r=moment().format("DD-MM-YYYY HH:mm");return l.data.map(function(e,t,a){o?(l.data[t].STATUS_TOMA="1",l.data[t].FECHA_TOMA=r,l.data[t].customCheked=!0):(l.data[t].STATUS_TOMA="",l.data[t].FECHA_TOMA="",l.data[t].customCheked=!1)})},validarUpdateMuestras:function(){for(var e=0,t=0;t<l.data.length;t++)0!==l.data[t].STATUS_TOMA.length&&e++;if(0==e)throw alert("El regisro de Recepción de (Muestra) e Insumos en necesario."),"El regisro de Recepción de (Muestra) e Insumos en necesario.";var a=0;if(0!==c.tuboLila&&a++,0!==c.tuboRojo&&a++,0!==c.tuboCeleste&&a++,0!==c.tuboNegro&&a++,0!==c.tuboVerde&&a++,0!==c.gsav&&a++,0!==c.hemocultivo&&a++,0!==c.qtb&&a++,0===a)throw console.log(a),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:function(){l.documento.dataTomaMuestra.insumosToma=c,n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(l.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){l.documento=e.data,l.data=e.data.dataTomaMuestra.examenesToma}).catch(function(e){})},view:function(){return l.error?[n()("p.mg-0",l.error)]:0!==l.data.length?[n()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[ct.disabledToma?[n()("p.mg-5.tx-right",[n()("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:function(){ct.disabledToma=!1,ct.disabledInsumos=!1}},n()("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],n()(".",{style:{"pointer-events":ct.disabledToma?"none":"auto"}},[n()("div.table-responsive.mg-b-10.mg-t-10",n()("table.table.table-dashboard.table-hover.mg-b-0",[n()("thead",n()("tr",[n()("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),n()("tr",[n()("th.text-left","EXAMEN"),n()("th","CONFIRMACIÓN")])),n()("tbody",[n()("tr",[n()("td.tx-normal",n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:ct.checkedAll,onclick:function(e){ct.seleccionarTodos(this.checked)}}),n()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),n()("td.tx-medium.text-right")]),l.data.map(function(e,t,a){return[n()("tr",[n()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.custom-control-input.tx-16[type='checkbox'][id='"+e.CD_EXA_LAB+"']",{checked:l.data[t].customCheked,onupdate:function(e){this.checked=l.data[t].customCheked},onclick:function(e){e.preventDefault();e=this.checked;l.data[t].customCheked=!l.data[t].customCheked,e?(this.checked=!0,l.data[t].STATUS_TOMA="1",l.data[t].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,ct.checkedAll=!1,l.data[t].STATUS_TOMA="",l.data[t].FECHA_TOMA="")}}),n()("label.custom-control-label.tx-16[for='"+e.CD_EXA_LAB+"']",0!==l.data[t].STATUS_TOMA.length?l.data[t].FECHA_TOMA:l.data[t].STATUS_TOMA)]))])]})])])),n()("div.table-responsive.mg-b-10.mg-t-10",n()("table.table.table-dashboard.table-hover.mg-b-0",[n()("thead",n()("tr",[n()("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),n()("tr",[n()("th.text-left","INSUMOS"),n()("th.text-left","CANTIDAD")])),n()("tbody",[n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:function(e){e.target.checked?c.tuboLila=1:c.tuboLila=0},oncreate:function(e){void 0!==c.tuboLila&&0!==c.tuboLila&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboLila&&0!==c.tuboLila?1==c.tuboLila&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboLila&&0!==c.tuboLila?e.dom.innerText=c.tuboLila:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboLila&&0!==c.tuboLila?e.dom.innerText=c.tuboLila:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboLila++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboLila--,c.tuboLila<0&&(c.tuboLila=0)}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:function(e){e.target.checked?c.tuboRojo=1:c.tuboRojo=0},oncreate:function(e){void 0!==c.tuboRojo&&0!==c.tuboRojo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboRojo&&0!==c.tuboRojo?1==c.tuboRojo&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboRojo&&0!==c.tuboRojo?e.dom.innerText=c.tuboRojo:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboRojo&&0!==c.tuboRojo?e.dom.innerText=c.tuboRojo:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboRojo++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboRojo--,c.tuboRojo<0&&(c.tuboRojo=0)}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:function(e){e.target.checked?c.tuboCeleste=1:c.tuboCeleste=0},oncreate:function(e){void 0!==c.tuboCeleste&&0!==c.tuboCeleste&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboCeleste&&0!==c.tuboCeleste?1==c.tuboCeleste&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboCeleste&&0!==c.tuboCeleste?e.dom.innerText=c.tuboCeleste:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboCeleste&&0!==c.tuboCeleste?e.dom.innerText=c.tuboCeleste:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboCeleste++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboCeleste--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:function(e){e.target.checked?c.tuboNegro=1:c.tuboNegro=0},oncreate:function(e){void 0!==c.tuboNegro&&0!==c.tuboNegro&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboNegro&&0!==c.tuboNegro?1==c.tuboNegro&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboNegro&&0!==c.tuboNegro?e.dom.innerText=c.tuboNegro:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboNegro&&0!==c.tuboNegro?e.dom.innerText=c.tuboNegro:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboNegro++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboNegro--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:function(e){e.target.checked?c.tuboVerde=1:c.tuboVerde=0},oncreate:function(e){void 0!==c.tuboVerde&&0!==c.tuboVerde&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.tuboVerde&&0!==c.tuboVerde?1==c.tuboVerde&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.tuboVerde&&0!==c.tuboVerde?e.dom.innerText=c.tuboVerde:e.dom.innerText=0},onupdate:function(e){void 0!==c.tuboVerde&&0!==c.tuboVerde?e.dom.innerText=c.tuboVerde:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboVerde++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){c.tuboVerde--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:function(e){e.target.checked?c.gsav=1:c.gsav=0},oncreate:function(e){void 0!==c.gsav&&0!==c.gsav&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.gsav&&0!==c.gsav?1==c.gsav&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.gsav&&0!==c.gsav?e.dom.innerText=c.gsav:e.dom.innerText=0},onupdate:function(e){void 0!==c.gsav&&0!==c.gsav?e.dom.innerText=c.gsav:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){c.gsav++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){c.gsav--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:function(e){e.target.checked?c.hemocultivo=1:c.hemocultivo=0},oncreate:function(e){void 0!==c.hemocultivo&&0!==c.hemocultivo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.hemocultivo&&0!==c.hemocultivo?1==c.hemocultivo&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.hemocultivo&&0!==c.hemocultivo?e.dom.innerText=c.hemocultivo:e.dom.innerText=0},onupdate:function(e){void 0!==c.hemocultivo&&0!==c.hemocultivo?e.dom.innerText=c.hemocultivo:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){c.hemocultivo++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){c.hemocultivo--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:function(e){e.target.checked?c.qtb=1:c.qtb=0},oncreate:function(e){void 0!==c.qtb&&0!==c.qtb&&(e.dom.checked=!0)},onupdate:function(e){void 0!==c.qtb&&0!==c.qtb?1==c.qtb&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==c.qtb&&0!==c.qtb?e.dom.innerText=c.qtb:e.dom.innerText=0},onupdate:function(e){void 0!==c.qtb&&0!==c.qtb?e.dom.innerText=c.qtb:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){c.qtb++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){c.qtb--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),ct.disabledToma?[n()("p.mg-5.",[n()("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+l.documento.pedidoLaboratorio.dataTomaMuestra.fechaToma)])]:[n()("div.pd-10",[n()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:ct.disabledToma,onclick:function(){ct.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");l.documento.dataTomaMuestra.usuarioToma="flebot1",l.documento.dataTomaMuestra.fechaToma=e,ct.disabledToma=!0,ct.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]}},u={showLogs:"",dataXML:"",nuevoPedido:!1,logsEnvio:[],examenes:[],jsonObj:null,vaTime:null,xmlRes:null,setNuevoPedido:function(){u.nuevoPedido=!0},agregarExamen:function(o){var r=!1;u.examenes.map(function(e,t,a){u.examenes[t].codigoExame==o.CD_EXA_LAB&&(r=!0)}),r||m.examenes.Exame.map(function(e,t,a){m.examenes.Exame[t].codigoExame==o.CD_EXA_LAB&&u.examenes.push(m.examenes.Exame[t])}),console.log(u.examenes)},eliminarExamen:function(o){var r=!1,i=null;u.examenes.map(function(e,t,a){u.examenes[t].codigoExame==o.CD_EXA_LAB&&(r=!0,i=t)}),r&&(u.examenes.splice(i,1),console.log(u.examenes))},generarXML:function(){u.jsonObj={Exame:u.examenes},u.vaTime=moment().format("YYYY-MM-DD HH:mm:ss"),m.data.Cabecalho.mensagemID=moment().unix(),m.data.Cabecalho.dataHora=u.vaTime,m.data.PedidoExameLab.listaExame=u.jsonObj,m.data.PedidoExameLab.operacao="I",0!==ut.impresora.length&&(console.log("RecepMuestras",ut.impresora),m.data.PedidoExameLab.atendimento.nomeMaquina=ut.impresora),null!==st.medico&&!1!==st.medico&&(m.data.PedidoExameLab.atendimento.prestadorSolicitante=st.medico.CODMEDICO,m.data.PedidoExameLab.atendimento.descPrestadorSolicitante=st.medico.PRESTADOR,m.data.PedidoExameLab.atendimento.numeroConselhoSolicitante=st.medico.CEDULA),u.xmlRes=function e(t){var a="";for(var o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(var r in t[o])a=(a=(a+="\n<"+o+">\n")+e(new Object(t[o][r])))+"</"+o+">";else"object"==rt(t[o])?a+=e(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+">\n"}a=a.replace(/<\/?[0-9]{1,}>/g,"");return a}(m.data),console.log("documento",m.data),u.nuevoPedido?u.sendNuevoPedido(u.xmlRes,m.numeroPedido,u.vaTime):u.sendXML(u.xmlRes,m.numeroPedido,u.vaTime)},sendNuevoPedido:function(e,t,a){n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-nuevo-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3),console.log("result",e)}).catch(function(e){})},sendXML:function(e,t,a){console.log("xmlRes",e),n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3)}).catch(function(e){})},oninit:function(){u.examenes=[],u.showLogs="",u.dataXML=[],u.nuevoPedido=!1,u.logsEnvio=[],u.examenes=[],u.jsonObj=null,u.vaTime=null,u.xmlRes=null,ut.disabledToma=!1,n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+m.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(e){e.data.map(function(e,t,a){void 0!==e.PedidoExameLab.listaExame.Exame&&u.logsEnvio.push(e)}),console.log(u.logsEnvio),0!==Object.keys(u.logsEnvio).length&&(ut.disabledToma=!0)}).catch(function(e){})},view:function(){return 0!==u.logsEnvio.length?u.logsEnvio.map(function(o,e,t){return[n()("tr",{oncreate:function(){e+1===t.length&&(ut.impresora=o.PedidoExameLab.atendimento.nomeMaquina)}},[n()("td.tx-16.tx-normal.text-left",void 0!==o.PedidoExameLab.listaExame.Exame&&void 0!==o.PedidoExameLab.listaExame.Exame.length?[88e6<o.PedidoExameLab.codigoPedido?[o.PedidoExameLab.listaExame.Exame.map(function(e,t,a){return ut.examenNuevoPedido(e,o.PedidoExameLab,o.Cabecalho),[n()(".d-inline",e.descExame),n()("br")]})]:[o.PedidoExameLab.listaExame.Exame.map(function(e,t,a){return[n()(".d-inline",e.descExame),n()("br")]})]]:[88e6<o.PedidoExameLab.codigoPedido?[ut.examenNuevoPedido(o.PedidoExameLab.listaExame.Exame,o.PedidoExameLab,o.Cabecalho),n()(".d-inline",o.PedidoExameLab.listaExame.Exame.descExame),n()("br")]:[n()(".d-inline",o.PedidoExameLab.listaExame.Exame.descExame),n()("br")]]),n()("td.tx-16.tx-normal","TIPO: "+o.PedidoExameLab.operacao,n()("br"),n()(".d-inline.tx-danger.tx-semibold","SC: "+o.PedidoExameLab.codigoPedido),n()("br"),o.Cabecalho.dataHora),n()("td.tx-16.tx-normal.d-none",[88e6<o.PedidoExameLab.codigoPedido?[n()("button.btn.btn-xs.btn-block.wd-50p.btn-danger.d-none",{onclick:function(){}}," Eliminar ")]:[]])])]}):[n()("tr",[n()("td.tx-16.tx-medium.text-left","No existe envíos.")])]}},ut={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,impresora:"",examenNuevoPedido:function(o,r,e){return l.dataMuestras.map(function(e,t,a){o.codigoExame===e.CD_EXA_LAB&&(l.dataMuestras[t].NM_EXA_LAB="",l.dataMuestras[t].NM_EXA_LAB="*"+o.descExame+" ("+r.codigoPedido+")")})},seleccionarTodos:function(o){ut.checkedAll=o;var r=moment().format("DD-MM-YYYY HH:mm");return l.dataMuestras.map(function(e,t,a){o?(l.dataMuestras[t].STATUS_RECEP="1",l.dataMuestras[t].FECHA_RECEP=r,l.dataMuestras[t].customCheked=!0,u.agregarExamen(l.dataMuestras[t])):(l.dataMuestras[t].STATUS_RECEP="",l.dataMuestras[t].FECHA_RECEP="",l.dataMuestras[t].customCheked=!1,u.eliminarExamen(l.dataMuestras[t]))})},validarUpdateMuestras:function(){for(var e=0,t=0;t<l.dataMuestras.length;t++)0!==l.dataMuestras[t].STATUS_RECEP.length&&e++;if(0==e)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";u.generarXML()},udpateStatusTomaMuestra:function(){l.documento.dataRecepcion.insumosRecep=c,n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(l.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){l.documento=e.data,l.dataMuestras=e.data.dataRecepcion.examenesRecep}).catch(function(e){})},view:function(){return l.error?[n()("p.mg-0",l.error)]:0!==l.dataMuestras.length?[n()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[n()("p.mg-5.tx-right",[n()("button.btn.btn-xs.btn-success.mg-r-5[type='button']",{class:ut.disabledToma?"":"d-none",onclick:function(){ut.disabledToma=!1}},n()("i.fas.fa-edit.mg-r-5")," EDITAR "),n()("button.btn.btn-xs.btn-primary.mg-r-5[type='button']",{onclick:function(){1==confirm("Esta seguro de generar un nuevo pedido 88.000.000.")&&(ut.disabledToma=!1,u.setNuevoPedido())}},n()("i.fas.fa-file-alt.mg-r-5")," NUEVO PEDIDO "),n()("button.btn.btn-xs.btn-warning[type='button']",{onclick:function(){0==u.showLogs.length?u.showLogs="d-none":u.showLogs=""}}," VER HISTORIAL DE ENVÍO ")]),n()(".",[n()(".",{class:u.showLogs,style:{"pointer-events":ut.disabledToma?"none":"auto"}},[n()("div.table-responsive.mg-b-10.mg-t-10",n()("table.table.table-dashboard.table-hover.mg-b-0",[n()("thead",n()("tr",[n()("th[colspan='2'].text-dark.text-left.tx-semibold",{oncreate:function(e){e.dom.innerHTML="Recepcion de Muestras"},onupdate:function(e){u.nuevoPedido?e.dom.innerHTML="Nuevo Pedido LISA:":e.dom.innerHTML="Recepcion de Muestras"}})]),n()("tr",[n()("th.text-left","EXAMEN(ES)"),n()("th[colspan='2']","CONFIRMACIÓN Y ENVÍO LISA")])),n()("tbody",[n()("tr",[n()("td[colspan='2'].tx-normal",n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='r_selectTomaTodos']",{checked:ut.checkedAll,onclick:function(e){ut.seleccionarTodos(this.checked)}}),n()("label.custom-control-label[for='r_selectTomaTodos']","Seleccionar Todos")]))]),l.dataMuestras.map(function(e,t,a){return[n()("tr",[n()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.custom-control-input.tx-16[type='checkbox'][id='r_"+e.CD_EXA_LAB+"']",{checked:l.dataMuestras[t].customCheked,onupdate:function(e){this.checked=l.dataMuestras[t].customCheked},onclick:function(e){if(e.preventDefault(),this.checked)l.dataMuestras[t].customCheked=!l.dataMuestras[t].customCheked,l.dataMuestras[t].STATUS_RECEP="1",l.dataMuestras[t].FECHA_RECEP=moment().format("DD-MM-YYYY HH:mm"),u.agregarExamen(l.dataMuestras[t]);else{if(l.dataMuestras[t].NM_EXA_LAB.includes("(88"))throw alert("No es posible esta acción. Ya existe un pedido generado."),"No es posible esta acción. Ya existe un pedido generado.";if(u.nuevoPedido)throw alert("No es posible generar un Nuevo Pedido de este exámen."),"No es posible generar un Nuevo Pedido de este exámen.";l.dataMuestras[t].customCheked=!l.dataMuestras[t].customCheked,ut.checkedAll=!1,l.dataMuestras[t].STATUS_RECEP="",l.dataMuestras[t].FECHA_RECEP="",u.eliminarExamen(l.dataMuestras[t])}}}),n()("label.custom-control-label.tx-16[for='r_"+e.CD_EXA_LAB+"']",0!==l.dataMuestras[t].STATUS_RECEP.length?l.dataMuestras[t].FECHA_RECEP:l.dataMuestras[t].STATUS_RECEP)]))])]})]),n()("thead",n()("tr",[n()("th[colspan='2'].text-primary.text-right.bg-light.tx-semibold",{},"IMPRESIÓN ETIQUETAS:")]),n()("tr",[n()("th.text-right[colspan='2']",n()("select.custom-select.wd-30p.tx-semibold",{onchange:function(e){ut.impresora=e.target.value},disabled:0===Object.keys(u.logsEnvio).length||u.nuevoPedido?"":"disabled",value:ut.impresora},["CAJA1","CAJA2","CAJA3","CAJA4","CAJA5","CAJA6","URGENCIAS","METROLAB"].map(function(e){return n()("option",e)})))]))])),n()("div.pd-10",[n()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:ut.disabledToma,onclick:function(){ut.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");l.documento.dataRecepcion.usuarioRecep="flebot1",l.documento.dataRecepcion.fechaRecep=e,ut.disabledToma=!0,ut.udpateStatusTomaMuestra()}},u.nuevoPedido?"Nuevo Pedido LISA":"Guardar y Enviar")])]),n()(".",{class:0!==u.showLogs.length?"":"d-none"},[n()("div.table-responsive.mg-b-10.mg-t-10",n()("table.table.table-dashboard.table-hover.mg-b-0",[n()("thead",n()("tr",[n()("th[colspan='2'].text-primary.text-left",{},"Historial de Envios LISA:")]),n()("tr",[n()("th","EXAMENES:"),n()("th","FECHA Y HORA:"),n()("th.d-none","OPCIONES:")])),n()("tbody",[n()(u)])]))])])])]:[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]}},m={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&void 0!==e.attrs.idTimeRecord&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,m.numeroPedido=e.attrs.numeroPedido,m.numeroAtencion=e.attrs.numeroAtencion,m.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,m.idTimeRecord=e.attrs.idTimeRecord,m.fetch())},fetch:function(){m.data=[],m.loader=!0,l.fetch()},view:function(e){var t,a;return 0!==m.data.length&&(t=moment(m.data.PedidoExameLab.paciente.dataNascimento),a=moment(),m.data.PedidoExameLab.paciente.anios=a.diff(t,"years")),m.loader?[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(21)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+m.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(21)}),n()("div.content.content-components",{style:{"margin-right":"0px"}},n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+m.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){m.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){m.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){m.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){m.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){window.close()}}))),"R"==m.data.PedidoExameLab.tipoSolicitacao?[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),n()("td",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.codigoPedido),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",n()("br"),n()(".d-inline.tx-danger","Fecha Toma de Muestra:")),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.dataExame,n()("br"),m.data.PedidoExameLab.dataColetaPedido),n()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.descSetorSolicitante)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.descPrestadorSolicitante),n()("th",{style:{"background-color":"#a8bed6"}},"Médico Tratante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},null!==st.medico&&!1!==st.medico?[n()("div.d-inline.tx-semibold.tx-danger",st.medico.PRESTADOR)]:m.data.PedidoExameLab.descPrestadorSolicitante)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='5']",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.paciente.nome),n()("th",{style:{"background-color":"#a8bed6"}},"Edad:"),n()("td",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.paciente.anios+" Año(s)"),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.paciente.codigoPaciente)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),n()("td",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.atendimento.codigoAtendimento),n()("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),n()("td",{style:{"background-color":"#eaeff5"}},"F"==m.data.PedidoExameLab.paciente.sexo?"Femenino":"Masculino"),n()("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),n()("td",{style:{"background-color":"#eaeff5"}},m.data.PedidoExameLab.paciente.dataNascimento),n()("th",{style:{"background-color":"#a8bed6"}},"Dg:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(null==m.data.PedidoExameLab.diagnostico.codigoDiagnostico.length?"":"CIE: "+m.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(null==m.data.PedidoExameLab.diagnostico.dsDiagostico.length?"":" - "+m.data.PedidoExameLab.diagnostico.dsDiagostico))]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","EXÁMENES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()(st))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",{style:{"pointer-events":null!==st.data?"auto":"none"}},[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),n()("li.nav-item",n()("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),n()("li.nav-item",n()("a.nav-link[id='home-recep'][data-toggle='tab'][href='#recep'][role='tab'][aria-controls='recep']",{style:{color:"#476ba3"}},n()("i.fas.fa-inbox.pd-1.mg-r-2")," RECEP. DE MUESTRA ")),n()("li.nav-item",n()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},n()("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),n()("tr.d-print-none",[n()("td[colspan='10']",n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(dt)]),n()(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[n()(ct)]),n()(".tab-pane.fade[id='recep'][role='tabpanel'][aria-labelledby='home-recep']",[n()(ut)]),n()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){lt.observaciones=e.target.value},value:lt.observaciones}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==lt.observaciones.length?lt.sendNotiLab():alert("Observaciones es obligatorio.")}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),n()("hr.wd-100p.mg-t-5.mg-b-5")]),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),n()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}};var mt=m,pt={loadPage:"",view:function(e){return window.localStorage.removeItem("updates"),Te.num=0,[n()(q),setTimeout(function(){return n().route.set(pt.loadPage)},300)]}},bt=pt,ft={view:function(e){return[n()("p.mg-0.tx-18",[n()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.NM_PACIENTE]),n()("p.mg-0",[n()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.CD_PACIENTE)]),n()("p.mg-0",[n()("div.tx-15.text-secondary.mg-r-5","N° Atención MV: "+e.attrs.CD_ATENDIMENTO)])]}};var gt={notificaciones:[],pedidos:[],oninit:function(){o.page="",r.page="",d.isAuth()},oncreate:function(){var t;document.title="Formularios Epidemiológicos | "+d.title,bt.loadPage="/laboratorio/formularios",$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-formularios").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/formularios-epis",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"15%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"50%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],width:"35%",orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){n().mount(e.anCells[3],{view:function(){return n()("p.mg-0.tx-12",[n()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.DT_ATENDIMENTO])}}),n().mount(e.anCells[4],{view:function(){return n()(ft,e._aData)}}),n().mount(e.anCells[5],{view:function(){return"313"==e._aData.CD_DOCUMENTO?n()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[n()("a.btn.btn-xs.btn-primary",{href:e._aData.URL,target:"_blank"},[n()("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epi 1")]):n()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[n()("a.btn.btn-xs.btn-primary",{href:e._aData.URL,target:"_blank"},[n()("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epidemiológica")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()})},view:function(){return[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(6)}),n()("div.content.content-components",n()("div.container",[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},["Metrovirtual"])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},["Laboratorio"])),n()("li.breadcrumb-item.active[aria-current='page']","Formularios Epidemiológicos")]),n()("h1.df-title.mg-t-20.mg-b-10","Formularios Epidemiológicos:"),n()("div.row.tx-14",[n()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",n()("div.row",[n()("div.col-sm-12.pd-b-10",n()("div.input-group",[n()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Apellidos y Nombres completos del Paciente'][title='Buscar'][type='text']"),n()("div.input-group-append",n()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[n()("i.icon.ion-md-search")," Buscar "]),n()("button.btn.btn-outline-light[id='resetTable'][type='button']",[n()("i.icon.ion-md-close-circle")," Borrar "]))])),n()("div.col-sm-12.pd-b-10.d-none",n()("div.input-group",[n()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),n()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),n()("div.input-group-append",[n()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[n()("i.icon.ion-md-funnel")," Filtrar "])])]))])),n()("div.col-12",[n()("div.table-loader.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",n()("table.table.table-sm[id='table-formularios'][width='100%']"),n()("table.d-none[id='table-status-formularios'][width='100%']"))])])]))]}},ht=Jn(360),vt={view:function(){return[ht("header",ht("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[ht("div.overlay.op-P9"),ht("div.container",ht("div.row",ht("div.col-md-12")))]),ht("div.toolbar",ht("div.container",ht("div.row",[ht("div.col-6.text-left",ht("a.mt-2.logo.d-none.d-md-block[href='/']",ht("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']")),ht("a.mt-2.d-block.d-md-none[href='/']",ht("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']"))),ht("div.col-6.text-right",[ht(ht.route.Link,{href:"/mi-perfil",class:"nav-link"},[ht("div.features-circle.m-bg-3.text-active.d-inline-flex.align-items-center.justify-content-center.rounded-circle",{style:{height:"50px",width:"50px"}},ht("i.icofont-doctor",{style:{fontSize:"20px"}}))])])]))))]}},xt=Jn(360),_t={view:function(){return[xt("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[xt("div.overlay.op-P9"),xt("div.container",xt("div.row",xt("div.col-md-12",xt("div.breadcrumb-inner.align-items-start.flex-column.justify-content-center.d-flex."))))]),xt("div.m-bg-1.single-doctor-container.type-2.m-pb-120",xt("div.container",[xt("div.row",xt("div.col-md-12.text-center",[xt("div.doctors-image.mb-1.d-inline-block.bg-white.rounded-circle.p-2.s-10-80",xt("img[src='assets/images/doctors-image5.jpg'][alt='']")),xt("h3.m-mt-10.text-dark.font-weight-bold","Dr. Rojana Rossy"),xt("h6.fz-18.text-uppercase.font-weight-normal","Medicina Interna"),xt("div.social-icon.mt-3.circle-link.position-relative",[xt("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",xt("i.icofont-facebook")),xt("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",xt("i.icofont-twitter")),xt("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",xt("i.icofont-instagram"))])])),xt("div.row.m-mb-60.m-mt-60.",[xt("div.col-md-4",xt("div.bg-white.mb-0.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[xt("span.position-absolute.flaot-icon",xt("i.icofont-stethoscope-alt.text-active")),xt("h5.m-text-2.mb-3.text-uppercase","Mis Datos"),xt("div.media.",xt("div.media-body",xt("p.m-0.","Mis datos personales y configuración de Perfil.")))])),xt("div.col-md-4",xt("div.bg-white.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[xt("span.position-absolute.flaot-icon",xt("i.icofont-stethoscope-alt")),xt("h5.m-text-2.mb-3.text-uppercase","Cambio de Contraseña"),xt("div.media.",xt("div.media-body",xt("p.m-0.","Actualización de credenciales de acceso.")))]))]),xt("div.row",xt("div.col-md-12.text-center.m-mb-50",xt("a.btn.bordered-blue.fadeInDown-slide.animated.medim-btn.btn-bordered.mt-0.text-medium.radius-pill.bg-transparent.text-active.text-uppercase.[href='#!/salir']"," Salir ")))])),xt("div.button-menu-center.text-center",xt("a.btn.fadeInDown-slide.position-relative.animated.pl-4.pr-4.lsp-0.no-border.bg-transparent.medim-btn.grad-bg--3.solid-btn.mt-0.text-medium.radius-pill.text-active.text-white.s-dp-1-2[href='/']",[xt("i.icofont-home")," Inicio "]))]}},yt=Jn(360),wt={oninit:function(){if(!J.isLogin())return yt.route.set("/auth")},oncreate:function(){document.title="Mi Perfil | "+d.title},view:function(){return[yt(vt),yt(_t)]}},Mt=Jn(360),Dt={view:function(){return[Mt("div.content.content-fixed.content-auth-alt",Mt("div.container.ht-100p.tx-center",Mt("div.ht-100p.d-flex.flex-column.align-items-center.justify-content-center",[Mt("div.wd-70p.wd-sm-250.wd-lg-300.mg-b-15",Mt("img.img-fluid[src='assets/dashforge/img/img19.png'][alt='']")),Mt("h1.tx-color-01.tx-24.tx-sm-32.tx-lg-36.mg-xl-b-5","404 Página no encontrada"),Mt("h5.tx-16.tx-sm-18.tx-lg-20.tx-normal.mg-b-20","Oopps. La página que estabas buscando no existe."),Mt("p.tx-color-03.mg-b-30","Es posible que haya escrito mal la dirección o que la página se haya movido. Regresa al inicio."),Mt("div.d-flex.mg-b-40",[Mt("a.button.btn.btn-brand-02.bd-0.mg-l-5.pd-sm-x-25[href='/']","Ir al Inicio")]),Mt("span.tx-12.tx-color-03",[d.title,Mt("a[href='https://www.hospitalmetropolitano.org']"," Hospital Metropolitano")])])))]}},Pt={view:function(){var e=B.getDataUser();if(null!==e&&0!==e.length)return[n()("li.bg-primary.wd-100p.nav-item.d-none",n()(n().route.Link,{href:"/inicio",class:"nav-link"},[n()("i[data-feather='layout']")," Inicio "]))]}},kt={view:function(e){return void 0!==e.children[0].modulo&&"farmacia"==e.children[0].modulo?(e.children[0].modulo="Farmacia",e.children[0].icon="fas fa-pills",e.children[0].href="farmacia"):void 0!==e.children[0].modulo&&"laboratorio"==e.children[0].modulo?(e.children[0].modulo="Laboratorio",e.children[0].icon="fas fa-microscope",e.children[0].href="laboratorio"):void 0!==e.children[0].modulo&&"imagen"==e.children[0].modulo?(e.children[0].modulo="Imagen",e.children[0].icon="fas fa-file-prescription",e.children[0].href="imagen"):void 0!==e.children[0].modulo&&"emergencia"==e.children[0].modulo?(e.children[0].modulo="Emergencia",e.children[0].icon="fas fa-first-aid",e.children[0].href="emergencia"):void 0!==e.children[0].modulo&&"bco-sangre"==e.children[0].modulo?(e.children[0].icon="fas fa-burn",e.children[0].modulo="Bco. de Sangre",e.children[0].href="bco-sangre"):void 0!==e.children[0].modulo&&"terapia-respiratoria"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Terapia Respiratoria",e.children[0].href="terapia-respiratoria"):void 0!==e.children[0].modulo&&"terapia-fisica"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Terapia Física",e.children[0].href="terapia-fisica"):void 0!==e.children[0].modulo&&"cardiologia"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Cardiología",e.children[0].href="cardiologia"):void 0!==e.children[0].modulo&&"neurofisiologia"==e.children[0].modulo?(e.children[0].icon="fas fa-user-md",e.children[0].modulo="Neurofisiología",e.children[0].href="neurofisiologia"):void 0!==e.children[0].modulo&&"hospitalizacion"==e.children[0].modulo?(e.children[0].icon="fas fa-procedures",e.children[0].modulo="Hospitalizacion",e.children[0].href="hospitalizacion"):void 0!==e.children[0].modulo&&"admisiones"==e.children[0].modulo?(e.children[0].icon="fas fa-folder-open",e.children[0].modulo="Adimisones",e.children[0].href="admisiones"):void 0!==e.children[0].modulo&&"mantenimiento"==e.children[0].modulo?(e.children[0].icon="fas fa-h-square ",e.children[0].modulo="Mantenimento",e.children[0].href="mantenimiento"):void 0!==e.children[0].modulo&&"endoscopia"==e.children[0].modulo?(e.children[0].icon="fas fa-compact-disc",e.children[0].modulo="Endoscopìa",e.children[0].href="endoscopia"):void 0!==e.children[0].modulo&&"patologia"==e.children[0].modulo?(e.children[0].icon="fas fa-microscope",e.children[0].modulo="Patología",e.children[0].href="patologia"):void 0!==e.children[0].modulo&&"contabilidad"==e.children[0].modulo?(e.children[0].icon="fas fa-book",e.children[0].modulo="Contabilidad",e.children[0].href="contabilidad"):(e.children[0].icon="fas fa-hospital",e.children[0].href=e.children[0].modulo.charAt(0).toUpperCase(),e.children[0].modulo=e.children[0].modulo.charAt(0).toUpperCase()+e.children[0].modulo.slice(1)),[n()("li",{class:"list-item bg-white wd-50p",style:{cursor:"pointer"},onclick:function(){n().route.set(e.children[0].href,{})}},[n()("div",{class:"media"},[n()("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},n()("i",{class:e.children[0].icon+" tx-30 tx-white"})),n()("div",{class:"media-body mg-l-15"},[n()("p",{class:"tx-18 mg-b-0"},e.children[0].modulo),n()("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a "+e.children[0].modulo)])])])]}},Et={isContent:!1,view:function(){Pt.isContent=!1;var o=B.getDataUser();if(null!==o&&0!==o.length)return[Object.keys(o.modulesAccess).map(function(e,t,a){return 0!==o.modulesAccess[e].length?(Pt.isContent=!0,n()(kt,o.modulesAccess[e])):Object.keys(o.modulesAccess).length!=t+1||Pt.isContent?void 0:[n()("p.df-lead.pd-15","Todavía no tienes acceso a ningún Módulo disponible. Comunícate a CONCAS Ext: 2020 y solicita activación. Att: Metrovirtual Plus.")]})]}};var Tt={oninit:function(){o.page="",d.isAuth()},oncreate:function(){function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}var t;document.title="Inicio | "+d.title,feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))})},view:function(){return[n()("header.navbar.navbar-header.navbar-header-fixed",[n()("div.navbar-brand",n()(n().route.Link,{href:"/",class:"df-logo"},["Metro",n()("span","Plus+")])),n()(".navbar-menu-wrapper[id='navbarMenu']",[n()("div.navbar-menu-header",[n()(n().route.Link,{href:"/",class:"df-logo"},["Metro",n()("span","Plus+")]),n()("a[id='mainMenuClose'][href='']",n()("i[data-feather='x']"))]),n()("ul.nav.navbar-menu",[n()("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),n()(Pt)])]),n()(Ce)]),n()("div.content.content-components",{},n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},["MetroPlus"])),n()("li.breadcrumb-item.active[aria-current='page']","Inicio")]),n()("h1.df-title.mg-t-20.mg-b-10","Inicio:"),n()("div.row.tx-14",[n()(Et)])]))]}},At=Jn(360),St={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.emergencia.map(function(e,t,a){return[At(At.route.Link,{href:"/"+e.href,class:Ct.page==e.idModulo?"active":""},[e.label])]})]}},Ct={page:"",setPage:function(e){Ct.page=e},view:function(){return[At(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[At("div.sidebar-header",[At("a[href=''][id='mainMenuOpen']",At("i[data-feather='menu']")),At("h5","Menu"),At("a[href=''][id='sidebarMenuClose']",At("i[data-feather='x']"))]),At("div.sidebar-body",At("ul.sidebar-nav",[At("li.nav-label.mg-b-15","Emergencia"),At("li.nav-item.show",[At(At.route.Link,{href:"/emergencia",class:"nav-link with-sub"},[At("i[data-feather='layout']"),"Emergencia"]),At("nav.nav",[At(St)])])]))])]}},It=Ct,Ft=Jn(360),Nt={view:function(){return[Ft("div.content.content-components",Ft("div.container",[Ft("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Ft("li.breadcrumb-item",Ft(Ft.route.Link,{href:"/"},["Metrovirtual"])),Ft("li.breadcrumb-item.active[aria-current='page']","Emergencia")]),Ft("h1.df-title.mg-t-20.mg-b-10","Emergencia:"),Ft("div.row.tx-14",[Ft("div.col-sm-6.mg-b-20",Ft("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[Ft("div.mg-b-25",Ft("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),Ft("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Auxiliar"),Ft(Ft.route.Link,{href:"/emergencia/auxiliar/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Auxiliar",Ft("i.icon.ion-md-arrow-forward.mg-l-5")])])),Ft("div.col-sm-6..mg-b-20",Ft("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[Ft("div.mg-b-25",Ft("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),Ft("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Enfermería"),Ft(Ft.route.Link,{href:"/emergencia/enfermeria/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Enfermería",Ft("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]))]}},Lt={oninit:function(){o.page="",It.page="",d.isAuth()},oncreate:function(){document.title="Emergencia | "+d.title},view:function(){return[Ft(o,{oncreate:o.setPage("emergencia")}),Ft(It),Ft(Nt)]}},Rt={view:function(e){return[n()("p.mg-0.tx-18",[n()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.PTE_MV]),n()("p.mg-0",[n()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.HC_MV)]),n()("p.mg-0",[n()("div.tx-15.text-secondary.mg-r-5","N° Pedido MV: "+e.attrs.NUM_PEDIDO_MV)])]}};var Ot={notificaciones:[],pedidos:[],oninit:function(){o.page="",It.page="",d.isAuth("emergencia",2)},oncreate:function(){var t;document.title="Pedidos de Laboratorio | "+d.title,bt.loadPage="/emergencia/pedidos",$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){n().mount(e.anCells[3],{view:function(){return n()("p.mg-0.tx-12",[n()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO])}}),n().mount(e.anCells[4],{view:function(){return n()(Rt,e._aData)}}),n().mount(e.anCells[5],{view:function(){return n()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[n()(n().route.Link,{href:"/emergencia/auxiliar/pedido/"+e._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[n()("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){n().mount(e.anCells[0],{view:function(){return n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:function(){n().route.set("/emergencia/auxiliar/pedido/"+e._aData.idPedido)}},[n()("div.toast-header.bg-danger",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),n()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e._aData.message.substring(0,10)+"...")]))}})})}})},view:function(){return[n()(o,{oncreate:o.setPage("emergencia")}),n()(It,{oncreate:It.setPage(2)}),n()("div.content.content-components",n()("div.container",[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()("a[href='#']","Metrovirtual")),n()("li.breadcrumb-item",n()("a",{href:"#!/emergencia"},"Emergencia")),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Auxiliar")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Auxiliar:"),n()("div.row.tx-14",[n()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",n()("div.row",[n()("div.col-sm-12.pd-b-10",n()("div.input-group",[n()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),n()("div.input-group-append",n()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[n()("i.icon.ion-md-search")," Buscar "]),n()("button.btn.btn-outline-light[id='resetTable'][type='button']",[n()("i.icon.ion-md-close-circle")," Borrar "]))])),n()("div.col-sm-12.pd-b-10.d-none",n()("div.input-group",[n()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),n()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),n()("div.input-group-append",[n()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[n()("i.icon.ion-md-funnel")," Filtrar "])])]))])),n()("div.col-12",[n()("div.table-loader.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",n()("table.table.table-sm[id='table-pedidos'][width='100%']"),n()("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),n()("div.section-nav",[n()("label.nav-label","Notificaciones"),n()("nav.nav.flex-column[id='navSection']",[n()("table.table.table-sm[id='table-notificaciones'][width='100%']")]),n()("label.nav-label.mg-t-20.tx-center.d-none",[n()("a",{href:"#!/notificaciones-lab"},"Ver Todo")])])]}},Ht={data:!1,fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+$t.idPedido}).then(function(e){Ht.data=e.data,moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({data:Ht.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[0],{view:function(){return"Nuevo Mensaje"==e._aData.title?n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),n()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e._aData.message)])):n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-danger",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),n()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e._aData.message)]))}})})}})}).catch(function(e){})},view:function(){return Ht.data?0==Ht.data.length?n()("p","Sin Notificaciones"):0!==Ht.data.length?Ht.data.map(function(e,t,a){if(t<4)return"Nuevo Mensaje"==e.title?n()("div.demo-static-toast.mg-b-5",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),n()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e.message)])):n()("div.demo-static-toast.mg-b-5",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[n()("div.toast-header.bg-danger",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),n()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e.message)]))}):void 0:n()("p.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])}},Yt={messagePedido:null,oncreate:function(){Ht.fetch()},sendMessage:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+$t.idPedido,body:{dataPedido:jt.data,message:Yt.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Yt.messagePedido="",Ht.fetch(),alert("Mensaje enviado con éxito."),Vt())}).catch(function(e){Ut.error=e.message})},view:function(){return n()("table.table.table-sm[id='table-notificaciones'][width='100%']")}},jt={data:[],detalle:[],error:"",numPedido:0,fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+$t.idPedido}).then(function(e){jt.data=e.data,e.data.DESCRIPCION.map(function(e,t,a){jt.detalle.push(e),Ut.detalle.push(e),-1!==e.indexOf("-R-")&&(jt.numPedido=jt.numPedido+1)})}).catch(function(e){jt.error=e.message})},view:function(){if(0!==Ut.detalle.length)return jt.detalle.map(function(e,t,a){return-1!==Ut.detalle[t].indexOf("...")?n()("p.mg-0",jt.detalle[t]+" "+Ut.detalle[t].split("...")[1]):n()("p.mg-0",jt.detalle[t])})}},Ut={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:function(){return[n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:Ut.checkedAll,onclick:function(e){Ut.seleccionarTodos(this.checked)}}),n()("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),Ut.detalle.map(function(e,t,a){return-1!==e.indexOf("...")?n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='"+$t.idPedido+"-"+t+"']",{checked:!0,onclick:function(e){this.checked||(Ut.detalle[t]=jt.detalle[t],p.statusPedido=3,p.classPedido="tx-warning",p.descPedido="Muestras Pendientes",Ut.checkedAll=!1),Ut.updateDataPedido()},onupdate:function(e){-1!==Ut.detalle[t].indexOf("...")?(jt.detalle[t],Ut.detalle[t].split("...")[1]):jt.detalle[t]}}),n()("label.custom-control-label[for='"+$t.idPedido+"-"+t+"']",-1!==Ut.detalle[t].indexOf("...")?jt.detalle[t]+Ut.detalle[t].split("...")[1]:jt.detalle[t])]):n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='"+$t.idPedido+"-"+t+"']",{onclick:function(e){this.checked&&(Ut.detalle[t]=jt.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),Ut.updateDataPedido()},onupdate:function(e){-1!==Ut.detalle[t].indexOf("...")?(jt.detalle[t],Ut.detalle[t].split("...")[1]):jt.detalle[t]}}),n()("label.custom-control-label[for='"+$t.idPedido+"-"+t+"']",-1!==Ut.detalle[t].indexOf("...")?jt.detalle[t]+Ut.detalle[t].split("...")[1]:jt.detalle[t])])})]},oninit:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+$t.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Ut.detalle=e.data,Ht.fetch())}).catch(function(e){Ut.error=e.message})},updateDataPedido:function(){Ut.validarStatus(),n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+$t.idPedido,body:{dataPedido:Ut.detalle,statusPedido:p.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Ut.detalle=e.data,Ut.validarStatus())}).catch(function(e){Ut.error=e.message})},sendNotiLab:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+$t.idPedido,body:{dataPedido:jt.data,message:Ut.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Ut.observaciones="",Ht.fetch(),alert("Mensaje enviado con éxito."),Vt())}).catch(function(e){Ut.error=e.message})},validarStatus:function(){Ut.detalle.map(function(e,t,a){-1!==e.indexOf("...")?0:0})},seleccionarTodos:function(o){return Ut.detalle.map(function(e,t,a){o?(Ut.detalle[t]=jt.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById($t.idPedido+"-"+t).checked=!0):(Ut.detalle[t]=jt.detalle[t],document.getElementById($t.idPedido+"-"+t).checked=!1),Ut.detalle.length===t+1&&Ut.updateDataPedido()})}},p={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:function(){jt.fetch()},view:function(){return jt.error?[n()(".alert.alert-danger[role='alert']",jt.error)]:0!==jt.detalle.length?[n()("p.mg-5.tx-20",[n()("i.fas.fa-user.mg-r-5.text-secondary"),jt.data.NOMBRE_PACIENTE]),n()("p.mg-5.tx-15",["Fecha Pedido: "+jt.data.FECHA_PEDIDO,2===p.statusPedido?[n()("span.tx-indigo.tx-semibold"," Usuario: "+J.user.user)]:""]),n()("p.mg-5",[n()("span.badge.badge-primary.mg-r-5.tx-14","HC: "+jt.data.HC)]),n()("p.mg-5","Opciones Disponibles:"),n()("hr.wd-100p.mg-t-0.mg-b-5"),n()("p.mg-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){p.ver=!0,p.editar=!1,p.entregar=!1,p.enviar=!1,p.nuevoMensaje=!1,p.labelOperation="Detalle:"}},[n()("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),n()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){p.ver=!1,p.editar=!1,p.entregar=!0,p.enviar=!1,p.nuevoMensaje=!1,p.labelOperation="Entregar Muestras:",b.status="Entregada"}},[n()("i.fas.fa-user-edit.mg-r-5")],"Entregar Muestras"),n()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){p.ver=!1,p.editar=!1,p.entregar=!1,p.enviar=!1,p.nuevoMensaje=!0,p.labelOperation="Nuevo Mensaje:"}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14",p.labelOperation)]),n()("p.mg-5."+(p.ver||p.nuevoMensaje?"":"d-none"),[n()(jt)]),n()("p.mg-5.d-none",[n()(Ut)]),n()("hr.wd-100p.mg-t-0.mg-b-5"),n()("p.mg-5."+(p.entregar||p.enviar?"":"d-none"),[n()(b)]),n()("p.mg-5."+(p.ver?"":"d-none"),[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),n()(Yt)]),n()("p.mg-5."+(p.nuevoMensaje?"":"d-none"),[n()("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(e){Yt.messagePedido=e.target.value},value:Yt.messagePedido}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==Yt.messagePedido.length?Yt.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),n()("hr.wd-100p.mg-t-0.mg-b-5")]:n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])}},$t={idPedido:null,oninit:function(e){d.isAuth(),o.page="",It.page="",$t.idPedido=e.attrs.idPedido,jt.data=[],jt.detalle=[],Ut.detalle=[]},oncreate:function(){document.title="Detalle Pedido N°: "+$t.idPedido+" | "+d.title},view:function(){return[n()(o,{oncreate:o.setPage("emergencia")}),n()(It),n()("div.content.content-components",n()("div.container",[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},["Metrovirtual"])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},["Laboratorio"])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle")]),n()("h1.df-title","Detalle de Pedido N°: "+$t.idPedido),n()("div.row.tx-14",[n()("div.col-12",n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("div.mg-b-25",n()("i.tx-60.fas.fa-file."+p.classPedido)),n()("h5.tx-inverse.mg-b-20","Detalle de Pedido N°: "+$t.idPedido+" - Status: "+p.descPedido),n()(p)]))])])),n()("div.section-nav",[n()("label.nav-label","Notificaciones"),n()("nav.nav.flex-column[id='navSection']",[n()(Ht)])])]}},Bt={numero:0,items:[],oninit:function(e){e=e.attrs._id;console.log("idc",e),Bt.items[e]={numero:0}},view:function(e){var t=e.attrs._id;return[n()("div.card.text-right",n()("div.card-body",[n()("h5.card-title",Bt.items[t].numero),n()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){Bt.items[t].numero=Bt.items[t].numero+1}},"+"),n()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){Bt.items[t].numero=Bt.items[t].numero-1}},"-")]))]}},b={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+$t.idPedido,body:{dataPedido:b.muestras,statusPedido:p.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(p.statusPedido=e.statusPedido,b.detalle=e.data,b.validarStatus())}).catch(function(e){b.error=e.message})},view:function(){if(0!==b.detalle.length)return[n()("div.custom-control.custom-checkbox.tx-18",[n()("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:b.checkedAll,onclick:function(e){b.seleccionarTodos(this.checked)}}),n()("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),n()("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(b.detalle).map(function(t){var a=b.muestras[t].toLowerCase().replaceAll(" ","_");return-1!==b.detalle[t].indexOf("...")?(void 0!==Bt.items[a]&&(Bt.items[a].numero=parseFloat(b.detalle[t].split("...")[2])),[n()(Bt,{_id:a}),n()("div.pd-25.custom-control.custom-checkbox.tx-18",[n()("input.custom-control-input[type='checkbox'][id='"+b.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(e){this.checked||(p.statusPedido=1,b.checkedAll=!1,b.detalle[t]=b.muestras[t],Bt.items[b.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),b.updateDataMuestras()},onupdate:function(e){-1!==b.detalle[t].indexOf("...")?(b.muestras[t],b.detalle[t].split("...")[1]):b.muestras[t]}}),n()("label.custom-control-label[for='"+b.detalle[t].toLowerCase().replaceAll(" ","_")+"']",-1!==b.detalle[t].indexOf("...")?b.muestras[t]+b.detalle[t].split("...")[1]:b.detalle[t])]),n()("hr.wd-100p.mg-t-0.mg-b-5")]):[n()(Bt,{_id:a}),n()("div.pd-25.custom-control.custom-checkbox.tx-18",[n()("input.custom-control-input[type='checkbox'][id='"+b.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(e){this.checked&&(p.statusPedido=2,b.detalle[t]=b.muestras[t]+" ... - "+b.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+Bt.items[a].numero),b.updateDataMuestras()},onupdate:function(e){-1!==b.detalle[t].indexOf("...")?(b.muestras[t],b.detalle[t].split("...")[1]):b.muestras[t]}}),n()("label.custom-control-label[for='"+b.detalle[t].toLowerCase().replaceAll(" ","_")+"']",b.detalle[t])]),n()("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:function(a){return a?(p.statusPedido=2,b.checkedAll=!0):(p.statusPedido=1,b.checkedAll=!1),[Object.keys(b.detalle).map(function(e){var t=b.detalle[e].toLowerCase().replaceAll(" ","_");a?(b.detalle[e]=b.muestras[e]+" ... - "+b.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(t).checked=!0):(b.detalle[e]=b.muestras[e],document.getElementById(t).checked=!1)}),b.updateDataMuestras()]},validarStatus:function(){1==p.statusPedido&&(p.classPedido="tx-gray-500",p.descPedido="Pendiente"),2==p.statusPedido&&(p.classPedido="tx-primary",p.descPedido="Gestionado");var t=0;Object.keys(b.detalle).map(function(e){-1===b.detalle[e].indexOf("...")?(t+=1,Object.keys(b.detalle).length===t&&t===Object.keys(b.detalle).length&&(p.statusPedido,p.classPedido="tx-gray-500",p.descPedido="Pendiente")):(p.statusPedido=2,p.classPedido="tx-primary",p.descPedido="Gestionado")})},updateDataMuestras:function(){return[b.validarStatus(),n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+$t.idPedido,body:{dataPedido:b.detalle,statusPedido:p.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(b.detalle=e.data,b.validarStatus())}).catch(function(e){b.error=e.message})]}};function Vt(){var e=$("#table-notificaciones").DataTable();e.clear(),e.rows.add(Ht.data).draw()}var Jt=$t,zt={data:{pedidos:[],notificaciones:[]},fetchPedidos:function(){n().request({method:"GET",url:" https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio?start=0&length=10"}).then(function(e){zt.data.pedidos=e.data,zt.fetchNotificaciones()}).catch(function(e){})},fetchNotificaciones:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos?start=0&length=6"}).then(function(e){zt.data.notificaciones=e.data,null==localStorage.updates&&B.setData(zt.data),zt.notificar()}).catch(function(e){})},fetch:function(){zt.fetchPedidos()},notificar:function(){for(var e=B.getData(),t=0;t<zt.data.notificaciones.length;t++){for(var a=!1,o=0;o<e.notificaciones.length&!a;o++)zt.data.notificaciones[t].id==e.notificaciones[o].id&&(a=!0);a||!function(e){{var t,a,o;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),Te.setNot(),a=JSON.parse(e.dataPedido),t="Metrovirtual: "+e.title,a={icon:"assets/favicon.ico",body:"Pedido N°: "+e.idPedido+"\nHC: "+a.HC+"\nPte: "+a.NOMBRE_PACIENTE},(o=new Notification(t,a)).onclick=function(){n().route.set("/emergencia/enfermeria/pedido/"+e.idPedido)},o.onclose={},setTimeout(function(){o.close()},3e4))}}(zt.data.notificaciones[t])}for(t=0;t<zt.data.pedidos.length;t++){for(a=!1,o=0;o<e.pedidos.length&!a;o++)zt.data.pedidos[t].NUM_PEDIDO_MV==e.pedidos[o].NUM_PEDIDO_MV&&(a=!0);a||!function(e){{var t,a;Notification&&("granted"!==Notification.permission&&Notification.requestPermission(),Te.setNot(),t={icon:"assets/favicon.ico",body:"Pedido N°: "+e.NUM_PEDIDO_MV+"\nHC: "+e.HC_MV+"\nPte: "+e.PTE_MV},(a=new Notification("Metrovirtual: Nuevo Pedido",t)).onclick=function(){n().route.set("/emergencia/enfermeria/pedido/"+e.NUM_PEDIDO_MV)},a.onclose={},setTimeout(function(){a.close()},3e4))}}(zt.data.pedidos[t])}B.setData(zt.data),setTimeout(function(){console.log("updates",zt.data),zt.fetch()},5e3)}},qt={view:function(e){return[n()("p.mg-0.tx-18",[n()("i.fas.fa-user.mg-r-5.text-secondary"),e.attrs.PTE_MV]),n()("p.mg-0",[n()("div.tx-15.text-secondary.mg-r-5","HC: "+e.attrs.HC_MV)]),n()("p.mg-0",[n()("div.tx-15.text-secondary.mg-r-5","N° Pedido MV: "+e.attrs.NUM_PEDIDO_MV)])]}};var Xt={notificaciones:[],pedidos:[],oninit:function(){o.page="",It.page="",d.isAuth("emergencia",4)},oncreate:function(){function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}var t,a,o;function r(){window.location.reload()}function i(){clearTimeout(o),o=setTimeout(r,3e5)}document.title="Pedidos de Laboratorio | "+d.title,bt.loadPage="/emergencia/pedidos",zt.fetch(),feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))}),$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",a=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){n().mount(e.anCells[3],{view:function(){return n()("p.mg-0.tx-12",[n()("i.fas.fa-calendar.mg-r-5.text-secondary"),e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO])}}),n().mount(e.anCells[4],{view:function(){return n()(qt,e._aData)}}),n().mount(e.anCells[5],{view:function(){return n()(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[n()(n().route.Link,{href:"/emergencia/enfermeria/pedido/"+e._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[n()("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),a.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(e){e.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),a.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(e){e.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),a.search("").draw()}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){n().mount(e.anCells[0],{view:function(){return n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:function(){n().route.set("/emergencia/enfermeria/pedido/"+e._aData.idPedido)}},[n()("div.toast-header.bg-danger",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),n()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e._aData.message.substring(0,10)+"...")]))}})})}}),window.onload=i,window.onmousemove=i,window.onmousedown=i,window.ontouchstart=i,window.ontouchmove=i,window.onclick=i,window.onkeydown=i,window.addEventListener("scroll",i,!0)},view:function(){return[n()(o,{oncreate:o.setPage("emergencia")}),n()(It,{oncreate:It.setPage(4)}),n()("div.content.content-components",n()("div.container",[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},["Metrovirtual"])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/emergencia"},["Emergencia"])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Enfermería")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Enfermería:"),n()("div.row.tx-14",[n()(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",n()("div.row",[n()("div.col-sm-12.pd-b-10",n()("div.input-group",[n()("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),n()("div.input-group-append",n()("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[n()("i.icon.ion-md-search")," Buscar "]),n()("button.btn.btn-outline-light[id='resetTable'][type='button']",[n()("i.icon.ion-md-close-circle")," Borrar "]))])),n()("div.col-sm-12.pd-b-10.d-none",n()("div.input-group",[n()("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),n()("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),n()("div.input-group-append",[n()("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[n()("i.icon.ion-md-funnel")," Filtrar "])])]))])),n()("div.col-12",[n()("div.table-loader.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",n()("table.table.table-sm[id='table-pedidos'][width='100%']"),n()("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),n()("div.section-nav",[n()("label.nav-label","Notificaciones"),n()("nav.nav.flex-column[id='navSection']",[n()("table.table.table-sm[id='table-notificaciones'][width='100%']")]),n()("label.nav-label.mg-t-20.tx-center.d-none",[n()(n().route.Link,{href:"/notificaciones-lab"},["Ver Todo"])])])]}},Gt={data:!1,fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+ea.idPedido}).then(function(e){Gt.data=e.data,moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-notificaciones").DataTable({data:Gt.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[0],{view:function(){return"Nuevo Mensaje"==e._aData.title?n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),n()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e._aData.message)])):n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-danger",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),n()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e._aData.message)]))}})})}})}).catch(function(e){})},view:function(){return Gt.data?0==Gt.data.length?n()("p","Sin Notificaciones"):0!==Gt.data.length?Gt.data.map(function(e,t,a){if(t<4)return"Nuevo Mensaje"==e.title?n()("div.demo-static-toast.mg-b-5",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),n()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e.message)])):n()("div.demo-static-toast.mg-b-5",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[n()("div.toast-header.bg-danger",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e.title),n()("small.tx-white",moment.unix(e.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e.message)]))}):void 0:n()("p.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])}},Zt={messagePedido:null,oncreate:function(){Gt.fetch()},sendMessage:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+ea.idPedido,body:{dataPedido:Kt.data,message:Zt.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Zt.messagePedido="",Gt.fetch(),alert("Mensaje enviado con éxito."),aa())}).catch(function(e){Wt.error=e.message})},view:function(){return n()("table.table.table-sm[id='table-notificaciones'][width='100%']")}},Kt={data:[],detalle:[],error:"",numPedido:0,fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+ea.idPedido}).then(function(e){Kt.data=e.data,e.data.DESCRIPCION.map(function(e,t,a){Kt.detalle.push(e),Wt.detalle.push(e),-1!==e.indexOf("-R-")&&(Kt.numPedido=Kt.numPedido+1)})}).catch(function(e){Kt.error=e.message})},view:function(){if(0!==Wt.detalle.length)return Kt.detalle.map(function(e,t,a){return-1!==Wt.detalle[t].indexOf("...")?n()("p.mg-0",Kt.detalle[t]+" "+Wt.detalle[t].split("...")[1]):n()("p.mg-0",Kt.detalle[t])})}},Wt={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:function(){return[n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:Wt.checkedAll,onclick:function(e){Wt.seleccionarTodos(this.checked)}}),n()("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),Wt.detalle.map(function(e,t,a){return-1!==e.indexOf("...")?n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='"+ea.idPedido+"-"+t+"']",{checked:!0,onclick:function(e){this.checked||(Wt.detalle[t]=Kt.detalle[t],Qt.statusPedido=3,Qt.classPedido="tx-warning",Qt.descPedido="Muestras Pendientes",Wt.checkedAll=!1),Wt.updateDataPedido()},onupdate:function(e){-1!==Wt.detalle[t].indexOf("...")?(Kt.detalle[t],Wt.detalle[t].split("...")[1]):Kt.detalle[t]}}),n()("label.custom-control-label[for='"+ea.idPedido+"-"+t+"']",-1!==Wt.detalle[t].indexOf("...")?Kt.detalle[t]+Wt.detalle[t].split("...")[1]:Kt.detalle[t])]):n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='"+ea.idPedido+"-"+t+"']",{onclick:function(e){this.checked&&(Wt.detalle[t]=Kt.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),Wt.updateDataPedido()},onupdate:function(e){-1!==Wt.detalle[t].indexOf("...")?(Kt.detalle[t],Wt.detalle[t].split("...")[1]):Kt.detalle[t]}}),n()("label.custom-control-label[for='"+ea.idPedido+"-"+t+"']",-1!==Wt.detalle[t].indexOf("...")?Kt.detalle[t]+Wt.detalle[t].split("...")[1]:Kt.detalle[t])])})]},oninit:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+ea.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Wt.detalle=e.data,Gt.fetch())}).catch(function(e){Wt.error=e.message})},updateDataPedido:function(){Wt.validarStatus(),n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+ea.idPedido,body:{dataPedido:Wt.detalle,statusPedido:Qt.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Wt.detalle=e.data,Wt.validarStatus())}).catch(function(e){Wt.error=e.message})},sendNotiLab:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+ea.idPedido,body:{dataPedido:Kt.data,message:Wt.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Wt.observaciones="",Gt.fetch(),alert("Mensaje enviado con éxito."),aa())}).catch(function(e){Wt.error=e.message})},validarStatus:function(){Wt.detalle.map(function(e,t,a){-1!==e.indexOf("...")?0:0})},seleccionarTodos:function(o){return Wt.detalle.map(function(e,t,a){o?(Wt.detalle[t]=Kt.detalle[t]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(ea.idPedido+"-"+t).checked=!0):(Wt.detalle[t]=Kt.detalle[t],document.getElementById(ea.idPedido+"-"+t).checked=!1),Wt.detalle.length===t+1&&Wt.updateDataPedido()})}},Qt={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:function(){Kt.fetch()},view:function(){return Kt.error?[n()(".alert.alert-danger[role='alert']",Kt.error)]:0!==Kt.detalle.length?[n()("p.mg-5.tx-20",[n()("i.fas.fa-user.mg-r-5.text-secondary"),Kt.data.NOMBRE_PACIENTE]),n()("p.mg-5.tx-15",["Fecha Pedido: "+Kt.data.FECHA_PEDIDO,2===Qt.statusPedido?[n()("span.tx-indigo.tx-semibold"," Usuario: "+J.user.user)]:""]),n()("p.mg-5",[n()("span.badge.badge-primary.mg-r-5.tx-14","HC: "+Kt.data.HC)]),n()("p.mg-5","Opciones Disponibles:"),n()("hr.wd-100p.mg-t-0.mg-b-5"),n()("p.mg-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){Qt.ver=!0,Qt.editar=!1,Qt.entregar=!1,Qt.enviar=!1,Qt.nuevoMensaje=!1,Qt.labelOperation="Detalle:"}},[n()("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),n()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){Qt.ver=!1,Qt.editar=!1,Qt.entregar=!0,Qt.enviar=!1,Qt.nuevoMensaje=!1,Qt.labelOperation="Enviar Muestras:",f.status="Enviada"}},[n()("i.fas.fa-user-edit.mg-r-5")],"Enviar Muestras"),n()("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){Qt.ver=!1,Qt.editar=!1,Qt.entregar=!1,Qt.enviar=!1,Qt.nuevoMensaje=!0,Qt.labelOperation="Nuevo Mensaje:"}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14",Qt.labelOperation)]),n()("p.mg-5."+(Qt.ver||Qt.nuevoMensaje?"":"d-none"),[n()(Kt)]),n()("p.mg-5.d-none",[n()(Wt)]),n()("hr.wd-100p.mg-t-0.mg-b-5"),n()("p.mg-5."+(Qt.entregar||Qt.enviar?"":"d-none"),[n()(f)]),n()("p.mg-5."+(Qt.ver?"":"d-none"),[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),n()(Zt)]),n()("p.mg-5."+(Qt.nuevoMensaje?"":"d-none"),[n()("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(e){Zt.messagePedido=e.target.value},value:Zt.messagePedido}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==Zt.messagePedido.length?Zt.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),n()("hr.wd-100p.mg-t-0.mg-b-5")]:n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])}},ea={idPedido:null,oninit:function(e){d.isAuth(),o.page="",It.page="",ea.idPedido=e.attrs.idPedido,Kt.data=[],Kt.detalle=[],Wt.detalle=[]},oncreate:function(){document.title="Detalle Pedido N°: "+ea.idPedido+" | "+d.title},view:function(){return[n()(o,{oncreate:o.setPage("emergencia")}),n()(It),n()("div.content.content-components",n()("div.container",[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},["Metrovirtual"])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},["Laboratorio"])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle")]),n()("h1.df-title","Detalle de Pedido N°: "+ea.idPedido),n()("div.row.tx-14",[n()("div.col-12",n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("div.mg-b-25",n()("i.tx-60.fas.fa-file."+Qt.classPedido)),n()("h5.tx-inverse.mg-b-20","Detalle de Pedido N°: "+ea.idPedido+" - Status: "+Qt.descPedido),n()(Qt)]))])])),n()("div.section-nav",[n()("label.nav-label","Notificaciones"),n()("nav.nav.flex-column[id='navSection']",[n()(Gt)])])]}},ta={numero:0,items:[],oninit:function(e){e=e.attrs._id;console.log("idc",e),ta.items[e]={numero:0}},view:function(e){var t=e.attrs._id;return[n()("div.card.text-right",n()("div.card-body",[n()("h5.card-title",ta.items[t].numero),n()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){ta.items[t].numero=ta.items[t].numero+1}},"+"),n()("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:function(){ta.items[t].numero=ta.items[t].numero-1}},"-")]))]}},f={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+ea.idPedido,body:{dataPedido:f.muestras,statusPedido:Qt.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(Qt.statusPedido=e.statusPedido,f.detalle=e.data,f.validarStatus())}).catch(function(e){f.error=e.message})},view:function(){if(0!==f.detalle.length)return[n()("div.custom-control.custom-checkbox.tx-18",[n()("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:f.checkedAll,onclick:function(e){f.seleccionarTodos(this.checked)}}),n()("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),n()("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(f.detalle).map(function(t){var a=f.muestras[t].toLowerCase().replaceAll(" ","_");return-1!==f.detalle[t].indexOf("...")?(void 0!==ta.items[a]&&(ta.items[a].numero=parseFloat(f.detalle[t].split("...")[2])),[n()(ta,{_id:a}),n()("div.pd-25.custom-control.custom-checkbox.tx-18",[n()("input.custom-control-input[type='checkbox'][id='"+f.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(e){this.checked||(Qt.statusPedido=1,f.checkedAll=!1,f.detalle[t]=f.muestras[t],ta.items[f.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),f.updateDataMuestras()},onupdate:function(e){-1!==f.detalle[t].indexOf("...")?(f.muestras[t],f.detalle[t].split("...")[1]):f.muestras[t]}}),n()("label.custom-control-label[for='"+f.detalle[t].toLowerCase().replaceAll(" ","_")+"']",-1!==f.detalle[t].indexOf("...")?f.muestras[t]+f.detalle[t].split("...")[1]:f.detalle[t])]),n()("hr.wd-100p.mg-t-0.mg-b-5")]):[n()(ta,{_id:a}),n()("div.pd-25.custom-control.custom-checkbox.tx-18",[n()("input.custom-control-input[type='checkbox'][id='"+f.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(e){this.checked&&(Qt.statusPedido=2,f.detalle[t]=f.muestras[t]+" ... - "+f.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+ta.items[a].numero),f.updateDataMuestras()},onupdate:function(e){-1!==f.detalle[t].indexOf("...")?(f.muestras[t],f.detalle[t].split("...")[1]):f.muestras[t]}}),n()("label.custom-control-label[for='"+f.detalle[t].toLowerCase().replaceAll(" ","_")+"']",f.detalle[t])]),n()("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:function(a){return a?(Qt.statusPedido=2,f.checkedAll=!0):(Qt.statusPedido=1,f.checkedAll=!1),[Object.keys(f.detalle).map(function(e){var t=f.detalle[e].toLowerCase().replaceAll(" ","_");a?(f.detalle[e]=f.muestras[e]+" ... - "+f.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(t).checked=!0):(f.detalle[e]=f.muestras[e],document.getElementById(t).checked=!1)}),f.updateDataMuestras()]},validarStatus:function(){1==Qt.statusPedido&&(Qt.classPedido="tx-gray-500",Qt.descPedido="Pendiente"),2==Qt.statusPedido&&(Qt.classPedido="tx-primary",Qt.descPedido="Gestionado");var t=0;Object.keys(f.detalle).map(function(e){-1===f.detalle[e].indexOf("...")?(t+=1,Object.keys(f.detalle).length===t&&t===Object.keys(f.detalle).length&&(Qt.statusPedido,Qt.classPedido="tx-gray-500",Qt.descPedido="Pendiente")):(Qt.statusPedido=2,Qt.classPedido="tx-primary",Qt.descPedido="Gestionado")})},updateDataMuestras:function(){return[f.validarStatus(),n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+ea.idPedido,body:{dataPedido:f.detalle,statusPedido:Qt.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(f.detalle=e.data,f.validarStatus())}).catch(function(e){f.error=e.message})]}};function aa(){var e=$("#table-notificaciones").DataTable();e.clear(),e.rows.add(Gt.data).draw()}var oa=ea,ra=Jn(360),ia={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.farmacia.map(function(e,t,a){return[ra(ra.route.Link,{href:"/"+e.href,class:na.page==e.idModulo?"active":""},[e.label])]})]}},na={page:"",setPage:function(e){na.page=e},view:function(){return[ra(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[ra("div.sidebar-header",[ra("a[href=''][id='mainMenuOpen']",ra("i[data-feather='menu']")),ra("h5","Menu"),ra("a[href=''][id='sidebarMenuClose']",ra("i[data-feather='x']"))]),ra("div.sidebar-body",ra("ul.sidebar-nav",[ra("li.nav-label.mg-b-15","Farmacia"),ra("li.nav-item.show",[ra(ra.route.Link,{href:"/farmacia",class:"nav-link with-sub"},[ra("i[data-feather='layout']")," Farmacia"]),ra("nav.nav",[ra(ia)])])]))])]}},da=na,sa=Jn(360),la={view:function(){return[sa("div.content.content-components",sa("div.container",{style:{"max-width":"100%"}},[sa("ol.breadcrumb.df-breadcrumbs.mg-b-10",[sa("li.breadcrumb-item",sa(sa.route.Link,{href:"/"},["Metroplus"])),sa("li.breadcrumb-item.active[aria-current='page']","Farmacia")]),sa("h1.df-title.mg-t-20.mg-b-10","Farmacia:"),sa("div.row.tx-14",[d.isShow("farmacia",5)?[sa("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){sa.route.set("/farmacia/recetas")}},[sa("div",{class:"media"},[sa("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},sa("i",{class:"fas fa-file tx-30 tx-white"})),sa("div",{class:"media-body mg-l-15"},[sa("p",{class:"tx-18 mg-b-0"},"Recetas de Alta"),sa("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recetas de Alta")])])])]:[]])]))]}},ca={oninit:function(){o.page="",da.page="",d.isAuth()},oncreate:function(){document.title="Farmacia | "+d.title},view:function(){return[sa(o,{oncreate:o.setPage("farmacia")}),sa(da),sa(la)]}},ua=Jn(360),ma={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.admisiones.map(function(e,t,a){return[ua(ua.route.Link,{href:"/"+e.href,class:pa.page==e.idModulo?"active":""},[e.label])]})]}},pa={page:"",setPage:function(e){pa.page=e},view:function(){return[ua(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[ua("div.sidebar-header",[ua("a[href=''][id='mainMenuOpen']",ua("i[data-feather='menu']")),ua("h5","Menu"),ua("a[href=''][id='sidebarMenuClose']",ua("i[data-feather='x']"))]),ua("div.sidebar-body",ua("ul.sidebar-nav",[ua("li.nav-label.mg-b-15","Admisiones"),ua("li.nav-item.show",[ua(ua.route.Link,{href:"/admisiones",class:"nav-link with-sub"},[ua("i[data-feather='layout']")," Admisiones "]),ua("nav.nav",[ua(ma)])])]))])]}},ba=pa,fa=Jn(360),ga={view:function(){return[fa("div.content.content-components",fa("div.container",{style:{"max-width":"100%"}},[fa("ol.breadcrumb.df-breadcrumbs.mg-b-10",[fa("li.breadcrumb-item",fa(fa.route.Link,{href:"/"},["Metroplus"])),fa("li.breadcrumb-item.active[aria-current='page']","Admisiones")]),fa("h1.df-title.mg-t-20.mg-b-10","Admisiones:"),fa("div.row.tx-14",[d.isShow("admisiones",7)?[fa("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){fa.route.set("/admisiones/pre")}},[fa("div",{class:"media"},[fa("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},fa("i",{class:"fas fa-hospital tx-30 tx-white"})),fa("div",{class:"media-body mg-l-15"},[fa("p",{class:"tx-18 mg-b-0"},"Pre Admisiones"),fa("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pre Admisiones")])])])]:[],d.isShow("admisiones",27)?[fa("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){fa.route.set("/admisiones/etiquetas")}},[fa("div",{class:"media"},[fa("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},fa("i",{class:"fas fa-user-tag tx-30 tx-white"})),fa("div",{class:"media-body mg-l-15"},[fa("p",{class:"tx-18 mg-b-0"},"Impresión de Etiquetas"),fa("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Impresión de Etiquetas")])])])]:[]])]))]}},ha={oninit:function(){o.page="",ba.page="",d.isAuth()},oncreate:function(){document.title="Admisiones | "+d.title},view:function(){return[fa(o,{oncreate:o.setPage("admisiones")}),fa(ba),fa(ga)]}};var va={increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(va.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=0},toggle:function(e){e.isPaused?va.start(e):va.stop(e),e.isPaused=!e.isPaused}};function xa(){var t={interval:null,seconds:89,isPaused:!1};return va.start(t),{view:function(){return[n()("div.mg-b-20",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play",{onclick:function(){va.toggle(t)}})]:[n()("i.fas.fa-pause",{onclick:function(){va.toggle(t)}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){va.stop(t)}}}var _a={pacientes:[],oninit:function(e){o.page="",ba.page="",_a.dataPendientesAlta=[],_a.dataCamaTotales=[],d.isAuth("admisiones",7)},oncreate:function(e){var t;document.title="Pre Admisiones | "+d.title,function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(e.attrs)&&($(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-data-pacientes").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/admisiones/pre",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.ADM},visible:!0,aTargets:[3]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){_a.pacientes.push(e._aData)}),n().redraw.sync(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-preadmisiones").DataTable({data:_a.pacientes,dom:"ftp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,pageLength:200,columns:[{title:"FECHA:"},{title:"HC:"},{title:"M° ADM:"},{title:"PACIENTE:"},{title:"F. PROGRAMADA:"},{title:"ADM POSTERIOR:"},{title:"TIPO DCTO.:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.FECHA_PREAD},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.HC},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.ADM},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.NOMBRE_PTE},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.FECHA_POSIBLE_ADM},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.ADMISION_POSTERIOR},visible:!0,aTargets:[5]},{mRender:function(e,t,a){return a.TIPO_DCTO},visible:!0,aTargets:[6]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){},order:[[3,"Desc"]]})},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,r){_a.dataPendientesAlta=[],_a.camasTotales=[],_a.camasTotales=0,void(_a.pendienteAlta=0)!==a&&0!==a.delete.length&&(ya("#table-preadmisiones",_a.dataPendientesAlta),ya("#table-camas-totales",_a.camasTotales)),void 0!==a&&0!==a.create.length&&(ya("#table-preadmisiones",_a.dataPendientesAlta),ya("#table-camas-totales",_a.camasTotales)),void 0!==a&&0!==Object.keys(a.update).length&&(ya("#table-preadmisiones",_a.dataPendientesAlta),ya("#table-camas-totales",_a.camasTotales))}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").change(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}))},view:function(e){moment().format("DD-MM-YYYY");return[n()(o,{oncreate:o.setPage("admisiones")}),n()(ba,{oncreate:ba.setPage(7)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" Metroplus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/admisiones"},[" Admisiones "])),n()("li.breadcrumb-item.active[aria-current='page']","Pre Admisiones")]),n()("h1.df-title.mg-t-20","Pre Admisiones:"),n()("div.row.animated.fadeInUp",{},[n()("div.col-12.mg-b-5.wd-100p.d-none[data-label='Filtrar'][id='filterTable']",n()("div.row",[n()("div.col-sm-12.pd-b-10",n()("div.input-group",[n()(".df-example.demo-forms.wd-100p[data-label='Buscar']",[n()("input.form-control[type='text'][id='searchField'][data-role='tagsinput']",{oncreate:function(){new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("text"),queryTokenizer:Bloodhound.tokenizers.whitespace})}})])]))])),n()("div.col-12",[n()("div.table-loader.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()(xa),n()("table.table.table-xs.d-none[id='table-data-pacientes'][width='100%']"),n()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[n()("h5.mg-b-0","Pre Admisiones de Pacientes: ")]),n()("table.table.table-sm.tx-12[id='table-preadmisiones'][width='100%']")])])])])),n()("div.section-nav",[])]}};function ya(e,t){e=$(e).DataTable();e.clear(),e.rows.add(t).draw()}var wa=_a,Ma=Jn(360),Da={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.mantenimiento.map(function(e,t,a){return[Ma(Ma.route.Link,{href:"/"+e.href,class:Pa.page==e.idModulo?"active":""},[e.label])]})]}},Pa={page:"",setPage:function(e){Pa.page=e},view:function(){return[Ma(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Ma("div.sidebar-header",[Ma("a[href=''][id='mainMenuOpen']",Ma("i[data-feather='menu']")),Ma("h5","Menu"),Ma("a[href=''][id='sidebarMenuClose']",Ma("i[data-feather='x']"))]),Ma("div.sidebar-body",Ma("ul.sidebar-nav",[Ma("li.nav-label.mg-b-15","Mantenimiento"),Ma("li.nav-item.show",[Ma(Ma.route.Link,{href:"/mantenimiento",class:"nav-link with-sub"},[Ma("i[data-feather='layout']")," Mantenimiento "]),Ma("nav.nav",[Ma(Da)])])]))])]}},ka=Pa,Ea=Jn(360),Ta={view:function(){return[Ea("div.content.content-components",Ea("div.container",{style:{"max-width":"100%"}},[Ea("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Ea("li.breadcrumb-item",Ea(Ea.route.Link,{href:"/"},["Metroplus"])),Ea("li.breadcrumb-item.active[aria-current='page']","Mantenimiento")]),Ea("h1.df-title.mg-t-20.mg-b-10","Mantenimiento:"),Ea("div.row.tx-14",[d.isShow("mantenimiento",8)?[Ea("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Ea.route.set("/mantenimiento/higienizacion")}},[Ea("div",{class:"media"},[Ea("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Ea("i",{class:"fas fa-sitemap tx-30 tx-white"})),Ea("div",{class:"media-body mg-l-15"},[Ea("p",{class:"tx-18 mg-b-0"},"Integración Higienización"),Ea("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Integración Higienización")])])])]:[],d.isShow("mantenimiento",40)?[Ea("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Ea.route.set("/mantenimiento/configuracion-usrs")}},[Ea("div",{class:"media"},[Ea("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Ea("i",{class:"fas fa-cog tx-30 tx-white"})),Ea("div",{class:"media-body mg-l-15"},[Ea("p",{class:"tx-18 mg-b-0"},"Configuración de Roles y Permisos"),Ea("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuración de Roles y Permisos")])])])]:[]])]))]}},Aa={oninit:function(){o.page="",ka.page="",d.isAuth()},loadReport:function(){Ea.request({method:"GET",url:"https://api.hospitalmetropolitano.org/v2/medicos/update-logs"}).then(function(e){console.log(e)}).catch(function(e){})},oncreate:function(){document.title="Mantenimiento | "+d.title,setInterval(function(){Aa.loadReport()},9e3)},view:function(){return[Ea(o,{oncreate:o.setPage("mantenimiento")}),Ea(ka),Ea(Ta)]}},Sa=Aa,Ca={mensajes:[],fetchPacientes:function(){Ca.showBusquedas="d-none",Ca.showPacientes="d-none",Ca.showProcess="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/integracion-higienizacion"}).then(function(e){Ca.showPacientes="",Ca.showProcess="d-none",Ca.mensajes=e.data;e=$("#table-higienizacion").DataTable();e.clear(),e.rows.add(Ca.mensajes).draw()}).catch(function(e){})},oninit:function(){o.page="",ka.page="",Ca.mensajes=[],d.isAuth()},oncreate:function(){document.title="Integración de Higienización | "+d.title,$(".table-content-in").hide(),$(".table-loader-in").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-inboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-in",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACIÓN:"},{title:"TIMESTAMP:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.status},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.hab},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.timestamp},visible:!0,aTargets:[4],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content-in").show(),$(".table-loader-in").hide()}}).on("xhr.dt",function(e,t,a,o){$(".table-loader-in").hide(),$(".table-content-in").show()}).on("page.dt",function(e,t,a,o){$(".table-loader-in").show(),$(".table-content-in").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$(".table-content-out").hide(),$(".table-loader-out").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-outboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-out",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACIÓN:"},{title:"TIMESTAMP:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.ESTADO},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.PK_FK_HABITACION},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.timestamp},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return'<a href="'+a.URL_LOG+'" role="button" class="btn btn-xs btn-block btn-primary" target="_blank">Ver Log</a>'},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content-out").show(),$(".table-loader-out").hide()}}).on("xhr.dt",function(e,t,a,o){$(".table-loader-out").hide(),$(".table-content-out").show()}).on("page.dt",function(e,t,a,o){$(".table-loader-out").show(),$(".table-content-out").hide()}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0})},view:function(){return[n()(o,{oncreate:o.setPage("mantenimiento")}),n()(ka,{oncreate:ka.setPage(8)}),n()("div.content.content-components",n()("div.container",[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" Metrovirtual "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/mantenimiento"},[" Mantenimiento "])),n()("li.breadcrumb-item.active[aria-current='page']","Integración de Higienización")]),n()("h1.df-title.mg-t-20.mg-b-10","Integración de Higienización:"),n()("div.row.tx-14",[n()("div.col-12.mg-b-10.wd-100p",n()("div.row.mg-t-10",[n()("div.col-sm-12.pd-b-10",[n()("label.nav-label.tx-semibold","Transacciones Inbound:"),n()("hr")])])),n()("div.table-loader-in.col-12.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.table-content-in.col-12.mg-b-10",[n()("div.col-12.pd-r-0.pd-l-0.pd-b-20.",n()("table.table.table-sm[id='table-inboundTRX'][width='100%']"))]),n()("div.col-12.mg-t-10.mg-b-10.wd-100p",n()("div.row.mg-t-10",[n()("div.col-sm-12.pd-b-10",[n()("label.nav-label.tx-semibold","Transacciones Outbound:"),n()("hr")])])),n()("div.table-loader-out.col-12.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.table-content-out.col-12.mg-b-10",[n()("div.col-12.pd-r-0.pd-l-0.pd-b-20.",n()("table.table.table-sm[id='table-outboundTRX'][width='100%']"))])])]))]}};var Ia=Ca,Fa=Jn(360),Na={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.hospitalizacion.map(function(e,t,a){return[Fa(Fa.route.Link,{href:"/"+e.href,class:La.page==e.idModulo?"active":""},[e.label])]})]}},La={page:"",setPage:function(e){La.page=e},view:function(){return[Fa(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Fa("div.sidebar-header",[Fa("a[href=''][id='mainMenuOpen']",Fa("i[data-feather='menu']")),Fa("h5","Menu"),Fa("a[href=''][id='sidebarMenuClose']",Fa("i[data-feather='x']"))]),Fa("div.sidebar-body",Fa("ul.sidebar-nav",[Fa("li.nav-label.mg-b-15","Hospitalización"),Fa("li.nav-item.show",[Fa(Fa.route.Link,{href:"/hospitalizacion",class:"nav-link with-sub"},[Fa("i[data-feather='layout']")," Hospitalización "]),Fa("nav.nav",[Fa(Na)])])]))])]}},Ra=La,Oa=Jn(360),Ha={view:function(){return[Oa("div.content.content-components",Oa("div.container",[Oa("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Oa("li.breadcrumb-item",Oa(Oa.route.Link,{href:"/"},["MetroPlus"])),Oa("li.breadcrumb-item.active[aria-current='page']","Hospitalización")]),Oa("h1.df-title.mg-t-20.mg-b-10","Hospitalización:"),Oa("div.row.tx-14",[d.isShow("hospitalizacion",17)?[Oa("div.col-sm-6",Oa("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[Oa("div.mg-b-25",Oa("i.tx-50.tx-gray-500.fas.fa-procedures")),Oa("h5.tx-inverse.mg-b-20","Control de Camas GEMA-MV"),Oa(Oa.route.Link,{href:"/hospitalizacion/control-camas",class:"tx-medium"},["Ir a Control de Camas GEMA-MV",Oa("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[],d.isShow("hospitalizacion",9)?[Oa("div.col-sm-6",Oa("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[Oa("div.mg-b-25",Oa("i.tx-50.tx-gray-500.fas.fa-file-alt")),Oa("h5.tx-inverse.mg-b-20","Pasaportes de Pacientes"),Oa(Oa.route.Link,{href:"/hospitalizacion/pasaportes",class:"tx-medium"},["Ir a Pasaportes de Pacientes",Oa("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[]])]))]}},Ya={oninit:function(){o.page="",Ra.page="",d.isAuth()},oncreate:function(){document.title="Hospitalización | "+d.title},view:function(){return[Oa(o,{oncreate:o.setPage("hospitalizacion")}),Oa(Ra),Oa(Ha)]}},ja={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:function(){o.page="",Ra.page="",ja.searchField="",ja.showBusquedas="",ja.pacientes=[],d.isAuth()},oncreate:function(){document.title="Hospitalización Pasaportes | "+d.title},view:function(){return[n()(o,{oncreate:o.setPage("hospitalizacion")}),n()(Ra,{oncreate:Ra.setPage(9)}),n()("div.content.content-components",n()("div.container",[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" Metrovirtual "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/hospitalizacion"},[" Hospitalización "])),n()("li.breadcrumb-item.active[aria-current='page']","Pasaportes de Pacientes")]),n()("h1.df-title.mg-t-20.mg-b-10","Pasaportes de Pacientes"),n()("div.row.tx-14",[n()("div.col-12.mg-b-10.wd-100p",n()("div.row.mg-t-10",[n()("div.col-sm-12.pd-b-10.mg-b-10",[n()("label.nav-label.tx-semibold","Búsqueda de Pacientes:"),n()("hr")])])),n()("div.table-loader.col-12.wd-100p",{class:ja.showProcess},n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.col-12",{class:"d-none"},[n()("label.nav-label.tx-semibold","Búsquedas Recientes:"),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",n()("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),n()("div.section-nav",[n()("label.nav-label.mg-b-10","Opciones Pacientes"),n()("a.nav-link[href='#section1']","Feather Icons")])]}},Ua=ja,$a={view:function(e){return[n()("p.mg-0",[n()("div.tx-12",1==e.attrs.DIFERENCIA?[n()("span",{class:"badge badge-danger mg-l-5 mg-r-5",title:"Diferencia"},[],"X")]:[],"CAMAS TOTAL"!==e.attrs.TIPO?[n()("span.wd-20p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.TIPO)]:[],null!==e.attrs.NOMBRE_GEMA?[n()("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],"NOMBRE GEMA: "+e.attrs.NOMBRE_GEMA)]:[],n()("span.wd-10p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.HABITACION_GEMA),n()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),e.attrs.NHCL,n()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO GEMA"),e.attrs.ESTADO_GEMA,n()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO MV"),e.attrs.ESTADO_MV,null!==e.attrs.NOMBRE_MV?[n()("span.wd-100p",{class:"badge badge-dark mg-l-5 mg-r-5"},[],"NOMBRE MV: "+e.attrs.NOMBRE_MV)]:[])])]}},Ba={view:function(e){return[n()("p.mg-0",[n()("div.tx-12",n()("span.wd-10p",{class:"badge badge-danger mg-l-5 mg-r-5"},e.attrs.HABITACION_MV),n()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),e.attrs.NHCL,n()("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ATENCION MV"),e.attrs.ATENCION_MV,null!==e.attrs.NOMBRE_MV?[n()("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],e.attrs.NOMBRE_MV)]:[])])]}},Va={error:"",data:[],dataMuestras:[],fetch:function(){Va.error="",Va.data=[],n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-lab",body:{numeroPedido:qa.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Va.data=e.data,qa.data=e.data[0],qa.validarStatus()):Va.error=e.message}).catch(function(e){})}},Ja={tuboLila:1,tuboRojo:1,tuboCeleste:1,tuboNegro:1,tuboVerde:1,gsav:1,hemocultivo:1,qtb:1},za={checkedAll:!1,seleccionarTodos:function(o){za.checkedAll=o;var r=moment().format("DD-MM-YYYY HH:mm");return Va.data.map(function(e,t,a){o?(Va.data[t].STATUS_TOMA=r,Va.data[t].customCheked=!0,za.udpateStatusTomaMuestra(Va.data[t].CD_EXA_LAB,1)):(Va.data[t].STATUS_TOMA="",Va.data[t].customCheked=!1,za.udpateStatusTomaMuestra(Va.data[t].CD_EXA_LAB,2))})},udpateStatusTomaMuestra:function(e,t){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-status-pedido-lab",body:{numeroPedido:qa.numeroPedido,cod_exa_lab:e,sts:t},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),qa.validarStatus()}).catch(function(e){})},view:function(){return Va.error?[n()("p.mg-0",Va.error)]:0!==Va.data.length?[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("div.mg-b-30",n()("i.tx-60.fas.fa-file."+qa.classPedido)),n()("h5.tx-inverse.mg-b-10","Detalle de Pedido N°: "+qa.numeroPedido+" - Status: "+qa.descSstatusPedido),"R"==qa.data.TIPO_PEDIDO?[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],n()("p.mg-5.tx-20.mg-t-10",[n()("i.fas.fa-user.mg-r-8.text-secondary"),qa.data.PTE_MV]),n()("p.mg-5.tx-15",["Fecha Pedido: ",qa.data.FECHA_TOMA]),n()("p.mg-5.tx-15",["Médico: ",qa.data.MED_MV]),n()("p.mg-5.tx-15",["Ubicaciòn: ",qa.data.SECTOR,": ",qa.data.CAMA]),n()("p.mg-5",["Historía Clínica: "]),n()("p.mg-5",[n()("span.badge.badge-primary.mg-r-5.tx-14","GEMA: "+qa.data.HC_MV+"01"),n()("span.badge.badge-success.mg-r-5.tx-14","MV: "+qa.data.HC_MV)]),n()("ul.nav.nav-tabs.mg-t-15[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link.active[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']","Detalle Pedido")),n()("li.nav-item",n()("a.nav-link[id='profile-tab'][data-toggle='tab'][href='#profile'][role='tab'][aria-controls='profile'][aria-selected='false']","Toma de Muestras"))]),n()(".tab-content.bd.bd-gray-300.bd-t-0.pd-20.mg-t-10[id='myTabContent']",[n()(".tab-pane.fade.show.active[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[Va.error?[n()("p.mg-0",Va.error)]:void 0!==Va.data&&0!==Va.data.length?[n()("h6","Detalle Pedido:"),n()("div.table-responsive",n()("table.table.table-dashboard.mg-b-0",[n()("thead",n()("tr",[n()("th","FECHA PROGRAMADA"),n()("th","FECHA TOMA MUESTRA"),n()("th","FECHA RECEP. LAB."),n()("th.text-right","EXAMEN")])),n()("tbody",[Va.data.map(function(e,t,a){return[n()("tr",[n()("td.tx-color-03.tx-normal",e.FECHA_TOMA+" "+e.HORA_TOMA),n()("td.tx-color-03.tx-normal",0!==e.STATUS_TOMA.length?e.STATUS_TOMA:"Pendiente"),n()("td.tx-color-03.tx-normal",0!==e.STATUS_TOMA.length?e.STATUS_TOMA:"Pendiente"),n()("td.tx-medium.text-right",e.NM_EXA_LAB)])]})])]))]:n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])]),n()(".tab-pane.fade[id='profile'][role='tabpanel'][aria-labelledby='profile-tab']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Registro de Toma de Muestras")]),n()("div.table-responsive.mg-b-10.mg-t-10",n()("table.table.table-dashboard.table-hover.mg-b-0",[n()("thead",n()("tr",[n()("th.text-left","EXAMEN"),n()("th","FECHA DE TOMA DE MUESTRA")])),n()("tbody",[n()("tr.d-none",[n()("td.tx-normal",n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:za.checkedAll,onclick:function(e){za.seleccionarTodos(this.checked)}}),n()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),n()("td.tx-medium.text-right")]),Va.data.map(function(t,a,e){return[n()("tr",[n()("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:Va.data[a].customCheked,onupdate:function(e){this.checked=Va.data[a].customCheked},onclick:function(e){e.preventDefault();e=this.checked;Va.data[a].customCheked=!Va.data[a].customCheked,e?(this.checked=!0,Va.data[a].STATUS_TOMA=moment().format("DD-MM-YYYY HH:mm"),za.udpateStatusTomaMuestra(t.CD_EXA_LAB,1)):(this.checked=!1,za.checkedAll=!1,Va.data[a].STATUS_TOMA="",za.udpateStatusTomaMuestra(t.CD_EXA_LAB,2))}}),n()("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",(Va.data[a].STATUS_TOMA.length,Va.data[a].STATUS_TOMA))]))])]})])])),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Registro de Insumos")]),n()("div.table-responsive.mg-b-10.mg-t-10",n()("table.table.table-dashboard.table-hover.mg-b-0",[n()("thead",n()("tr",[n()("th.text-left","INSUMOS"),n()("th.text-left","CANTIDAD")])),n()("tbody",[n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']"),n()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Ja.tuboLila},onupdate:function(e){e.dom.innerText=Ja.tuboLila}})),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboLila++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboLila--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']"),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Ja.tuboRojo},onupdate:function(e){e.dom.innerText=Ja.tuboRojo}})),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboRojo++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboRojo--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']"),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Ja.tuboCeleste},onupdate:function(e){e.dom.innerText=Ja.tuboCeleste}})),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboCeleste++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboCeleste--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']"),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Ja.tuboNegro},onupdate:function(e){e.dom.innerText=Ja.tuboNegro}})),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboNegro++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboNegro--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']"),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Ja.tuboVerde},onupdate:function(e){e.dom.innerText=Ja.tuboVerde}})),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboVerde++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){Ja.tuboVerde--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']"),n()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Ja.gsav},onupdate:function(e){e.dom.innerText=Ja.gsav}})),n()("button.btn.btn[type='button']",{onclick:function(){Ja.gsav++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){Ja.gsav--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']"),n()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Ja.hemocultivo},onupdate:function(e){e.dom.innerText=Ja.hemocultivo}})),n()("button.btn.btn[type='button']",{onclick:function(){Ja.hemocultivo++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){Ja.hemocultivo--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']"),n()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){e.dom.innerText=Ja.qtb},onupdate:function(e){e.dom.innerText=Ja.qtb}})),n()("button.btn.btn[type='button']",{onclick:function(){Ja.qtb++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){Ja.qtb--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])]))])])])]:[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]}},qa={numeroPedido:"",numeroHistoriaClinica:"",track:"",data:[],classPedido:"",descSstatusPedido:"",validarStatus:function(){for(var e=0;e<Va.data.length;e++)0!==Va.data[e].STATUS_TOMA.length&&(Va.data[e].customCheked=!0);for(var t=0,a=0,e=0;e<Va.data.length;e++)0!==Va.data[e].STATUS_RESULTADO.length&&t++,0!==Va.data[e].STATUS_TOMA.length&&a++;Va.data.length!==a&&Va.data.length!==t&&(qa.classPedido="tx-warning",qa.descSstatusPedido="Muestras Pendientes"),Va.data.length==a&&Va.data.length!==t&&(za.checkedAll=!0,qa.classPedido="tx-orange",qa.descSstatusPedido="Pendiente Resultado"),Va.data.length==a&&Va.data.length==t&&(za.checkedAll=!0,qa.classPedido="tx-success",qa.descSstatusPedido="Finalizado - Gestionado")},view:function(){return[n()("div.animated.fadeInUp",{class:0!==Za.showBitacora.length?"":"d-none"},[n()(za)])]}};var Xa={increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(Xa.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=0},toggle:function(e){e.isPaused?Xa.start(e):Xa.stop(e),e.isPaused=!e.isPaused}};function Ga(){var t={interval:null,seconds:89,isPaused:!1};return Xa.start(t),{view:function(){return[n()("div.mg-t-30.mg-b-20",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play",{onclick:function(){Xa.toggle(t)}})]:[n()("i.fas.fa-pause",{onclick:function(){Xa.toggle(t)}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Xa.stop(t)}}}var Za={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,oninit:function(e){Wa(e.attrs)?Za.showBitacora="":(Za.showBitacora="d-none",qa.numeroPedido=e.attrs.numeroPedido),o.page="",Ra.page="",Za.dataPendientesAlta=[],Za.dataCamaTotales=[],Za.camasTotales=0,Za.pendienteAlta=0,d.isAuth("hospitalizacion",17)},oncreate:function(e){document.title="Caja Recepción Turnos | "+d.title,Wa(e.attrs)?($(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-control-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-control-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[3],width:"100%",orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){var t;$(".table-content").show(),$(".table-loader").hide(),e.aoData.map(function(e){Za.dataCamaTotales.push(e._aData),1==e._aData.DIFERENCIA&&Za.camasTotales++,"SIN ALTA EN MV"==e._aData.TIPO&&(Za.pendienteAlta++,Za.dataPendientesAlta.push(e._aData)),"GEMA Y MV"==e._aData.TIPO&&Za.gemaMV++}),n().redraw.sync(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-pendientes-alta").DataTable({data:Za.dataPendientesAlta,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,pageLength:40,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[0],{view:function(){return n()(Ba,e._aData)}})})}}),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-camas-totales").DataTable({data:Za.dataCamaTotales,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,pageLength:20,columns:!1,aoColumnDefs:[{mRender:function(e,t,a){return a.DIFERENCIA},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.TIPO},visible:!1,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.NOMBRE_GEMA},visible:!1,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NOMBRE_MV},visible:!1,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return""},visible:!0,width:"100%",aTargets:[4],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[4],{view:function(){return n()($a,e._aData)}})})}}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()})},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,r){Za.dataPendientesAlta=[],Za.camasTotales=[],Za.camasTotales=0,void(Za.pendienteAlta=0)!==a&&0!==a.delete.length&&(Ka("#table-pendientes-alta",Za.dataPendientesAlta),Ka("#table-camas-totales",Za.camasTotales)),void 0!==a&&0!==a.create.length&&(Ka("#table-pendientes-alta",Za.dataPendientesAlta),Ka("#table-camas-totales",Za.camasTotales)),void 0!==a&&0!==Object.keys(a.update).length&&(Ka("#table-pendientes-alta",Za.dataPendientesAlta),Ka("#table-camas-totales",Za.camasTotales))}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")}),$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-status-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-status-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"N°:"},{title:"ÁREA:"},{title:"COVID:"},{title:"DISPONIBLES:"},{title:"EN LIMPIEZA:"},{title:"OCUPADAS:"},{title:"TOTAL CAMAS:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.AREA},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.COVID},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.DISPONIBLES<5?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+a.DISPONIBLES+"</span></div>":a.DISPONIBLES},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.EN_LIMPIEZA>a.DISPONIBLES?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+a.EN_LIMPIEZA+"</span></div>":a.EN_LIMPIEZA},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return a.OCUPADAS},visible:!0,aTargets:[5],orderable:!1},{mRender:function(e,t,a){return a.TOTAL_CAMAS},visible:!0,aTargets:[6],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){}}).on("xhr.dt",function(e,t,a,o){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(e,t,a,o){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(e,t,a,o){console.log("xhrErr","General XHR Error: "+o)}).on("xhrErrTimeout.liveAjax",function(e,t,a,o){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(e,t,a,o){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(e,t,a,o){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(e,t,a,o){console.log("xhrErrParseerror","(Unknown) XHR Error: "+o)}).on("xhrSkipped.liveAjax",function(e,t,a){console.log("xhrSkipped","XHR Skipped because liveAjax is "+a)}).on("setInterval.liveAjax",function(e,t,a){console.log("setInterval","XHR polling interval set to "+a)}).on("init.liveAjax",function(e,t,a){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(e,t,a){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(e,t,a){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(e,t,a){console.log("setPause","liveAjax XHR polling was "+(!0===a?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(e,t,a,o,r){}).on("noUpdate.liveAjax",function(e,t,a,o){console.log("noUpdate","JSON Processed - Table not updated, no new data")})):Va.fetch()},onupdate:function(e){Wa(e.attrs)?Za.showBitacora="":Za.showBitacora="d-none"},view:function(e){var t=moment().format("DD-MM-YYYY");return Wa(e.attrs)?Za.showBitacora="":Za.showBitacora="d-none",[n()(o,{oncreate:o.setPage("hospitalizacion")}),n()(Ra,{oncreate:Ra.setPage(17)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" Metrovirtual "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/hospitalizacion"},[" Hospitalización "])),n()("li.breadcrumb-item.active[aria-current='page']","Control de Camas GEMA-MV:")]),n()("h1.df-title.mg-t-20.mg-b-10","Control de Camas GEMA-MV:"),n()("p.mg-b-20.tx-14.d-none",{class:null==e.attrs.numeroPedido?"":"d-none"},[n()("i.fas.fa-info-circle.mg-r-5.text-secondary"),"Buscar por apellidos y nombres de paciente, historia clínica y número de pedido."]),n()("div.d-lg-none.d-md-block.mg-t-10.mg-b-10.bg-white",n()("div.col-12.mg-t-30.mg-lg-t-0",n()("div.row",[n()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),n()("span.tx-10.tx-color-04","Hoy, "+t)]),n()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==Za.pendienteAlta?[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=Za.pendienteAlta+" Paciente(s)"},onupdate:function(e){e.dom.innerText=Za.pendienteAlta+" Paciente(s)"}})]]),0==Za.pendienteAlta?[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),n()("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),n()("span.tx-10.tx-color-04","Hoy, "+t)]),n()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==Za.camasTotales?[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=Za.camasTotales+" Paciente(s)"},onupdate:function(e){e.dom.innerText=Za.camasTotales+" Paciente(s)"}})]]),0==Za.camasTotales?[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])]))),n()("div.row.animated.fadeInUp",{class:Za.showBitacora},[n()("div.col-12",[n()("div.table-loader.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()(Ga),n()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[n()("h5.mg-b-0","Camas Disponibles GEMA: ")]),n()("table.table.table-xs.mg-b-10[id='table-status-camas'][width='100%']"),n()("table.table.table-xs.d-none[id='table-control-camas'][width='100%']"),n()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[n()("h5.mg-b-0.mg-t-15","Pendientes de Alta MV: "),n()("div.tx-15.d-none",[n()("a.link-03.lh-0[href='']",n()("i.icon.ion-md-refresh")," Actualizar")])]),n()("table.table.table-xs[id='table-pendientes-alta'][width='100%']"),n()("div.mg-b-10.d-flex.align-items-center.justify-content-between",[n()("h5.mg-b-0","Estado de Camas: ")]),n()("div.mg-b-5.d-flex",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']")),n()("table.table.table-xs[id='table-camas-totales'][width='100%']")])])]),n()(qa)])),n()("div.section-nav",[n()("label.nav-label","Control de Camas"),n()("div.mg-t-10.bg-white",n()("div.col-12.mg-t-30.mg-lg-t-0",n()("div.row",[n()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),n()("span.tx-10.tx-color-04","Hoy, "+t)]),n()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==Za.pendienteAlta?[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=Za.pendienteAlta+" Paciente(s)"},onupdate:function(e){e.dom.innerText=Za.pendienteAlta+" Paciente(s)"}})]]),0==Za.pendienteAlta?[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),n()("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),n()("span.tx-10.tx-color-04","Hoy, "+t)]),n()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==Za.camasTotales?[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=Za.camasTotales+" Paciente(s)"},onupdate:function(e){e.dom.innerText=Za.camasTotales+" Paciente(s)"}})]]),0==Za.camasTotales?[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),n()("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","GEMA Y MV"),n()("span.tx-10.tx-color-04","Hoy, "+t)]),n()("div.d-flex.align-items-end.justify-content-between.mg-b-5",[0==Za.gemaMV?[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[n()("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:function(e){e.dom.innerText=Za.gemaMV+" Paciente(s)"},onupdate:function(e){e.dom.innerText=Za.gemaMV+" Paciente(s)"}})]]),0==Za.gemaMV?[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])])))])]}};function Ka(e,t){e=$(e).DataTable();e.clear(),e.rows.add(t).draw()}function Wa(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}var Qa=Za,eo={data:[],fetch:function(){eo.data=[];for(var e=0;e<to.dataFiltros.length;e++)to.dataFiltros[e].id==to.idFiltro&&(eo.data=to.dataFiltros[e])},view:function(){return 0!==to.showBitacora.length&&0!==eo.data.length?[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){to.showBitacora="",eo.data=[],n().route.set("/laboratorio/notificaciones/filtros",{})}}))),n()("div.mg-b-30",n()("i.tx-40.fas.fa-filter.")),n()("p.mg-5.tx-right",[n()("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:function(){}},n()("i.fas.fa-edit.mg-r-5")," Editar "),n()("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:function(){}},n()("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),n()("h5.tx-inverse.mg-b-10","Filtro: "+eo.data.nombre),0==eo.data.ene?[n()("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[n()("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],null!==eo.data.x_servicio?[n()("h5.tx-inverse.mg-b-10","Por Servicio: "+eo.data.x_servicio)]:[],null!==eo.data.x_origen?[n()("h5.tx-inverse.mg-b-10","Por Origen: "+eo.data.x_origen)]:[],null!==eo.data.x_motivo?[n()("h5.tx-inverse.mg-b-10","Por Motivo: "+eo.data.x_motivo)]:[],null!==eo.data.x_especialidad?[n()("h5.tx-inverse.mg-b-10","Por Especialidad: "+eo.data.x_especialidad)]:[],null!==eo.data.x_medico?[n()("h5.tx-inverse.mg-b-10","Por Médico: "+eo.data.x_medico)]:[],null!==eo.data.x_idprueba?[n()("h5.tx-inverse.mg-b-10","Por Id Prueba: "+eo.data.x_idprueba)]:[]])]:0!==to.showBitacora.length?[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]:void 0}},to={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",searchField:"",fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=filtradas"}).then(function(e){var t;to.dataFiltros=e.data,$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",t=$("#table-NotificacionesPendientesLab").DataTable({data:to.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N°:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.sc},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return a.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.apellidosPaciente+" "+a.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){$(".table-content").show(),$(".table-loader").hide()}}),$(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()})}).catch(function(e){})},oninit:function(e){o.page="",r.page="",to.dataPendientesAlta=[],to.dataCamaTotales=[],to.camasTotales=0,to.pendienteAlta=0,d.isAuth("laboratorio",15)},oncreate:function(e){document.title="Notificaciones Enviadas | "+d.title,to.fetch()},view:function(e){return void 0!==e.attrs&&void 0!==e.attrs.idFiltro?(to.idFiltro=e.attrs.idFiltro,to.showBitacora="d-none",eo.fetch(),console.log(eo.data)):(to.idFiltro="",to.showBitacora=""),[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",{style:{"margin-right":"0px"}},n()("div.container",{style:{"max-width":"none"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones Pendientes")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones Pendientes:"),n()("div.row.animated.fadeInUp",{class:to.showBitacora},[n()("div.col-12",[n()("div.filemgr-content-header.",[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),n()("div.mg-t-90.table-loader.wd-100p",n()("div.placeholder-paragraph.",[n()("div.line"),n()("div.line")])),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[n()("table.table.table-sm.tx-12[id='table-NotificacionesPendientesLab'][width='100%']")])])]),n()(eo)]))]}};var ao=to;var oo={oncreate:function(){g.loadNotificacionesErroresLab(),0!==g.searchField.length&&$("#table-NotificacionesErroresLab").DataTable().search(g.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Notificaciones con Error:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==g.idFiltro&&(e.dom.innerHTML="Notificaciones con Error de Hoy"),2==g.idFiltro&&(e.dom.innerHTML="Notificaciones con Error entre Fechas")},onupdate:function(e){1==g.idFiltro&&(e.dom.innerHTML="Notificaciones con Error de Hoy"),2==g.idFiltro&&(e.dom.innerHTML="Notificaciones con Error entre Fechas")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==g.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==g.idFiltro?moment(moment(g.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){g.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),g.loader=!0,g.NotificacionesErroresLab=[],g.fetchNotificacionesErroresLab(),n().route.set("/imagen/NotificacionesErroresLab?idFiltro="+g.idFiltro+"&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==g.idFiltro?moment(moment(g.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){g.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),g.loader=!0,g.NotificacionesErroresLab=[],g.fetchNotificacionesErroresLab(),n().route.set("/imagen/NotificacionesErroresLab?idFiltro="+g.idFiltro+"&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesErroresLab/?idFiltro=1"},["Notificaciones de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesErroresLab/?idFiltro=2&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta},["Notificaciones entre Fechas"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==g.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){g.searchField=e.target.value},value:g.searchField}))]),n()("table.table.table-sm.tx-11[id='table-NotificacionesErroresLab'][width='100%']")])])])}},g={notificaciones:[],NotificacionesErroresLab:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){r.page="",0==g.NotificacionesErroresLab.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),g.fechaDesde=moment().subtract(2,"days").format("DD-MM-YYYY"),g.fechaHasta=moment().format("DD-MM-YYYY"),g.loader=!0,g.NotificacionesErroresLab=[],g.fetchNotificacionesErroresLab())},oncreate:function(e){Te.suscribirCanal("MetroPlus-NotificacionesErroresLab")},loadNotificacionesErroresLab:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesErroresLab").DataTable({data:g.NotificacionesErroresLab,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Pedido N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.wd-5p",{class:"bg-primary",title:t.origen},[n()("span.badge.badge-pill.badge-primary.mg-b-1","R")]),n()("td.wd-15p",n()(".d-inline.mg-r-5",t.fechaExamen+" "+t.horaExamen)),n()("td.tx-center",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.sc)),n()("td",{style:{}},[n()(".d-inline.mg-r-5.tx-uppercase",t.origen),n()("br"),"PTE: "+t.apellidosPaciente+" "+t.nombresPaciente]),n()("td","MED: "+t.medico),n()("td.tx-center.tx-15",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},n()(n().route.Link,{href:t.urlfile,class:"tx-dark",target:"_blank"},[" Ver Log "]))]}})},drawCallback:function(e){g.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchNotificacionesErroresLab:function(){var e="",e=1==g.idFiltro?"&idFiltro="+g.idFiltro:"&idFiltro="+g.idFiltro+"&fechaDesde="+g.fechaDesde+"&fechaHasta="+g.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=errorEnviadas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){g.loader=!1,g.NotificacionesErroresLab=e.data}).catch(function(e){setTimeout(function(){g.fetchNotificacionesErroresLab()},2e3)})},reloadData:function(){var e=$("#table-NotificacionesErroresLab").DataTable();e.clear(),e.rows.add(g.NotificacionesErroresLab).draw()},view:function(e){return g.loader?[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==g.error.length?[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:g.loader||0===g.NotificacionesErroresLab.length?g.loader||0!=g.NotificacionesErroresLab.length?[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(15)}),n()("div.content.content-components",n()("div.container",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error"),n()(oo)]))]}},ro=g,io=Jn(360),no={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess["terapia-respiratoria"].map(function(e,t,a){return[io(io.route.Link,{href:"/"+e.href,class:so.page==e.idModulo?"active":""},[e.label])]})]}},so={page:"",setPage:function(e){so.page=e},view:function(){return[io(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[io("div.sidebar-header",[io("a[href=''][id='mainMenuOpen']",io("i[data-feather='menu']")),io("h5","Menu"),io("a[href=''][id='sidebarMenuClose']",io("i[data-feather='x']"))]),io("div.sidebar-body",io("ul.sidebar-nav",[io("li.nav-label.mg-b-15","Terapia Respiratoria"),io("li.nav-item.show",[io(io.route.Link,{href:"/terapia-respiratoria",class:"nav-link with-sub"},[io("i[data-feather='layout']")," Terapia Respiratoria "]),io("nav.nav",[io(no)])])]))])]}},lo=so;var co={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(co.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?co.start(e):co.stop(e),e.isPaused=!e.isPaused}};function uo(){var t={interval:null,seconds:100,isPaused:!1};return co.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){co.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){co.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){co.stop(t)}}}var mo={oncreate:function(){h.loadPedidos(),0!==h.searchField.length&&$("#table-pedidos").DataTable().search(h.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Pedidos de Terapia Respiratoria:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==h.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==h.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==h.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==h.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==h.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==h.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==h.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==h.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==h.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==h.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==h.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==h.idFiltro?moment(moment(h.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){h.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),h.loader=!0,h.pedidos=[],h.fetchPedidos(),n().route.set("/terapia-respiratoria/pedidos?idFiltro="+h.idFiltro+"&fechaDesde="+h.fechaDesde+"&fechaHasta="+h.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==h.idFiltro?moment(moment(h.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){h.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),h.loader=!0,h.pedidos=[],h.fetchPedidos(),n().route.set("/terapia-respiratoria/pedidos?idFiltro="+h.idFiltro+"&fechaDesde="+h.fechaDesde+"&fechaHasta="+h.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+h.fechaDesde+"&fechaHasta="+h.fechaHasta},["Pedidos entre Fechas"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+h.fechaDesde+"&fechaHasta="+h.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+h.fechaDesde+"&fechaHasta="+h.fechaHasta},["Pedidos de C. Externa"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+h.fechaDesde+"&fechaHasta="+h.fechaHasta},["Pedidos de Hospitalización"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==h.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){h.searchField=e.target.value},value:h.searchField}))]),n()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},h={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){lo.page="",0==h.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),h.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),h.fechaHasta=moment().format("DD-MM-YYYY"),h.loader=!0,h.pedidos=[],h.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Terapia-Respiratoria")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:h.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){h.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),n().mount(e.anCells[5],{view:function(){return[n()("div.d-flex",{},[n()("div.pd-0.flex-grow-1",n()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},n()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),n()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),n()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),n()(".tx-semibold.d-inline.tx-12"," SECTOR: "),n()(".d-inline.tx-12.mg-r-5",null!==e._aData.SECTOR?e._aData.SECTOR+" "+e._aData.UBICACION:"No Disponible"),n()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),n()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),n()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA+".")]),n()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[n()("div.pd-0.flex-grow-1",n()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),n()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},n()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){n().route.set("/terapia-respiratoria/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},n()(".tx-normal",n()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==h.idFiltro?"?idFiltro="+h.idFiltro:"?idFiltro="+h.idFiltro+"&fechaDesde="+h.fechaDesde+"&fechaHasta="+h.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/terapia-respiratoria/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){h.loader=!1,h.pedidos=e.data}).catch(function(e){setTimeout(function(){h.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(h.pedidos).draw()},view:function(e){return h.loader?[n()(lo,{oncreate:lo.setPage(18)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==h.error.length?[n()(lo,{oncreate:lo.setPage(18)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:h.loader||0===h.pedidos.length?h.loader||0!=h.pedidos.length?[n()(lo,{oncreate:lo.setPage(18)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(lo,{oncreate:lo.setPage(18)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(lo,{oncreate:lo.setPage(18)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()(mo)])),n()("div.section-nav",[n()("label.nav-label","RECEPCIÓN DE PedidosTR"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","N° de PedidosTR:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",h.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(uo)))])]}},po=h;var bo=Jn(360),fo={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.neurofisiologia.map(function(e,t,a){return[bo(bo.route.Link,{href:"/"+e.href,class:go.page==e.idModulo?"active":""},[e.label])]})]}},go={page:"",setPage:function(e){go.page=e},view:function(){return[bo(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[bo("div.sidebar-header",[bo("a[href=''][id='mainMenuOpen']",bo("i[data-feather='menu']")),bo("h5","Menu"),bo("a[href=''][id='sidebarMenuClose']",bo("i[data-feather='x']"))]),bo("div.sidebar-body",bo("ul.sidebar-nav",[bo("li.nav-label.mg-b-15","Neurofisiología"),bo("li.nav-item.show",[bo(bo.route.Link,{href:"/neurofisiologia",class:"nav-link with-sub"},[bo("i[data-feather='layout']")," Neurofisiología "]),bo("nav.nav",[bo(fo)])])]))])]}},ho=go;var vo={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(vo.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?vo.start(e):vo.stop(e),e.isPaused=!e.isPaused}};function xo(){var t={interval:null,seconds:100,isPaused:!1};return vo.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){vo.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){vo.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){vo.stop(t)}}}var _o={oncreate:function(){v.loadPedidos(),0!==v.searchField.length&&$("#table-pedidos").DataTable().search(v.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Pedidos de Neurofisiología:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==v.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==v.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==v.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==v.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==v.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==v.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==v.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==v.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==v.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==v.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==v.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==v.idFiltro?moment(moment(v.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){v.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),v.loader=!0,v.pedidos=[],v.fetchPedidos(),n().route.set("/neurofisiologia/pedidos?idFiltro="+v.idFiltro+"&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==v.idFiltro?moment(moment(v.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){v.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),v.loader=!0,v.pedidos=[],v.fetchPedidos(),n().route.set("/neurofisiologia/pedidos?idFiltro="+v.idFiltro+"&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=2&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta},["Pedidos entre Fechas"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=3&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=4&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta},["Pedidos de C. Externa"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=5&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta},["Pedidos de Hospitalización"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==v.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){v.searchField=e.target.value},value:v.searchField}))]),n()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},v={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){ho.page="",0==v.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),v.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),v.fechaHasta=moment().format("DD-MM-YYYY"),v.loader=!0,v.pedidos=[],v.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Imagen")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:v.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){v.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),n().mount(e.anCells[5],{view:function(){return[n()("div.d-flex",{},[n()("div.pd-0.flex-grow-1",n()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},n()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),n()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),n()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),n()(".tx-semibold.d-inline.tx-12"," SECTOR: "),n()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),n()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),n()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),n()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),n()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[n()("div.pd-0.flex-grow-1",n()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),n()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},n()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){n().route.set("/neurofisiologia/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},n()(".tx-normal",n()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==v.idFiltro?"?idFiltro="+v.idFiltro:"?idFiltro="+v.idFiltro+"&fechaDesde="+v.fechaDesde+"&fechaHasta="+v.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/neuro/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){v.loader=!1,v.pedidos=e.data}).catch(function(e){setTimeout(function(){v.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(v.pedidos).draw()},view:function(e){return v.loader?[n()(ho,{oncreate:ho.setPage(20)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==v.error.length?[n()(ho,{oncreate:ho.setPage(20)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:v.loader||0===v.pedidos.length?v.loader||0!=v.pedidos.length?[n()(ho,{oncreate:ho.setPage(20)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(ho,{oncreate:ho.setPage(20)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(ho,{oncreate:ho.setPage(20)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/neurofisiologia"},[" Neurofisiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()(_o)])),n()("div.section-nav",[n()("label.nav-label","Recepción de Pedidos"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","N° de NeuroPedidos:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",v.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(xo)))])]}},yo=v,wo=Jn(360),Mo={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.imagen.map(function(e,t,a){return[wo(wo.route.Link,{href:"/"+e.href,class:Do.page==e.idModulo?"active":""},[e.label])]})]}},Do={page:"",setPage:function(e){Do.page=e},view:function(){return[wo(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[wo("div.sidebar-header",[wo("a[href=''][id='mainMenuOpen']",wo("i[data-feather='menu']")),wo("h5","Menu"),wo("a[href=''][id='sidebarMenuClose']",wo("i[data-feather='x']"))]),wo("div.sidebar-body",wo("ul.sidebar-nav",[wo("li.nav-label.mg-b-15","Imagen"),wo("li.nav-item.show",[wo(wo.route.Link,{href:"/imagen",class:"nav-link with-sub"},[wo("i[data-feather='layout']")," Imagen "]),wo("nav.nav",[wo(Mo)])])]))])]}},Po=Do;var ko={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(ko.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?ko.start(e):ko.stop(e),e.isPaused=!e.isPaused}};function Eo(){var t={interval:null,seconds:100,isPaused:!1};return ko.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){ko.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){ko.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){ko.stop(t)}}}var To={oncreate:function(){x.loadPedidos(),0!==x.searchField.length&&$("#table-pedidos").DataTable().search(x.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Pedidos de Imagen:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==x.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==x.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==x.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==x.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==x.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==x.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==x.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==x.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==x.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==x.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==x.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==x.idFiltro?moment(moment(x.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){x.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),x.loader=!0,x.pedidos=[],x.fetchPedidos(),n().route.set("/imagen/pedidos?idFiltro="+x.idFiltro+"&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==x.idFiltro?moment(moment(x.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){x.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),x.loader=!0,x.pedidos=[],x.fetchPedidos(),n().route.set("/imagen/pedidos?idFiltro="+x.idFiltro+"&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta},["Pedidos entre Fechas"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta},["Pedidos de C. Externa"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta},["Pedidos de Hospitalización"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==x.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){x.searchField=e.target.value},value:x.searchField}))]),n()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},x={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Po.page="",0==x.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),x.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),x.fechaHasta=moment().format("DD-MM-YYYY"),x.loader=!0,x.pedidos=[],x.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Imagen")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:x.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){x.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),n().mount(e.anCells[5],{view:function(){return[n()("div.d-flex",{},[n()("div.pd-0.flex-grow-1",n()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},n()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),n()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),n()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),n()(".tx-semibold.d-inline.tx-12"," SECTOR: "),n()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),n()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),n()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),n()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),n()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[n()("div.pd-0.flex-grow-1",n()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),n()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},n()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){n().route.set("/imagen/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},n()(".tx-normal",n()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==x.idFiltro?"?idFiltro="+x.idFiltro:"?idFiltro="+x.idFiltro+"&fechaDesde="+x.fechaDesde+"&fechaHasta="+x.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/imagen/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){x.loader=!1,x.pedidos=e.data}).catch(function(e){setTimeout(function(){x.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(x.pedidos).draw()},view:function(e){return x.loader?[n()(Po,{oncreate:Po.setPage(24)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==x.error.length?[n()(Po,{oncreate:Po.setPage(24)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:x.loader||0===x.pedidos.length?x.loader||0!=x.pedidos.length?[n()(Po,{oncreate:Po.setPage(24)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(Po,{oncreate:Po.setPage(24)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(Po,{oncreate:Po.setPage(24)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()(To)])),n()("div.section-nav",[n()("label.nav-label","RECEPCIÓN DE PEDIDOS"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","N° de Pedidos:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",x.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(Eo)))])]}},Ao=x,So={secs:[],nombres:"",show:!1,view:function(){var o="",r="",i="";return 0==Co.num&&setTimeout(function(){Co.num=Co.data.length,Co.parseFetch(),n().redraw.sync()},2e3),0==So.secs.length?[n()("div.pd-10.wd-100p",n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Co.data.length+" formulario(s) encontrado(s)..."}}),n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]:[So.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(r=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(i="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Co.data.length+" formulario(s) encontrado(s)."}}),n()("table.table.table-bordered.wd-100p",{style:{zoom:Co.zoom}},[n()("thead",[n()("tr",n()("th[colspan='12'][scope='col']",[n()("i.tx-light.fas.fa-file-alt.mg-r-2."),n()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),n()("tr",[n()("th[colspan='10'][scope='col']",n()("div.m-0.p-0",n()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),n()("th.tx-right[colspan='2'][scope='col']",n()("a.tx-right.tx-semibold",{href:i,target:"_blank"},n()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),n()("tbody",[n()("tr",[n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ESTABLECIMIENTO")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NOMBRE")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","APELLIDO")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","SEXO (M-F)")),n()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NHCL.")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ADM."))]),n()("tr",[n()("th.text-center[colspan='3'][scope='row']",n()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",So.nombres)),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",So.apellidos_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",So.sexo)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",So.nhcl)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",So.numero_admision))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","EDAD")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),n()("tr",[n()("td.text-center[colspan='1'][scope='row']",n()("div.m-0.p-0.text-center",So.edad||So.edad_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",So.identificacion)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",So.fecha_admision)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",So.fecha_admision)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",So.ubicacion)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",So.medico_tratante))]),n()("tr",[n()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),n()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",n()("br"),"CADA PRESCRIPCIÓN"]))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FECHA",n()("br"),"día/mes/año"])),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","HORA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",n()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),n()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",n()("br"),"FÁRMACOS INSUMOS"]))]),n()("tr",[n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?n().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.text-justify",null!==r&&0!==r.length?n().trust(r.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Co={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){So.secs.push(o.data[e])}),So.secs.map(function(e,t,a){"nombres"==e.name&&(So.nombres=e.answer),"apellidos_paciente"==e.name&&(So.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(So.sexo=e.answer),"nhcl"==e.name&&(So.nhcl=e.answer),"numero_admision"==e.name&&(So.numero_admision=e.answer),"edad"==e.name&&(So.edad=e.answer),"edad_paciente"==e.name&&(So.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(So.identificacion=e.answer),"fecha_admision"==e.name&&(So.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(So.ubicacion=e.answer),"fecha_alta"==e.name&&(So.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(So.medico_tratante=e.answer)})},parseFetch:function(){return So.secs=[],Co.data.map(function(e,t,a){Co.parseDoc(Co.data[t])})},fetch:function(){Co.data=[],Co.error="",n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Co.nhc+"&adm="+Co.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Co.data=e,Co.num=0):Co.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Co.fetch()},5e3)})},view:function(){return Co.error?[n()(".alert.alert-danger[role='alert']",Co.error)]:0!==Co.data.length?[n()(So)]:[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Io={data:[],detalle:[],error:"",showFor:"",fetch:function(){Io.data=[],Io.error="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:No.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Io.data=e.data,Co.adm=Io.data[0].ADM,Co.nhc=Io.data[0].NHCL,Co.fetch()):Io.error=e.message}).catch(function(e){setTimeout(function(){Io.fetch()},5e3)})},view:function(){return Io.error?[n()(".alert.alert-danger[role='alert']",Io.error)]:0!==Io.data.length?[n()(Co)]:[n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Fo={view:function(){if(0!==No.examenes.length)return No.examenes.map(function(e,t,a){return[n()(".tx-14.tx-semibold.d-inline",e.EXAMEN),null!==e.OBS_EXAMEN?[n()("br"),n()(".d-inline","Observaciones:"),n()("br"),n()(".d-inline",e.OBS_EXAMEN),n()("br"),n()("br")]:""]})}},No={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==No.data&&0==No.data.length||No.numeroPedido!==e.attrs.numeroPedido)&&(No.numeroPedido=e.attrs.numeroPedido,No.numeroAtencion=e.attrs.numeroAtencion,No.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,No.fetch()))},fetch:function(){No.data=[],No.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-imagen",body:{numeroPedido:No.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(No.loader=!1,No.data=e.data,No.examenes=e.examenes,Io.fetch()):No.error=e.message}).catch(function(e){})},view:function(e){return[n()(o,{oncreate:o.setPage("imagen")}),n()(Po,{oncreate:Po.setPage(24)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+No.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){No.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){No.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){No.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){No.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==Ao.idFiltro&&1<Ao.idFiltro?n().route.set("/imagen/pedidos/",{idFiltro:Ao.idFiltro,fechaDesde:Ao.fechaDesde,fechaHasta:Ao.fechaHasta}):n().route.set("/imagen/pedidos/",{idFiltro:1})}}))),"R"==No.data.TIPO_PEDIDO?[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),n()("td",{style:{"background-color":"#eaeff5"}},No.data.CD_PRE_MED),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},No.data.FECHA_PEDIDO+" "+No.data.HORA_PEDIDO),n()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},No.data.SECTOR)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},No.data.MED_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},No.data.ESPECIALIDAD)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},No.data.NM_PACIENTE),n()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),n()("td",{style:{"background-color":"#eaeff5"}},No.data.EDAD),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},No.data.CD_PACIENTE)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),n()("td",{style:{"background-color":"#eaeff5"}},No.data.AT_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),n()("td",{style:{"background-color":"#eaeff5"}},No.data.PESO+"Kg."),n()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),n()("td",{style:{"background-color":"#eaeff5"}},No.data.ALTURA+"m."),n()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},No.data.SECTOR+" "+No.data.UBICACION)]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},n()(Fo))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(Io)])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}},Lo=No,Ro=Jn(360),Oo={view:function(){return[Ro("div.content.content-components",Ro("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[Ro("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Ro("li.breadcrumb-item",Ro(Ro.route.Link,{href:"/"},["MetroPlus"])),Ro("li.breadcrumb-item.active[aria-current='page']","Imagen")]),Ro("h1.df-title.mg-t-20.mg-b-10","Imagen:"),Ro("div.row.tx-14",[d.isShow("imagen",24)?[Ro("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Ro.route.set("/imagen/pedidos")}},[Ro("div",{class:"media"},[Ro("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Ro("i",{class:"fas fa-inbox tx-30 tx-white"})),Ro("div",{class:"media-body mg-l-15"},[Ro("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),Ro("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[],d.isShow("imagen",31)?[Ro("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Ro.route.set("/imagen/agendamiento")}},[Ro("div",{class:"media"},[Ro("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Ro("i",{class:"fas fa-calendar tx-30 tx-white"})),Ro("div",{class:"media-body mg-l-15"},[Ro("p",{class:"tx-18 mg-b-0"},"Agendamiento de Imagen"),Ro("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Agendamiento de Imagen")])])])]:[],d.isShow("imagen",35)?[Ro("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Ro.route.set("/imagen/notificaciones")}},[Ro("div",{class:"media"},[Ro("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Ro("i",{class:"fas fa-bell tx-30 tx-white"})),Ro("div",{class:"media-body mg-l-15"},[Ro("p",{class:"tx-18 mg-b-0"},"Notificaciones de Imagen"),Ro("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Imagen")])])])]:[]])]))]}},Ho={oninit:function(){o.page="",Po.page="",d.isAuth()},oncreate:function(){document.title="Imagen | "+d.title},view:function(){return[Ro(o,{oncreate:o.setPage("imagen")}),Ro(Po),Ro(Oo)]}},Yo=Jn(360),jo={view:function(){return[Yo("div.content.content-components",Yo("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[Yo("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Yo("li.breadcrumb-item",Yo(Yo.route.Link,{href:"/"},["MetroPlus"])),Yo("li.breadcrumb-item.active[aria-current='page']","Neurofisiología")]),Yo("h1.df-title.mg-t-20.mg-b-10","Neurofisiología:"),Yo("div.row.tx-14",[d.isShow("neurofisiologia",20)?[Yo("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Yo.route.set("/neurofisiologia/pedidos")}},[Yo("div",{class:"media"},[Yo("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Yo("i",{class:"fas fa-inbox tx-30 tx-white"})),Yo("div",{class:"media-body mg-l-15"},[Yo("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),Yo("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},Uo={oninit:function(){o.page="",ho.page="",d.isAuth()},oncreate:function(){document.title="Neurofisiología | "+d.title},view:function(){return[Yo(o,{oncreate:o.setPage("neurofisiologia")}),Yo(ho),Yo(jo)]}},$o={secs:[],nombres:"",show:!1,view:function(){var o="",r="",i="";return 0==Bo.num&&setTimeout(function(){Bo.num=Bo.data.length,Bo.parseFetch(),n().redraw.sync()},2e3),0==$o.secs.length?[n()("div.pd-10.wd-100p",n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Bo.data.length+" formulario(s) encontrado(s)..."}}),n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]:[$o.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(r=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(i="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Bo.data.length+" formulario(s) encontrado(s)."}}),n()("table.table.table-bordered.wd-100p",{style:{zoom:Bo.zoom}},[n()("thead",[n()("tr",n()("th[colspan='12'][scope='col']",[n()("i.tx-light.fas.fa-file-alt.mg-r-2."),n()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),n()("tr",[n()("th[colspan='10'][scope='col']",n()("div.m-0.p-0",n()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),n()("th.tx-right[colspan='2'][scope='col']",n()("a.tx-right.tx-semibold",{href:i,target:"_blank"},n()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),n()("tbody",[n()("tr",[n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ESTABLECIMIENTO")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NOMBRE")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","APELLIDO")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","SEXO (M-F)")),n()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NHCL.")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ADM."))]),n()("tr",[n()("th.text-center[colspan='3'][scope='row']",n()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",$o.nombres)),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",$o.apellidos_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",$o.sexo)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",$o.nhcl)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",$o.numero_admision))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","EDAD")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),n()("tr",[n()("td.text-center[colspan='1'][scope='row']",n()("div.m-0.p-0.text-center",$o.edad||$o.edad_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",$o.identificacion)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",$o.fecha_admision)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",$o.fecha_admision)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",$o.ubicacion)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",$o.medico_tratante))]),n()("tr",[n()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),n()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",n()("br"),"CADA PRESCRIPCIÓN"]))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FECHA",n()("br"),"día/mes/año"])),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","HORA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",n()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),n()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",n()("br"),"FÁRMACOS INSUMOS"]))]),n()("tr",[n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?n().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.text-justify",null!==r&&0!==r.length?n().trust(r.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Bo={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){$o.secs.push(o.data[e])}),$o.secs.map(function(e,t,a){"nombres"==e.name&&($o.nombres=e.answer),"apellidos_paciente"==e.name&&($o.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&($o.sexo=e.answer),"nhcl"==e.name&&($o.nhcl=e.answer),"numero_admision"==e.name&&($o.numero_admision=e.answer),"edad"==e.name&&($o.edad=e.answer),"edad_paciente"==e.name&&($o.edad_paciente=e.answer),"identificacion_paciente"==e.name&&($o.identificacion=e.answer),"fecha_admision"==e.name&&($o.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&($o.ubicacion=e.answer),"fecha_alta"==e.name&&($o.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&($o.medico_tratante=e.answer)})},parseFetch:function(){return $o.secs=[],Bo.data.map(function(e,t,a){Bo.parseDoc(Bo.data[t])})},fetch:function(){Bo.data=[],Bo.error="",n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Bo.nhc+"&adm="+Bo.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Bo.data=e,Bo.num=0):Bo.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Bo.fetch()},5e3)})},view:function(){return Bo.error?[n()(".alert.alert-danger[role='alert']",Bo.error)]:0!==Bo.data.length?[n()($o)]:[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Vo={data:[],detalle:[],error:"",showFor:"",fetch:function(){Vo.data=[],Vo.error="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:zo.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Vo.data=e.data,Bo.adm=Vo.data[0].ADM,Bo.nhc=Vo.data[0].NHCL,Bo.fetch()):Vo.error=e.message}).catch(function(e){setTimeout(function(){Vo.fetch()},5e3)})},view:function(){return Vo.error?[n()(".alert.alert-danger[role='alert']",Vo.error)]:0!==Vo.data.length?[n()(Bo)]:[n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Jo={view:function(){if(0!==zo.examenes.length)return zo.examenes.map(function(e,t,a){return[n()(".tx-14.tx-semibold.d-inline",e.EXAMEN),n()("br"),null!==e.OBS_EXAMEN?n()(".d-inline","Observaciones:"):"",null!==e.OBS_EXAMEN?n()("br"):"",null!==e.OBS_EXAMEN?n()(".d-inline",e.OBS_EXAMEN):""]})}},zo={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==zo.data&&0==zo.data.length||zo.numeroPedido!==e.attrs.numeroPedido)&&(zo.numeroPedido=e.attrs.numeroPedido,zo.numeroAtencion=e.attrs.numeroAtencion,zo.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,zo.fetch()))},fetch:function(){zo.data=[],zo.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-neuro",body:{numeroPedido:zo.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(zo.loader=!1,zo.data=e.data,zo.examenes=e.examenes,Vo.fetch()):zo.error=e.message}).catch(function(e){})},view:function(e){return[n()(o,{oncreate:o.setPage("neurofisiologia")}),n()(ho,{oncreate:ho.setPage(20)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/neurofisiologia"},["Neurofisiología"])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+zo.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){zo.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){zo.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){zo.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){zo.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==yo.idFiltro&&1<yo.idFiltro?n().route.set("/neurofisiologia/pedidos/",{idFiltro:yo.idFiltro,fechaDesde:yo.fechaDesde,fechaHasta:yo.fechaHasta}):n().route.set("/neurofisiologia/pedidos/",{idFiltro:1})}}))),"N"==zo.data.TIPO_NeuroPedido?[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[n()("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Urgente")]:[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Normal")],n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL NeuroPedido:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de NeuroPedido:"),n()("td",{style:{"background-color":"#eaeff5"}},zo.data.CD_PRE_MED),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},zo.data.FECHA_PEDIDO+" "+zo.data.HORA_PEDIDO),n()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},zo.data.SECTOR)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},zo.data.MED_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},zo.data.ESPECIALIDAD)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},zo.data.NM_PACIENTE),n()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),n()("td",{style:{"background-color":"#eaeff5"}},zo.data.EDAD),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},zo.data.CD_PACIENTE)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),n()("td",{style:{"background-color":"#eaeff5"}},zo.data.AT_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),n()("td",{style:{"background-color":"#eaeff5"}},zo.data.PESO),n()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),n()("td",{style:{"background-color":"#eaeff5"}},zo.data.ALTURA),n()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},zo.data.SECTOR+" "+zo.data.UBICACION)]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},n()(Jo))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(Vo)])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}},qo=zo,Xo=Jn(360),Go={view:function(){return[Xo("div.content.content-components",Xo("div.container",{style:{"max-width":"100%"}},[Xo("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Xo("li.breadcrumb-item",Xo(Xo.route.Link,{href:"/"},["MetroPlus"])),Xo("li.breadcrumb-item.active[aria-current='page']","Terapia Respiratoria")]),Xo("h1.df-title.mg-t-20.mg-b-10","Terapia Respiratoria:"),Xo("div.row.tx-14",[d.isShow("terapia-respiratoria",18)?[Xo("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Xo.route.set("/terapia-respiratoria/pedidos")}},[Xo("div",{class:"media"},[Xo("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Xo("i",{class:"fas fa-inbox tx-30 tx-white"})),Xo("div",{class:"media-body mg-l-15"},[Xo("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),Xo("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},Zo={oninit:function(){o.page="",lo.page="",d.isAuth()},oncreate:function(){document.title="Terapia Respiratoria | "+d.title},view:function(){return[Xo(o,{oncreate:o.setPage("terapia-respiratoria")}),Xo(lo),Xo(Go)]}},Ko={secs:[],nombres:"",show:!1,view:function(){var o="",r="",i="";return 0==Wo.num&&setTimeout(function(){Wo.num=Wo.data.length,Wo.parseFetch(),n().redraw.sync()},2e3),0==Ko.secs.length?[n()("div.pd-10.wd-100p",n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+Wo.data.length+" formulario(s) encontrado(s)..."}}),n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]:[Ko.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(r=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(i="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=Wo.data.length+" formulario(s) encontrado(s)."}}),n()("table.table.table-bordered.wd-100p",{style:{zoom:Wo.zoom}},[n()("thead",[n()("tr",n()("th[colspan='12'][scope='col']",[n()("i.tx-light.fas.fa-file-alt.mg-r-2."),n()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),n()("tr",[n()("th[colspan='10'][scope='col']",n()("div.m-0.p-0",n()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),n()("th.tx-right[colspan='2'][scope='col']",n()("a.tx-right.tx-semibold",{href:i,target:"_blank"},n()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),n()("tbody",[n()("tr",[n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ESTABLECIMIENTO")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NOMBRE")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","APELLIDO")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","SEXO (M-F)")),n()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NHCL.")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ADM."))]),n()("tr",[n()("th.text-center[colspan='3'][scope='row']",n()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",Ko.nombres)),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",Ko.apellidos_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ko.sexo)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ko.nhcl)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ko.numero_admision))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","EDAD")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),n()("tr",[n()("td.text-center[colspan='1'][scope='row']",n()("div.m-0.p-0.text-center",Ko.edad||Ko.edad_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ko.identificacion)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ko.fecha_admision)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ko.fecha_admision)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",Ko.ubicacion)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",Ko.medico_tratante))]),n()("tr",[n()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),n()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",n()("br"),"CADA PRESCRIPCIÓN"]))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FECHA",n()("br"),"día/mes/año"])),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","HORA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",n()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),n()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",n()("br"),"FÁRMACOS INSUMOS"]))]),n()("tr",[n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?n().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.text-justify",null!==r&&0!==r.length?n().trust(r.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},Wo={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Ko.secs.push(o.data[e])}),Ko.secs.map(function(e,t,a){"nombres"==e.name&&(Ko.nombres=e.answer),"apellidos_paciente"==e.name&&(Ko.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Ko.sexo=e.answer),"nhcl"==e.name&&(Ko.nhcl=e.answer),"numero_admision"==e.name&&(Ko.numero_admision=e.answer),"edad"==e.name&&(Ko.edad=e.answer),"edad_paciente"==e.name&&(Ko.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Ko.identificacion=e.answer),"fecha_admision"==e.name&&(Ko.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Ko.ubicacion=e.answer),"fecha_alta"==e.name&&(Ko.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Ko.medico_tratante=e.answer)})},parseFetch:function(){return Ko.secs=[],Wo.data.map(function(e,t,a){Wo.parseDoc(Wo.data[t])})},fetch:function(){Wo.data=[],Wo.error="",n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+Wo.nhc+"&adm="+Wo.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(Wo.data=e,Wo.num=0):Wo.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){Wo.fetch()},5e3)})},view:function(){return Wo.error?[n()(".alert.alert-danger[role='alert']",Wo.error)]:0!==Wo.data.length?[n()(Ko)]:[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Qo={data:[],detalle:[],error:"",showFor:"",fetch:function(){Qo.data=[],Qo.error="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:tr.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Qo.data=e.data,Wo.adm=Qo.data[0].ADM,Wo.nhc=Qo.data[0].NHCL,Wo.fetch()):Qo.error=e.message}).catch(function(e){setTimeout(function(){Qo.fetch()},5e3)})},view:function(){return Qo.error?[n()(".alert.alert-danger[role='alert']",Qo.error)]:0!==Qo.data.length?[n()(Wo)]:[n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},er={view:function(){if(0!==tr.examenes.length)return tr.examenes.map(function(e,t,a){return[n()(".tx-14.tx-semibold.d-inline",e.EXAMEN),n()("br"),null!==e.OBS_EXAMEN?n()(".d-inline","Observaciones:"):"",null!==e.OBS_EXAMEN?n()("br"):"",null!==e.OBS_EXAMEN?n()(".d-inline",e.OBS_EXAMEN):""]})}},tr={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){d.isAuth(),void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedidos N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==tr.data&&0==tr.data.length||tr.numeroPedido!==e.attrs.numeroPedido)&&(tr.numeroPedido=e.attrs.numeroPedido,tr.numeroAtencion=e.attrs.numeroAtencion,tr.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,tr.fetch()))},fetch:function(){tr.data=[],tr.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-tr",body:{numeroPedido:tr.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(tr.loader=!1,tr.data=e.data,tr.examenes=e.examenes,Qo.fetch()):tr.error=e.message}).catch(function(e){})},view:function(e){return[n()(o,{oncreate:o.setPage("imagen")}),n()(lo,{oncreate:lo.setPage(24)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-respiratoria"},["Terapia Respiratoria"])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+tr.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){tr.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){tr.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){tr.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){tr.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==po.idFiltro&&1<po.idFiltro?n().route.set("/terapia-respiratoria/pedidos/",{idFiltro:po.idFiltro,fechaDesde:po.fechaDesde,fechaHasta:po.fechaHasta}):n().route.set("/terapia-respiratoria/pedidos/",{idFiltro:1})}}))),"N"==tr.data.TIPO_PEDIDO?[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")]:[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")],n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),n()("td",{style:{"background-color":"#eaeff5"}},tr.data.CD_PRE_MED),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},tr.data.FECHA_PEDIDO+" "+tr.data.HORA_PEDIDO),n()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},tr.data.SECTOR)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},tr.data.MED_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},tr.data.ESPECIALIDAD)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},tr.data.NM_PACIENTE),n()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),n()("td",{style:{"background-color":"#eaeff5"}},tr.data.EDAD),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},tr.data.CD_PACIENTE)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),n()("td",{style:{"background-color":"#eaeff5"}},tr.data.AT_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),n()("td",{style:{"background-color":"#eaeff5"}},tr.data.PESO),n()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),n()("td",{style:{"background-color":"#eaeff5"}},tr.data.ALTURA),n()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},tr.data.SECTOR+" "+tr.data.UBICACION)]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},n()(er))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(Qo)])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}},ar=tr,or=Jn(360),rr={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.endoscopia.map(function(e,t,a){return[or(or.route.Link,{href:"/"+e.href,class:ir.page==e.idModulo?"active":""},[e.label])]})]}},ir={page:"",setPage:function(e){ir.page=e},view:function(){return[or(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[or("div.sidebar-header",[or("a[href=''][id='mainMenuOpen']",or("i[data-feather='menu']")),or("h5","Menu"),or("a[href=''][id='sidebarMenuClose']",or("i[data-feather='x']"))]),or("div.sidebar-body",or("ul.sidebar-nav",[or("li.nav-label.mg-b-15","Endoscopía"),or("li.nav-item.show",[or(or.route.Link,{href:"/endoscopia",class:"nav-link with-sub"},[or("i[data-feather='layout']")," Endoscopía "]),or("nav.nav",[or(rr)])])]))])]}},nr=ir,dr=Jn(360),sr={view:function(){return[dr("div.content.content-components",dr("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[dr("ol.breadcrumb.df-breadcrumbs.mg-b-10",[dr("li.breadcrumb-item",dr(dr.route.Link,{href:"/"},["MetroPlus"])),dr("li.breadcrumb-item.active[aria-current='page']","Endoscopía")]),dr("h1.df-title.mg-t-20.mg-b-10","Endoscopía:"),dr("div.row.tx-14",[d.isShow("endoscopia",25)?[dr("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){dr.route.set("/endoscopia/pedidos")}},[dr("div",{class:"media"},[dr("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},dr("i",{class:"fas fa-inbox tx-30 tx-white"})),dr("div",{class:"media-body mg-l-15"},[dr("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),dr("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},lr={oninit:function(){o.page="",nr.page="",d.isAuth()},oncreate:function(){document.title="Endoscopía | "+d.title},view:function(){return[dr(o,{oncreate:o.setPage("endoscopia")}),dr(nr),dr(sr)]}};var cr={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(cr.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?cr.start(e):cr.stop(e),e.isPaused=!e.isPaused}};function ur(){var t={interval:null,seconds:100,isPaused:!1};return cr.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){cr.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){cr.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){cr.stop(t)}}}var mr={oncreate:function(){_.loadPedidos(),0!==_.searchField.length&&$("#table-pedidos").DataTable().search(_.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Pedidos de Endoscopía:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==_.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==_.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==_.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==_.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==_.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==_.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==_.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==_.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==_.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==_.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==_.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==_.idFiltro?moment(moment(_.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){_.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),_.loader=!0,_.pedidos=[],_.fetchPedidos(),n().route.set("/endoscopia/pedidos?idFiltro="+_.idFiltro+"&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==_.idFiltro?moment(moment(_.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){_.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),_.loader=!0,_.pedidos=[],_.fetchPedidos(),n().route.set("/endoscopia/pedidos?idFiltro="+_.idFiltro+"&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta},["Pedidos entre Fechas"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta},["Pedidos de C. Externa"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta},["Pedidos de Hospitalización"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==_.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){_.searchField=e.target.value},value:_.searchField}))]),n()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},_={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){nr.page="",0==_.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),_.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),_.fechaHasta=moment().format("DD-MM-YYYY"),_.loader=!0,_.pedidos=[],_.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Endoscopia")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:_.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){_.loader=!1,e.aoData.map(function(e){$(e.anCells[5]).css("padding","0").css("background-color","#f7fafe"),n().mount(e.anCells[5],{view:function(){return[n()("div.d-flex",{},[n()("div.pd-0.flex-grow-1",n()("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},n()("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),n()(".d-inline.tx-15.mg-r-5",e._aData.CD_PRE_MED),n()("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),n()(".tx-semibold.d-inline.tx-12"," SECTOR: "),n()(".d-inline.tx-12.mg-r-5",e._aData.SECTOR+" "+e._aData.UBICACION),n()("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),n()(".tx-semibold.d-inline.tx-12"," MED: "),e._aData.MED_MV)),n()("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e._aData.EDAD+" - "+e._aData.PESO+" - "+e._aData.ALTURA)]),n()("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[n()("div.pd-0.flex-grow-1",n()("td.wd-1p.tx-white",{style:{"background-color":"EMERGENCIA"==e._aData.SECTOR?"#f10075":"#0168fa"}},"EMERGENCIA"==e._aData.SECTOR?"E":"H"),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.FECHA_PEDIDO+" "+e._aData.HORA_PEDIDO),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.CD_PACIENTE),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N° AT.: "),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.AT_MV),n()("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),n()("td",{style:{"background-color":"rgb(234, 239, 245)"}},e._aData.NM_PACIENTE)),n()("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},n()("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:function(){n().route.set("/endoscopia/pedido/",{numeroHistoriaClinica:e._aData.CD_PACIENTE,numeroAtencion:e._aData.AT_MV,numeroPedido:e._aData.CD_PRE_MED,track:"view"})}},n()(".tx-normal",n()("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==_.idFiltro?"?idFiltro="+_.idFiltro:"?idFiltro="+_.idFiltro+"&fechaDesde="+_.fechaDesde+"&fechaHasta="+_.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/endoscopia/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){_.loader=!1,_.pedidos=e.data}).catch(function(e){setTimeout(function(){_.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(_.pedidos).draw()},view:function(e){return _.loader?[n()(nr,{oncreate:nr.setPage(25)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/endoscopia"},[" Endoscopía "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==_.error.length?[n()(nr,{oncreate:nr.setPage(25)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/endoscopia"},[" Endoscopía "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:_.loader||0===_.pedidos.length?_.loader||0!=_.pedidos.length?[n()(nr,{oncreate:nr.setPage(25)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/endoscopia"},[" Endoscopía "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(nr,{oncreate:nr.setPage(25)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/endoscopia"},[" Endoscopía "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(nr,{oncreate:nr.setPage(25)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/endoscopia"},[" Endoscopía "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()(mr)])),n()("div.section-nav",[n()("label.nav-label","RECEPCIÓN DE PEDIDOS"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","N° de Pedidos:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",_.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(ur)))])]}},pr=_,br={secs:[],nombres:"",show:!1,view:function(){var o="",r="",i="";return 0==fr.num&&setTimeout(function(){fr.num=fr.data.length,fr.parseFetch(),n().redraw.sync()},2e3),0==br.secs.length?[n()("div.pd-10.wd-100p",n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+fr.data.length+" formulario(s) encontrado(s)..."}}),n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]:[br.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(r=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(i="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=fr.data.length+" formulario(s) encontrado(s)."}}),n()("table.table.table-bordered.wd-100p",{style:{zoom:fr.zoom}},[n()("thead",[n()("tr",n()("th[colspan='12'][scope='col']",[n()("i.tx-light.fas.fa-file-alt.mg-r-2."),n()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),n()("tr",[n()("th[colspan='10'][scope='col']",n()("div.m-0.p-0",n()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),n()("th.tx-right[colspan='2'][scope='col']",n()("a.tx-right.tx-semibold",{href:i,target:"_blank"},n()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),n()("tbody",[n()("tr",[n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ESTABLECIMIENTO")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NOMBRE")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","APELLIDO")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","SEXO (M-F)")),n()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NHCL.")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ADM."))]),n()("tr",[n()("th.text-center[colspan='3'][scope='row']",n()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",br.nombres)),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",br.apellidos_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",br.sexo)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",br.nhcl)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",br.numero_admision))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","EDAD")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),n()("tr",[n()("td.text-center[colspan='1'][scope='row']",n()("div.m-0.p-0.text-center",br.edad||br.edad_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",br.identificacion)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",br.fecha_admision)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",br.fecha_admision)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",br.ubicacion)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",br.medico_tratante))]),n()("tr",[n()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),n()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",n()("br"),"CADA PRESCRIPCIÓN"]))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FECHA",n()("br"),"día/mes/año"])),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","HORA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",n()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),n()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",n()("br"),"FÁRMACOS INSUMOS"]))]),n()("tr",[n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?n().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.text-justify",null!==r&&0!==r.length?n().trust(r.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},fr={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){br.secs.push(o.data[e])}),br.secs.map(function(e,t,a){"nombres"==e.name&&(br.nombres=e.answer),"apellidos_paciente"==e.name&&(br.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(br.sexo=e.answer),"nhcl"==e.name&&(br.nhcl=e.answer),"numero_admision"==e.name&&(br.numero_admision=e.answer),"edad"==e.name&&(br.edad=e.answer),"edad_paciente"==e.name&&(br.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(br.identificacion=e.answer),"fecha_admision"==e.name&&(br.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(br.ubicacion=e.answer),"fecha_alta"==e.name&&(br.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(br.medico_tratante=e.answer)})},parseFetch:function(){return br.secs=[],fr.data.map(function(e,t,a){fr.parseDoc(fr.data[t])})},fetch:function(){fr.data=[],fr.error="",n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+fr.nhc+"&adm="+fr.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(fr.data=e,fr.num=0):fr.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){fr.fetch()},5e3)})},view:function(){return fr.error?[n()(".alert.alert-danger[role='alert']",fr.error)]:0!==fr.data.length?[n()(br)]:[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},gr={data:[],detalle:[],error:"",showFor:"",fetch:function(){gr.data=[],gr.error="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:vr.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(gr.data=e.data,fr.adm=gr.data[0].ADM,fr.nhc=gr.data[0].NHCL,fr.fetch()):gr.error=e.message}).catch(function(e){setTimeout(function(){gr.fetch()},5e3)})},view:function(){return gr.error?[n()(".alert.alert-danger[role='alert']",gr.error)]:0!==gr.data.length?[n()(fr)]:[n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},hr={view:function(){if(0!==vr.examenes.length)return vr.examenes.map(function(e,t,a){return[n()(".tx-14.tx-semibold.d-inline",e.EXAMEN),null!==e.OBS_EXAMEN?[n()("br"),n()(".d-inline","Observaciones:"),n()("br"),n()(".d-inline",e.OBS_EXAMEN),n()("br"),n()("br")]:""]})}},vr={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==vr.data&&0==vr.data.length||vr.numeroPedido!==e.attrs.numeroPedido)&&(vr.numeroPedido=e.attrs.numeroPedido,vr.numeroAtencion=e.attrs.numeroAtencion,vr.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,vr.fetch()))},fetch:function(){vr.data=[],vr.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-endoscopia",body:{numeroPedido:vr.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(vr.loader=!1,vr.data=e.data,vr.examenes=e.examenes,gr.fetch()):vr.error=e.message}).catch(function(e){})},view:function(e){return[n()(o,{oncreate:o.setPage("endoscopia")}),n()(nr,{oncreate:nr.setPage(25)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/endoscopia"},[" Endoscopía"])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+vr.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){vr.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){vr.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){vr.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){vr.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==pr.idFiltro&&1<pr.idFiltro?n().route.set("/endoscopia/pedidos/",{idFiltro:pr.idFiltro,fechaDesde:pr.fechaDesde,fechaHasta:pr.fechaHasta}):n().route.set("/endoscopia/pedidos/",{idFiltro:1})}}))),n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de EndoPedido:"),n()("td",{style:{"background-color":"#eaeff5"}},vr.data.CD_PRE_MED),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},vr.data.FECHA_PEDIDO+" "+vr.data.HORA_PEDIDO),n()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},vr.data.SECTOR)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},vr.data.MED_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},vr.data.ESPECIALIDAD)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},vr.data.NM_PACIENTE),n()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),n()("td",{style:{"background-color":"#eaeff5"}},vr.data.EDAD),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},vr.data.CD_PACIENTE)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),n()("td",{style:{"background-color":"#eaeff5"}},vr.data.AT_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),n()("td",{style:{"background-color":"#eaeff5"}},vr.data.PESO),n()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),n()("td",{style:{"background-color":"#eaeff5"}},vr.data.ALTURA),n()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},vr.data.SECTOR+" "+vr.data.UBICACION)]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},n()(hr))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(gr)])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}},xr=vr;function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var yr={secs:[],nombres:"",show:!1,view:function(){var o="",r="",i="";return 0==wr.num&&setTimeout(function(){wr.num=wr.data.length,wr.parseFetch(),n().redraw.sync()},2e3),0==yr.secs.length?[n()("div.pd-10.wd-100p",n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+wr.data.length+" formulario(s) encontrado(s)..."}}),n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]:[yr.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(r=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(i="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=wr.data.length+" formulario(s) encontrado(s)."}}),n()("table.table.table-bordered.wd-100p",{style:{zoom:wr.zoom}},[n()("thead",[n()("tr",n()("th[colspan='12'][scope='col']",[n()("i.tx-light.fas.fa-file-alt.mg-r-2."),n()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),n()("tr",[n()("th[colspan='10'][scope='col']",n()("div.m-0.p-0",n()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),n()("th.tx-right[colspan='2'][scope='col']",n()("a.tx-right.tx-semibold",{href:i,target:"_blank"},n()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),n()("tbody",[n()("tr",[n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ESTABLECIMIENTO")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NOMBRE")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","APELLIDO")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","SEXO (M-F)")),n()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NHCL.")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ADM."))]),n()("tr",[n()("th.text-center[colspan='3'][scope='row']",n()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",yr.nombres)),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",yr.apellidos_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",yr.sexo)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",yr.nhcl)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",yr.numero_admision))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","EDAD")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),n()("tr",[n()("td.text-center[colspan='1'][scope='row']",n()("div.m-0.p-0.text-center",yr.edad||yr.edad_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",yr.identificacion)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",yr.fecha_admision)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",yr.fecha_admision)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",yr.ubicacion)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",yr.medico_tratante))]),n()("tr",[n()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),n()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",n()("br"),"CADA PRESCRIPCIÓN"]))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FECHA",n()("br"),"día/mes/año"])),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","HORA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",n()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),n()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",n()("br"),"FÁRMACOS INSUMOS"]))]),n()("tr",[n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?n().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.text-justify",null!==r&&0!==r.length?n().trust(r.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},wr={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){yr.secs.push(o.data[e])}),yr.secs.map(function(e,t,a){"nombres"==e.name&&(yr.nombres=e.answer),"apellidos_paciente"==e.name&&(yr.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(yr.sexo=e.answer),"nhcl"==e.name&&(yr.nhcl=e.answer),"numero_admision"==e.name&&(yr.numero_admision=e.answer),"edad"==e.name&&(yr.edad=e.answer),"edad_paciente"==e.name&&(yr.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(yr.identificacion=e.answer),"fecha_admision"==e.name&&(yr.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(yr.ubicacion=e.answer),"fecha_alta"==e.name&&(yr.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(yr.medico_tratante=e.answer)})},parseFetch:function(){return yr.secs=[],wr.data.map(function(e,t,a){wr.parseDoc(wr.data[t])})},fetch:function(){wr.data=[],wr.error="",n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+wr.nhc+"&adm="+wr.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(wr.data=e,wr.num=0,n().redraw()):wr.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){wr.fetch()},5e3)})},view:function(){return wr.error?[n()(".alert.alert-danger[role='alert']",wr.error)]:0!==wr.data.length?[n()(yr)]:[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Mr={data:[],detalle:[],error:"",showFor:"",fetch:function(){Mr.data=[],Mr.error="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:w.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Mr.data=e.data,wr.adm=Mr.data[0].ADM,wr.nhc=Mr.data[0].NHCL,wr.fetch()):Mr.error=e.message}).catch(function(e){setTimeout(function(){Mr.fetch()},5e3)})},view:function(){return Mr.error?[n()(".alert.alert-danger[role='alert']",Mr.error)]:0!==Mr.data.length?[n()(wr)]:[n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Dr={view:function(){if(0!==w.examenes)return null==w.examenes.Exame.length&&(w.examenes.Exame=[w.examenes.Exame]),w.examenes.Exame.map(function(e,t,a){return"E"==e.operacao?[n()(".tx-14.tx-semibold.tx-danger.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),n()("br")]:[n()(".tx-14.tx-semibold.d-inline",t+1+": "+e.descExame+" - "+e.codigoExameFaturamento),n()("br")]})}},Pr={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:function(){Pr.error="",Pr.data=[],Pr.documento=[],n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:w.numeroPedido,idTimeRecord:w.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(w.loader=!1,w.data=e.data.pedido,w.examenes=e.data.pedido.PedidoExameLab.listaExame,Pr.documento=e.data,Pr.data=e.data.dataTomaMuestra.examenesToma,Pr.dataMuestras=e.data.dataRecepcion.examenesRecep,Pr.documento.dataTomaMuestra.insumosToma=e.data.dataTomaMuestra.insumosToma,0!==Pr.documento.dataTomaMuestra.fechaToma.length&&(Er.disabledToma=!0,Er.checkedAll=!0),Mr.fetch(),Tr.fetch(),kr.fetch()):w.error=e.message}).catch(function(e){})}},y={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0,otros:0},kr={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:kr.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[0],{view:function(){return e._aData.title,n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto",e._aData.title),n()("small.tx-white",moment.unix(e._aData.timestamp).format("HH:mm"))]),n()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(kr.data).draw()},fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+w.numeroPedido}).then(function(e){kr.data=e.data,kr.loadObservaciones()}).catch(function(e){})},sendNotiLab:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+w.numeroPedido,body:{message:kr.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(kr.observaciones="",kr.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){EditarPedido.error=e.message})}},Er={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,oncreate:function(){0!==Pr.documento.dataTomaMuestra.insumosToma.length&&(y.tuboLila=Pr.documento.dataTomaMuestra.insumosToma.tuboLila,y.tuboRojo=Pr.documento.dataTomaMuestra.insumosToma.tuboRojo,y.tuboCeleste=Pr.documento.dataTomaMuestra.insumosToma.tuboCeleste,y.tuboNegro=Pr.documento.dataTomaMuestra.insumosToma.tuboNegro,y.tuboVerde=Pr.documento.dataTomaMuestra.insumosToma.tuboVerde,y.gsav=Pr.documento.dataTomaMuestra.insumosToma.gsav,y.hemocultivo=Pr.documento.dataTomaMuestra.insumosToma.hemocultivo,y.qtb=Pr.documento.dataTomaMuestra.insumosToma.qtb,y.otros=Pr.documento.dataTomaMuestra.insumosToma.otros)},seleccionarTodos:function(o){Er.checkedAll=o;var r=moment().format("DD-MM-YYYY HH:mm");return Pr.data.map(function(e,t,a){o?(Pr.data[t].STATUS_TOMA="1",Pr.data[t].FECHA_TOMA=r,Pr.data[t].customCheked=!0):(Pr.data[t].STATUS_TOMA="",Pr.data[t].FECHA_TOMA="",Pr.data[t].customCheked=!1)})},validarUpdateMuestras:function(){for(var e=0,t=0;t<Pr.data.length;t++)0!==Pr.data[t].STATUS_TOMA.length&&e++;if(0==e)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";var a=0;if(0!==y.tuboLila&&a++,0!==y.tuboRojo&&a++,0!==y.tuboCeleste&&a++,0!==y.tuboNegro&&a++,0!==y.tuboVerde&&a++,0!==y.gsav&&a++,0!==y.hemocultivo&&a++,0!==y.qtb&&a++,0!==y.otros&&a++,0===a)throw console.log(a),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:function(){Pr.documento.dataTomaMuestra.insumosToma=y,n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-toma-status-pedido-lab",body:{documento:JSON.stringify(Pr.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Pr.documento=e.data,Pr.data=e.data.dataTomaMuestra.examenesToma,Pr.documento.dataTomaMuestra.insumosToma=e.data.dataTomaMuestra.insumosToma}).catch(function(e){})},view:function(){return Pr.error?[n()("p.mg-0",Pr.error)]:0!==Pr.data.length?[n()("div.bg-white.bd.d-flex.flex-column.justify-content-end",[Er.disabledToma?[n()("p.mg-5.tx-right",[n()("button.btn.btn-xs.btn-secondary[type='button']",{onclick:function(){Er.disabledToma=!1,Er.disabledInsumos=!1}},n()("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],n()(".",{style:{"pointer-events":Er.disabledToma?"none":"auto"}},[n()("div.table-responsive.mg-b-10.mg-t-10",n()("table.table.table-dashboard.table-hover.mg-b-0",[n()("thead",n()("tr",[n()("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),n()("tr",[n()("th.text-left","EXAMEN"),n()("th","CONFIRMACIÓN")])),n()("tbody",[n()("tr",[n()("td.tx-normal",n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:Er.checkedAll,onclick:function(e){Er.seleccionarTodos(this.checked)}}),n()("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),n()("td.tx-medium.text-right")]),Pr.data.map(function(e,t,a){return[n()("tr",[n()("td.tx-18.tx-medium.text-left",e.NM_EXA_LAB),n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.custom-control-input.tx-16[type='checkbox'][id='"+e.CD_EXA_LAB+"']",{checked:Pr.data[t].customCheked,onupdate:function(e){this.checked=Pr.data[t].customCheked},onclick:function(e){e.preventDefault();e=this.checked;Pr.data[t].customCheked=!Pr.data[t].customCheked,e?(this.checked=!0,Pr.data[t].STATUS_TOMA="1",Pr.data[t].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,Er.checkedAll=!1,Pr.data[t].STATUS_TOMA="",Pr.data[t].FECHA_TOMA="")}}),n()("label.custom-control-label.tx-16[for='"+e.CD_EXA_LAB+"']",0!==Pr.data[t].STATUS_TOMA.length?Pr.data[t].FECHA_TOMA:Pr.data[t].STATUS_TOMA)]))])]})])])),n()("div.table-responsive.mg-b-10.mg-t-10",n()("table.table.table-dashboard.table-hover.mg-b-0",[n()("thead",n()("tr",[n()("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),n()("tr",[n()("th.text-left","INSUMOS"),n()("th.text-left","CANTIDAD")])),n()("tbody",[n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:function(e){e.target.checked?y.tuboLila=1:y.tuboLila=0},oncreate:function(e){void 0!==y.tuboLila&&0!==y.tuboLila&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.tuboLila&&0!==y.tuboLila?1==y.tuboLila&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==y.tuboLila&&0!==y.tuboLila?e.dom.innerText=y.tuboLila:e.dom.innerText=0},onupdate:function(e){void 0!==y.tuboLila&&0!==y.tuboLila?e.dom.innerText=y.tuboLila:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboLila++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboLila--,y.tuboLila<0&&(y.tuboLila=0)}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:function(e){e.target.checked?y.tuboRojo=1:y.tuboRojo=0},oncreate:function(e){void 0!==y.tuboRojo&&0!==y.tuboRojo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.tuboRojo&&0!==y.tuboRojo?1==y.tuboRojo&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==y.tuboRojo&&0!==y.tuboRojo?e.dom.innerText=y.tuboRojo:e.dom.innerText=0},onupdate:function(e){void 0!==y.tuboRojo&&0!==y.tuboRojo?e.dom.innerText=y.tuboRojo:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboRojo++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboRojo--,y.tuboRojo<0&&(y.tuboRojo=0)}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:function(e){e.target.checked?y.tuboCeleste=1:y.tuboCeleste=0},oncreate:function(e){void 0!==y.tuboCeleste&&0!==y.tuboCeleste&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.tuboCeleste&&0!==y.tuboCeleste?1==y.tuboCeleste&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==y.tuboCeleste&&0!==y.tuboCeleste?e.dom.innerText=y.tuboCeleste:e.dom.innerText=0},onupdate:function(e){void 0!==y.tuboCeleste&&0!==y.tuboCeleste?e.dom.innerText=y.tuboCeleste:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboCeleste++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboCeleste--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:function(e){e.target.checked?y.tuboNegro=1:y.tuboNegro=0},oncreate:function(e){void 0!==y.tuboNegro&&0!==y.tuboNegro&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.tuboNegro&&0!==y.tuboNegro?1==y.tuboNegro&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==y.tuboNegro&&0!==y.tuboNegro?e.dom.innerText=y.tuboNegro:e.dom.innerText=0},onupdate:function(e){void 0!==y.tuboNegro&&0!==y.tuboNegro?e.dom.innerText=y.tuboNegro:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboNegro++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboNegro--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:function(e){e.target.checked?y.tuboVerde=1:y.tuboVerde=0},oncreate:function(e){void 0!==y.tuboVerde&&0!==y.tuboVerde&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.tuboVerde&&0!==y.tuboVerde?1==y.tuboVerde&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==y.tuboVerde&&0!==y.tuboVerde?e.dom.innerText=y.tuboVerde:e.dom.innerText=0},onupdate:function(e){void 0!==y.tuboVerde&&0!==y.tuboVerde?e.dom.innerText=y.tuboVerde:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboVerde++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){y.tuboVerde--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:function(e){e.target.checked?y.gsav=1:y.gsav=0},oncreate:function(e){void 0!==y.gsav&&0!==y.gsav&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.gsav&&0!==y.gsav?1==y.gsav&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==y.gsav&&0!==y.gsav?e.dom.innerText=y.gsav:e.dom.innerText=0},onupdate:function(e){void 0!==y.gsav&&0!==y.gsav?e.dom.innerText=y.gsav:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){y.gsav++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){y.gsav--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:function(e){e.target.checked?y.hemocultivo=1:y.hemocultivo=0},oncreate:function(e){void 0!==y.hemocultivo&&0!==y.hemocultivo&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.hemocultivo&&0!==y.hemocultivo?1==y.hemocultivo&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==y.hemocultivo&&0!==y.hemocultivo?e.dom.innerText=y.hemocultivo:e.dom.innerText=0},onupdate:function(e){void 0!==y.hemocultivo&&0!==y.hemocultivo?e.dom.innerText=y.hemocultivo:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){y.hemocultivo++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){y.hemocultivo--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:function(e){e.target.checked?y.qtb=1:y.qtb=0},oncreate:function(e){void 0!==y.qtb&&0!==y.qtb&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.qtb&&0!==y.qtb?1==y.qtb&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),n()("td.tx-16.tx-medium.text-left",[n()(".btn-group.btn-group-sm.tx-16[role='group']",{},[n()("button.btn[type='button']",n()("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:function(e){void 0!==y.qtb&&0!==y.qtb?e.dom.innerText=y.qtb:e.dom.innerText=0},onupdate:function(e){void 0!==y.qtb&&0!==y.qtb?e.dom.innerText=y.qtb:e.dom.innerText=0}})),n()("button.btn.btn[type='button']",{onclick:function(){y.qtb++}},n()("i.fas.fa-plus-circle.tx-22.tx-success")),n()("button.btn.btn[type='button']",{onclick:function(){y.qtb--}},n()("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),n()("tr",[n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.tx-20.custom-control-input[type='checkbox'][id='otros']",{onclick:function(e){e.target.checked?y.otros=1:y.otros=0},oncreate:function(e){void 0!==y.otros&&0!==y.otros&&(e.dom.checked=!0)},onupdate:function(e){void 0!==y.otros&&0!==y.otros?1==y.otros&&(e.dom.checked=!0):e.dom.checked=!1}}),n()("label.tx-20.tx-semibold..custom-control-label[for='otros']","Otros")])),n()("td.tx-16.tx-medium.text-left",[n()("textarea.form-control[rows='2'][placeholder='Otros']",{disabled:0==y.otros?"disabled":"",oninput:function(e){y.otros=e.target.value},oncreate:function(e){void 0!==y.otros&&0!==y.otros&&(e.dom.value=y.otros)}})])])])])),Er.disabledToma?[n()("p.mg-5.",[0!==Pr.documento.dataTomaMuestra.fechaToma.length?[n()("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+Pr.documento.dataTomaMuestra.fechaToma)]:[]])]:[n()("div.pd-10",[n()("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:Er.disabledToma,onclick:function(){Er.validarUpdateMuestras();var e=moment().format("DD-MM-YYYY HH:mm");Pr.documento.dataTomaMuestra.usuarioToma="flebot1",Pr.documento.dataTomaMuestra.fechaToma=e,Er.disabledToma=!0,Er.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]}},Tr={showLogs:"",dataXML:"",logsEnvio:[],examenes:[],oninit:function(){Tr.examenes=[]},agregarExamen:function(o){var r=!1;Tr.examenes.map(function(e,t,a){Tr.examenes[t].codigoExame==o.CD_EXA_LAB&&(r=!0)}),r||w.examenes.Exame.map(function(e,t,a){w.examenes.Exame[t].codigoExame==o.CD_EXA_LAB&&Tr.examenes.push(w.examenes.Exame[t])}),console.log(Tr.examenes)},eliminarExamen:function(o){var r=!1,i=null;Tr.examenes.map(function(e,t,a){Tr.examenes[t].codigoExame==o.CD_EXA_LAB&&(r=!0,i=t)}),r&&(Tr.examenes.splice(i,1),console.log(Tr.examenes))},generarXML:function(){var e={Exame:Tr.examenes},t=moment().format("YYYY-MM-DD HH:mm:ss"),e=(w.data.Cabecalho.mensagemID=moment().unix(),w.data.Cabecalho.dataHora=t,w.data.PedidoExameLab.listaExame=e,w.data.PedidoExameLab.operacao="I",function e(t){var a="";for(var o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(var r in t[o])a=(a=(a+="\n<"+o+">\n")+e(new Object(t[o][r])))+"</"+o+">";else"object"==_r(t[o])?a+=e(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+">\n"}a=a.replace(/<\/?[0-9]{1,}>/g,"");return a}(w.data));console.log("documento",w.data),console.log("xmlRes",e),Tr.sendXML(e,w.numeroPedido,t)},sendXML:function(e,t,a){n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:e,sc:t,idTimeRecord:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){setTimeout(function(){alert("Proceso realizado con éxito."),window.location.reload()},2e3),console.log("result",e)}).catch(function(e){})},fetch:function(){Tr.logsEnvio=[],n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+w.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(e){console.log(e),Tr.logsEnvio=e.data}).catch(function(e){})}},w={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&void 0!==e.attrs.idTimeRecord&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,w.numeroPedido=e.attrs.numeroPedido,w.numeroAtencion=e.attrs.numeroAtencion,w.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,w.idTimeRecord=e.attrs.idTimeRecord,w.fetch())},fetch:function(){w.data=[],w.loader=!0,Pr.fetch()},view:function(e){var t,a;return 0!==w.data.length&&(t=moment(w.data.PedidoExameLab.paciente.dataNascimento),a=moment(),w.data.PedidoExameLab.paciente.anios=a.diff(t,"years")),w.loader?[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(16)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+w.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:[n()(o,{oncreate:o.setPage("laboratorio")}),n()(r,{oncreate:r.setPage(16)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+w.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){w.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){w.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){w.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){w.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==Qe.idFiltro&&1<Qe.idFiltro?n().route.set("/laboratorio/flebotomista/",{idFiltro:Qe.idFiltro,fechaDesde:Qe.fechaDesde,fechaHasta:Qe.fechaHasta}):n().route.set("/laboratorio/flebotomista/",{idFiltro:1})}}))),"R"==w.data.PedidoExameLab.tipoSolicitacao?[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de Pedido:"),n()("td",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.codigoPedido),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",n()("br"),n()(".d-inline.tx-danger","Fecha Toma de Muestra:")),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.dataExame,n()("br"),w.data.PedidoExameLab.dataExame),n()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.descSetorSolicitante)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.descPrestadorSolicitante),n()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.descPrestadorSolicitante)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='5']",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.paciente.nome),n()("th",{style:{"background-color":"#a8bed6"}},"Edad:"),n()("td",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.paciente.anios+" Año(s)"),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.paciente.codigoPaciente)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),n()("td",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.atendimento.codigoAtendimento),n()("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),n()("td",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.paciente.sexo),n()("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),n()("td",{style:{"background-color":"#eaeff5"}},w.data.PedidoExameLab.paciente.dataNascimento),n()("th",{style:{"background-color":"#a8bed6"}},"Dg:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(null==w.data.PedidoExameLab.diagnostico.codigoDiagnostico.length?"":"CIE: "+w.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(null==w.data.PedidoExameLab.diagnostico.dsDiagostico.length?"":" - "+w.data.PedidoExameLab.diagnostico.dsDiagostico))]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","EXÁMENES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()(Dr))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),n()("li.nav-item",n()("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),n()("li.nav-item",n()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},n()("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),n()("tr.d-print-none",[n()("td[colspan='10']",n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(Mr)]),n()(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[n()(Er)]),n()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){kr.observaciones=e.target.value},value:kr.observaciones}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==kr.observaciones.length?kr.sendNotiLab():alert("Observaciones es obligatorio.")}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),n()("hr.wd-100p.mg-t-5.mg-b-5")]),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),n()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}};var Ar=w,Sr=Jn(360),Cr={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.patologia.map(function(e,t,a){return[Sr(Sr.route.Link,{href:"/"+e.href,class:Ir.page==e.idModulo?"active":""},[e.label])]})]}},Ir={page:"",setPage:function(e){Ir.page=e},view:function(){return[Sr(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Sr("div.sidebar-header",[Sr("a[href=''][id='mainMenuOpen']",Sr("i[data-feather='menu']")),Sr("h5","Menu"),Sr("a[href=''][id='sidebarMenuClose']",Sr("i[data-feather='x']"))]),Sr("div.sidebar-body",Sr("ul.sidebar-nav",[Sr("li.nav-label.mg-b-15","Patología"),Sr("li.nav-item.show",[Sr(Sr.route.Link,{href:"/patologia",class:"nav-link with-sub"},[Sr("i[data-feather='layout']")," Patología "]),Sr("nav.nav",[Sr(Cr)])])]))])]}},Fr=Ir,Nr=Jn(360),Lr={view:function(){return[Nr("div.content.content-components",Nr("div.container",{style:{"max-width":"100%"}},[Nr("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Nr("li.breadcrumb-item",Nr(Nr.route.Link,{href:"/"},["MetroPlus"])),Nr("li.breadcrumb-item.active[aria-current='page']","Patología")]),Nr("h1.df-title.mg-t-20.mg-b-10","Patología:"),Nr("div.row.tx-14",[d.isShow("patologia",26)?[Nr("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Nr.route.set("/patologia/pedidos")}},[Nr("div",{class:"media"},[Nr("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Nr("i",{class:"fas fa-inbox tx-30 tx-white"})),Nr("div",{class:"media-body mg-l-15"},[Nr("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),Nr("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pedidos")])])])]:[]])]))]}},Rr={oninit:function(){o.page="",Fr.page="",d.isAuth()},oncreate:function(){document.title="Patologia | "+d.title},view:function(){return[Nr(o,{oncreate:o.setPage("patologia")}),Nr(Fr),Nr(Lr)]}};var Or={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(Or.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Or.start(e):Or.stop(e),e.isPaused=!e.isPaused}};function Hr(){var t={interval:null,seconds:100,isPaused:!1};return Or.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Or.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Or.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Or.stop(t)}}}var Yr={oncreate:function(){D.loadPedidos(),0!==D.searchField.length&&$("#table-PatologiaPedidos").DataTable().search(D.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Patología:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==D.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==D.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==D.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==D.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa ")},onupdate:function(e){1==D.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==D.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),3==D.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización "),4==D.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa ")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==D.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==D.idFiltro?moment(moment(D.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){D.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),D.loader=!0,D.pedidos=[],D.fetchPedidos(),n().route.set("/patologia/pedidos?idFiltro="+D.idFiltro+"&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==D.idFiltro?moment(moment(D.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){D.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),D.loader=!0,D.pedidos=[],D.fetchPedidos(),n().route.set("/patologia/pedidos?idFiltro="+D.idFiltro+"&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=2&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=3&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta},["Pedidos de Hospitalización"]),n()(n().route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=4&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta},["Pedidos de C. Externa"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==D.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){D.searchField=e.target.value},value:D.searchField}))]),n()("table.table.table-sm.tx-11[id='table-PatologiaPedidos'][width='100%']")])])])}},D={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Fr.page="",0==D.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),D.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),D.fechaHasta=moment().format("DD-MM-YYYY"),D.loader=!0,D.pedidos=[],D.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-PatologiaPedidos")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-PatologiaPedidos").DataTable({data:D.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"Pres. N°:"},{title:"Paciente:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return a.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.wd-5p",{class:"I"==t.TP_ATENDIMENTO?"bg-primary":"bg-danger"},["I"==t.TP_ATENDIMENTO?n()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","I"):n()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","E")]),n()("td.wd-10p",{style:{}},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO),n()("td.wd-10p",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.mg-b-1",t.CD_PRE_MED)),n()("td.wd-40p",{style:{}},[n()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.SECTOR?"tx-danger":"tx-primary"},t.SECTOR+" "+t.UBICACION),n()("br"),"NHC: "+t.CD_PACIENTE+" ATENCIÓN N°:"+t.AT_MV,n()("br"),t.EDAD+" "+t.PESO+" "+t.ALTURA,n()("br"),n()(".d-inline.tx-semibold",t.NM_PACIENTE),n()("br")]),n()("td.wd-40p",{style:{}},t.MED_MV),n()("td.tx-center.tx-semibold",{onclick:function(){n().route.set("/patologia/pedido/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]}})},drawCallback:function(e){D.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==D.idFiltro?"?type=ingresadas&idFiltro="+D.idFiltro:"?type=ingresadas&idFiltro="+D.idFiltro+"&fechaDesde="+D.fechaDesde+"&fechaHasta="+D.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/patologia/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){D.loader=!1,D.pedidos=e.data}).catch(function(e){setTimeout(function(){D.fetchPatologiaPedidos()},2e3)})},reloadData:function(){var e=$("#table-PatologiaPedidos").DataTable();e.clear(),e.rows.add(D.pedidos).draw()},view:function(e){return D.loader?[n()(Fr,{oncreate:Fr.setPage(26)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/patologia"},[" Patología "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==D.error.length?[n()(Fr,{oncreate:Fr.setPage(26)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/patologia"},[" Patología "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:D.loader||0===D.pedidos.length?D.loader||0!=D.pedidos.length?[n()(Fr,{oncreate:Fr.setPage(26)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/patologia"},[" Patología "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(Fr,{oncreate:Fr.setPage(26)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/patologia"},[" Patología "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(Fr,{oncreate:Fr.setPage(26)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/patologia"},[" Patología "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()(Yr)])),n()("div.section-nav",[n()("label.nav-label","Pedidos Ingresados"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",D.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(Hr)))])]}},jr=D,Ur={secs:[],nombres:"",show:!1,view:function(){var o="",r="",i="";return 0==$r.num&&setTimeout(function(){$r.num=$r.data.length,$r.parseFetch(),n().redraw.sync()},2e3),0==Ur.secs.length?[n()("div.pd-10.wd-100p",n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+$r.data.length+" formulario(s) encontrado(s)..."}}),n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]:[Ur.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(r=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(i="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=$r.data.length+" formulario(s) encontrado(s)."}}),n()("table.table.table-bordered.wd-100p",{style:{zoom:$r.zoom}},[n()("thead",[n()("tr",n()("th[colspan='12'][scope='col']",[n()("i.tx-light.fas.fa-file-alt.mg-r-2."),n()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),n()("tr",[n()("th[colspan='10'][scope='col']",n()("div.m-0.p-0",n()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),n()("th.tx-right[colspan='2'][scope='col']",n()("a.tx-right.tx-semibold",{href:i,target:"_blank"},n()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),n()("tbody",[n()("tr",[n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ESTABLECIMIENTO")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NOMBRE")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","APELLIDO")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","SEXO (M-F)")),n()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NHCL.")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ADM."))]),n()("tr",[n()("th.text-center[colspan='3'][scope='row']",n()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",Ur.nombres)),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",Ur.apellidos_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ur.sexo)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ur.nhcl)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ur.numero_admision))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","EDAD")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),n()("tr",[n()("td.text-center[colspan='1'][scope='row']",n()("div.m-0.p-0.text-center",Ur.edad||Ur.edad_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ur.identificacion)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ur.fecha_admision)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Ur.fecha_admision)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",Ur.ubicacion)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",Ur.medico_tratante))]),n()("tr",[n()("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),n()("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",n()("br"),"CADA PRESCRIPCIÓN"]))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FECHA",n()("br"),"día/mes/año"])),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","HORA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",n()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),n()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",n()("br"),"FÁRMACOS INSUMOS"]))]),n()("tr",[n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?n().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.text-justify",null!==r&&0!==r.length?n().trust(r.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},$r={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Ur.secs.push(o.data[e])}),Ur.secs.map(function(e,t,a){"nombres"==e.name&&(Ur.nombres=e.answer),"apellidos_paciente"==e.name&&(Ur.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Ur.sexo=e.answer),"nhcl"==e.name&&(Ur.nhcl=e.answer),"numero_admision"==e.name&&(Ur.numero_admision=e.answer),"edad"==e.name&&(Ur.edad=e.answer),"edad_paciente"==e.name&&(Ur.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Ur.identificacion=e.answer),"fecha_admision"==e.name&&(Ur.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Ur.ubicacion=e.answer),"fecha_alta"==e.name&&(Ur.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Ur.medico_tratante=e.answer)})},parseFetch:function(){return Ur.secs=[],$r.data.map(function(e,t,a){$r.parseDoc($r.data[t])})},fetch:function(){$r.data=[],$r.error="",n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+$r.nhc+"&adm="+$r.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?($r.data=e,$r.num=0):$r.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){$r.fetch()},5e3)})},view:function(){return $r.error?[n()(".alert.alert-danger[role='alert']",$r.error)]:0!==$r.data.length?[n()(Ur)]:[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Br={data:[],detalle:[],error:"",showFor:"",fetch:function(){Br.data=[],Br.error="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Jr.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Br.data=e.data,$r.adm=Br.data[0].ADM,$r.nhc=Br.data[0].NHCL,$r.fetch()):Br.error=e.message}).catch(function(e){setTimeout(function(){Br.fetch()},5e3)})},view:function(){return Br.error?[n()(".alert.alert-danger[role='alert']",Br.error)]:0!==Br.data.length?[n()($r)]:[n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Vr={view:function(){if(0!==Jr.examenes.length)return Jr.examenes.map(function(e,t,a){return[n()(".tx-14.tx-semibold.d-inline",e.EXAMEN),n()("br"),null!==e.OBS_EXAMEN?n()(".d-inline","Observaciones:"):"",null!==e.OBS_EXAMEN?n()("br"):"",null!==e.OBS_EXAMEN?n()(".d-inline",e.OBS_EXAMEN):""]})}},Jr={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==Jr.data&&0==Jr.data.length||Jr.numeroPedido!==e.attrs.numeroPedido)&&(Jr.numeroPedido=e.attrs.numeroPedido,Jr.numeroAtencion=e.attrs.numeroAtencion,Jr.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,Jr.fetch()))},fetch:function(){Jr.data=[],Jr.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-patologia",body:{numeroPedido:Jr.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Jr.loader=!1,Jr.data=e.data,Jr.examenes=e.examenes,Br.fetch()):Jr.error=e.message}).catch(function(e){})},view:function(e){return[n()(o,{oncreate:o.setPage("patologia")}),n()(Fr,{oncreate:Fr.setPage(26)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/patologia"},["Patología"])),n()("li.breadcrumb-item.active[aria-current='page']","DETALLE DE PEDIDO")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Jr.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){Jr.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){Jr.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){Jr.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){Jr.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==jr.idFiltro&&1<jr.idFiltro?n().route.set("/patologia/pedidos/",{idFiltro:jr.idFiltro,fechaDesde:jr.fechaDesde,fechaHasta:jr.fechaHasta}):n().route.set("/patologia/pedidos/",{idFiltro:1})}}))),n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de PedidoPatologia:"),n()("td",{style:{"background-color":"#eaeff5"}},Jr.data.CD_PRE_MED),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Jr.data.FECHA_PEDIDO+" "+Jr.data.HORA_PEDIDO),n()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Jr.data.SECTOR)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Jr.data.MED_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Jr.data.ESPECIALIDAD)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Jr.data.NM_PACIENTE),n()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),n()("td",{style:{"background-color":"#eaeff5"}},Jr.data.EDAD),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Jr.data.CD_PACIENTE)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),n()("td",{style:{"background-color":"#eaeff5"}},Jr.data.AT_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),n()("td",{style:{"background-color":"#eaeff5"}},Jr.data.PESO),n()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),n()("td",{style:{"background-color":"#eaeff5"}},Jr.data.ALTURA),n()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Jr.data.SECTOR+" "+Jr.data.UBICACION)]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},n()(Vr))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(Br)])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}},zr=Jr;var qr={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(qr.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?qr.start(e):qr.stop(e),e.isPaused=!e.isPaused}};function Xr(){var t={interval:null,seconds:100,isPaused:!1};return qr.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){qr.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){qr.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){qr.stop(t)}}}var Gr={oncreate:function(){Zr.loadEtiquetas(),0!==Zr.searchField.length&&$("#table-etiquetas").DataTable().search(Zr.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Admisiones:")]),n()("div.col-sm-12.filemgr-content-header",{class:1==Zr.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){Zr.searchField=e.target.value},value:Zr.searchField}))]),n()("table.table.table-sm.tx-11[id='table-etiquetas'][width='100%']")])])])}},Zr={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",loaderImprimir:!1,oninit:function(e){ba.page="",0==Zr.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Zr.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Zr.fechaHasta=moment().format("DD-MM-YYYY"),Zr.loader=!0,Zr.pedidos=[],Zr.fetchEtiquetas())},loadEtiquetas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-etiquetas").DataTable({data:Zr.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Paciente:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[2],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td",{class:"I"==t.TP_ATENDIMENTO?"bg-primary":"bg-danger"},["I"==t.TP_ATENDIMENTO?n()("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","Internación"):n()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","Emergencia")]),n()("td.wd-40p",{style:{}},t.NM_PACIENTE),n()("td.tx-center.tx-semibold",{onclick:function(){Zr.loaderImprimir?alert("Tienes un proceso de Impresión pendiente."):Zr.generarImpresion(t.CD_ATENDIMENTO)},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Imprimir ")]}})},drawCallback:function(e){Zr.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchEtiquetas:function(){var e="",e=1==Zr.idFiltro?"?type=ingresadas&idFiltro="+Zr.idFiltro:"?type=ingresadas&idFiltro="+Zr.idFiltro+"&fechaDesde="+Zr.fechaDesde+"&fechaHasta="+Zr.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ptes-etiquetas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Zr.loader=!1,Zr.pedidos=e.data}).catch(function(e){setTimeout(function(){Zr.fetchEtiquetas()},2e3)})},reloadData:function(){var e=$("#table-etiquetas").DataTable();e.clear(),e.rows.add(Zr.pedidos).draw()},generarImpresion:function(e){Zr.loaderImprimir=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/as-print-etiquetas",body:{numAtencion:e},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?Zr.imprimirEtiquetas(e.data,12):(Zr.loaderImprimir=!1,alert("Proceso no se completo con éxito, puedes reintetar una vez más. Si el inconveniente persiste, comuníquese con nuestra Mesa de Ayuda Ext: 2020."))}).catch(function(e){Zr.loaderImprimir=!1,alert(e)})},imprimirEtiquetas:function(e,t){n().request({method:"POST",url:"https://eti.hospitalmetropolitano.org/imprimir",body:{file:e,printer:"ETIQUETAS_MPLUS_EME",pages:t,ancho:670,alto:120},headers:{"Content-Type":"application/json; charset=utf-8"},extract:function(e){return{status:e.status,body:e.responseText}}}).then(function(e){201==e.status?(Zr.loaderImprimir=!1,alert("Proceso realizado con éxito.")):(Zr.loaderImprimir=!1,alert(e.body.mensaje))}).catch(function(e){Zr.loaderImprimir=!1,alert(e)})},view:function(e){return Zr.loader?[n()(ba,{oncreate:ba.setPage(27)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/admisiones"},[" Admsiones "])),n()("li.breadcrumb-item.active[aria-current='page']","Impresión de Etiquetas")]),n()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==Zr.error.length?[n()(ba,{oncreate:ba.setPage(27)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/admisiones"},[" Admsiones "])),n()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),n()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:Zr.loader||0===Zr.pedidos.length?Zr.loader||0!=Zr.pedidos.length?[n()(ba,{oncreate:ba.setPage(27)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/admisiones"},[" Admsiones "])),n()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),n()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(ba,{oncreate:ba.setPage(27)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/admisiones"},[" Admsiones "])),n()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),n()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(ba,{oncreate:ba.setPage(27)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/admisiones"},[" Admsiones "])),n()("li.breadcrumb-item.active[aria-current='page']"," Impresión de Etiquetas ")]),n()("h1.df-title.mg-t-20.mg-b-10","Impresión de Etiquetas:"),n()(Gr)])),n()("div.section-nav",[n()("label.nav-label"," Impresión de Etiquetas "),n()("div.mg-t-10.bg-white",n()("div.pd-20",n()(Xr)))])]}},Kr=Zr;var Wr={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(Wr.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Wr.start(e):Wr.stop(e),e.isPaused=!e.isPaused}};function Qr(){var t={interval:null,seconds:100,isPaused:!1};return Wr.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Wr.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Wr.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Wr.stop(t)}}}var ei={oncreate:function(){P.loadRecetas(),0!==P.searchField.length&&$("#table-recetas").DataTable().search(P.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Farmacia:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==P.idFiltro&&(e.dom.innerHTML="Recetas de Hoy"),2==P.idFiltro&&(e.dom.innerHTML="Recetas entre Fechas"),3==P.idFiltro&&(e.dom.innerHTML="Recetas de Emergencia"),4==P.idFiltro&&(e.dom.innerHTML="Recetas de Hospitalización"),5==P.idFiltro&&(e.dom.innerHTML="Recetas de PB"),6==P.idFiltro&&(e.dom.innerHTML="Recetas de H1"),7==P.idFiltro&&(e.dom.innerHTML="Recetas de H2"),8==P.idFiltro&&(e.dom.innerHTML="Recetas de C2")},onupdate:function(e){1==P.idFiltro&&(e.dom.innerHTML="Recetas de Hoy"),2==P.idFiltro&&(e.dom.innerHTML="Recetas entre Fechas"),3==P.idFiltro&&(e.dom.innerHTML="Recetas de Emergencia"),4==P.idFiltro&&(e.dom.innerHTML="Recetas de Hospitalización"),5==P.idFiltro&&(e.dom.innerHTML="Recetas de PB"),6==P.idFiltro&&(e.dom.innerHTML="Recetas de H1"),7==P.idFiltro&&(e.dom.innerHTML="Recetas de H2"),8==P.idFiltro&&(e.dom.innerHTML="Recetas de C2")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==P.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==P.idFiltro?moment(moment(P.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){P.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetch(),n().route.set("/farmacia/recetas/?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==P.idFiltro?moment(moment(P.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){P.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetch(),n().route.set("/farmacia/recetas/?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=1"},["Recetas de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=2&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Recetas entre Fechas"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=3&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Recetas de Emergencia"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=4&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Recetas de Hospitalización"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=5&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Recetas de PB"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=6&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Recetas de H1"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=7&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Recetas de H2"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=8&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta},["Recetas de C2"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==P.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){P.searchField=e.target.value},value:P.searchField}))]),n()("table.table.table-sm.tx-11[id='table-recetas'][width='100%']")])])])}},P={notificaciones:[],pedidos:[],pendientes:0,despachos:0,showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){da.page="",0==P.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),P.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),P.fechaHasta=moment().format("DD-MM-YYYY"),P.loader=!0,P.pedidos=[],P.fetch())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Farmacia")},loadRecetas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-recetas").DataTable({data:P.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:[{title:"Fecha Receta:"},{title:"Paciente:"},{title:"Status Despacho:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.FECHA_RECETA},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[3],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.tx-14",{style:{}},t.FECHA_RECETA),n()("td.wd-60p",{style:{}},[n()(".d-inline.tx-semibold.tx-14","NHC: "),n()(".d-inline.tx-14",t.CD_PACIENTE),n()("br"),n()(".d-inline.tx-semibold.tx-14","PTE: "),n()(".d-inline.tx-14",t.NM_PACIENTE),n()("br"),n()(".d-inline.tx-semibold.tx-14","N° ATENCIÓN: "),n()(".d-inline.tx-14",t.CD_ATENDIMENTO),n()(".d-inline.tx-semibold.tx-14"," UBICACIÓN: "),n()(".d-inline.tx-14",t.UBICACION+" - "+t.DS_UNID_INT)]),n()("td.tx-center.wd-10p.tx-white.tx-semibold",{style:{"background-color":0==t.STATUS_DESPACHO?"#fd7e14":"#0d9448"}},0==t.STATUS_DESPACHO?"Pendiente":"Despachado"),n()("td.tx-center.wd-10p.tx-semibold",{onclick:function(){n().route.set("/farmacia/receta/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.CD_ATENDIMENTO,numeroReceta:t.id,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver ",n()("br")," Receta ")]}})},drawCallback:function(e){P.loader=!1,P.despachos=0,P.pendientes=0,e.aoData.map(function(e,t){1==e._aData.STATUS_DESPACHO?P.despachos++:P.pendientes++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==P.idFiltro?"?idFiltro="+P.idFiltro:"?idFiltro="+P.idFiltro+"&fechaDesde="+P.fechaDesde+"&fechaHasta="+P.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/recetas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),P.loader=!1,P.pedidos=e.data}).catch(function(e){setTimeout(function(){P.fetch()},2e3)})},reproesarMensajeXML:function(e,t){P.loader=!0,n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-recetas").DataTable();e.clear(),e.rows.add(P.pedidos).draw()},view:function(e){return P.loader?[n()(da,{oncreate:da.setPage(5)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/farmacia"},[" Farmacia "])),n()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),n()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==P.error.length?[n()(da,{oncreate:da.setPage(5)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/farnacia"},[" Farmacia "])),n()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),n()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:P.loader||0===P.pedidos.length?P.loader||0!=P.pedidos.length?[n()(da,{oncreate:da.setPage(5)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(da,{oncreate:da.setPage(5)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/farmacia"},[" Farmacia "])),n()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),n()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(da,{oncreate:da.setPage(5)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/farmacia"},[" Farmacia "])),n()("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),n()("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),n()(ei)])),n()("div.section-nav",[n()("label.nav-label","Recetas de Alta"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Recetas de Alta:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",P.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Receta(s)")])])]),n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Pendientes:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",P.pendientes),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Receta(s)")])])]),n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Despachadas:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",P.despachos),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Receta(s)")])])])),n()("div.pd-20",n()(Qr)))])]}},ti=P,ai={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:ai.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[0],{view:function(){return n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observación:"),n()("small.tx-white",moment.unix(e._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),n()("div.toast-body.small",e._aData.message)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(ai.data).draw()},fetch:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+ri.numeroReceta}).then(function(e){ai.data=e.data,ai.loadObservaciones()}).catch(function(e){})},sendObs:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+ri.numeroReceta,body:{message:ai.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status&&(ai.observaciones="",ai.fetch(),alert("Observación registrada con éxito."))}).catch(function(e){})}},oi={view:function(){if(0!==ri.medicamentos.length)return[n()("thead",n()("tr",[n()("th","MEDICACIÓN"),n()("th","CANT:"),n()("th","DESP:")])),n()("tbody",[ri.medicamentos.map(function(e,t,a){return e.DESP.includes("SI")?[n()("tr",[n()("td.tx-semibold.tx-normal",[e.MEDICACION,n()("br"),null!==e.OBS?n()(".d-inline","Observaciones:"):"",null!==e.OBS?n()("br"):"",null!==e.OBS?n()(".d-inline",e.OBS):""]),n()("td.tx-semibold.tx-normal",e.CANT),n()("td.tx-semibold.tx-normal.bg-danger.tx-white",e.DESP)])]:[n()("tr",[n()("td.tx-semibold.tx-normal",[e.MEDICACION,n()("br"),null!==e.OBS?n()(".d-inline","Observaciones:"):"",null!==e.OBS?n()("br"):"",null!==e.OBS?n()(".d-inline",e.OBS):""]),n()("td.tx-color-03.tx-normal",e.CANT),n()("td.tx-color-03.tx-normal",e.DESP)])]})])]}},ri={data:[],medicamentos:[],despacho:!1,error:"",numeroReceta:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){void 0!==e.attrs.numeroReceta&&(document.title="Detalle de Receta N°: "+e.attrs.numeroReceta+" | "+d.title,(void 0!==ri.data&&0==ri.data.length||ri.numeroReceta!==e.attrs.numeroReceta)&&(ri.numeroReceta=e.attrs.numeroReceta,ri.numeroAtencion=e.attrs.numeroAtencion,ri.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,ri.fetch()))},fetch:function(){ri.data=[],ri.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-receta",body:{numeroReceta:ri.numeroReceta},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(e.data=e.data[0],ri.loader=!1,ri.data=e.data,ri.despacho=1==ri.data.STATUS_DESPACHO,ri.medicamentos=e.data.DATA,ai.fetch()):ri.error=e.message}).catch(function(e){})},checkDespacho:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/check-receta",body:{numeroReceta:ri.numeroReceta,status:ri.despacho},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){ri.data.FECHA_DESPACHO=e.FECHA_DESPACHO}).catch(function(e){})},view:function(e){return[n()(o,{oncreate:o.setPage("farmacia")}),n()(da,{oncreate:da.setPage(5)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/farmacia"},["Farmacia"])),n()("li.breadcrumb-item.active[aria-current='page']","DETALLE DE RECETA")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Receta N°: "+ri.numeroReceta),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){ri.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){ri.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){ri.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){ri.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[ri.despacho?[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-success mg-b-2 mg-r-2"},[],"Despachado")]:[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-light mg-b-2 mg-r-2"},[],"Pendiente")],n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){void 0!==ti.idFiltro&&1<ti.idFiltro?(ti.pedidos=[],n().route.set("/farmacia/recetas/",{idFiltro:ti.idFiltro,fechaDesde:ti.fechaDesde,fechaHasta:ti.fechaHasta})):(ti.pedidos=[],n().route.set("/farmacia/recetas/",{idFiltro:1}))}}))),n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS RECETA:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de Receta:"),n()("td",{style:{"background-color":"#eaeff5"}},ri.data.CD_DOCUMENTO_CLINICO),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},ri.data.DT_ATENDIMENTO),n()("th",{style:{"background-color":"#a8bed6"}},"N° de Atención:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ri.data.CD_ATENDIMENTO)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ri.data.NM_PACIENTE),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td",{style:{"background-color":"#eaeff5"}},ri.data.CD_PACIENTE),n()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},ri.data.UBICACION)]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","MEDICAMENTOS Y OBSERVACIONES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Medicamentos:"),n()("td.pd-0[colspan='8']",{style:{"background-color":"#eaeff5"}},n()(oi))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='9']","DESPACHO Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[target='_target'][href='"+ri.data.URL+"']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," Ver Receta ")),n()("li.nav-item",n()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},n()("i.fas.fa-inbox.pd-1.mg-r-2")," Despacho "))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Despacho Farmacia"),n()("tr",[n()("td.tx-18.tx-medium.text-left","¿Confirmar despacho?:"),n()("td.tx-16.tx-normal",n()("div.custom-control.custom-checkbox.tx-16",[n()("input.custom-control-input.tx-16[type='checkbox'][id='check_despacho']",{checked:ri.despacho,onclick:function(e){e.preventDefault(),this.checked?(this.checked=!0,ri.despacho=!0):(this.checked=!1,ri.despacho=!1),ri.checkDespacho()}}),n()("label.custom-control-label.tx-16[for='check_despacho']",ri.despacho?["SI a las: "+ri.data.FECHA_DESPACHO]:["SI"])]))])]),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){ai.observaciones=e.target.value},value:ai.observaciones}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){0!==ai.observaciones.length?ai.sendObs():alert("Observaciones es obligatorio.")}},[n()("i.fas.fa-save.mg-r-5")],"Guardar")]),n()("hr.wd-100p.mg-t-5.mg-b-5")]),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),n()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}},ii=ri,ni={oncreate:function(){di.loadEtiCajas(),0!==di.searchField.length&&$("#table-etiquetas").DataTable().search(di.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Usuarios:")]),n()("div.col-sm-12.filemgr-content-header",{class:1==di.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){di.searchField=e.target.value},value:di.searchField}))]),n()("table.table.table-sm.tx-11[id='table-etiquetas'][width='100%']")])])])}},di={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",loaderImprimir:!1,oninit:function(e){r.page="",0==di.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),di.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),di.fechaHasta=moment().format("DD-MM-YYYY"),di.loader=!0,di.pedidos=[],di.fetchEtiCajas())},loadEtiCajas:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-etiquetas").DataTable({data:di.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,columns:[{title:"Usuario:"},{title:"Impresión:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.impresion},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.usuario},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return""},visible:!0,aTargets:[2],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.tx-18.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[t.impresion]),n()("td.wd-40p.tx-18.tx-semibold",{style:{}},t.usuario),n()("td.tx-center.tx-18.tx-semibold",{onclick:function(){var e=prompt("¿Nombre de Usuario?");null!==e&&di.changeUser(t.impresion,e)},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},n()("i.fas.fa-edit.mg-r-5")," Modificar ")]}})},drawCallback:function(e){di.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchEtiCajas:function(){n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/users-etiquetas",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){di.loader=!1,di.pedidos=e.data}).catch(function(e){setTimeout(function(){di.fetchEtiCajas()},2e3)})},reloadData:function(){var e=$("#table-etiquetas").DataTable();e.clear(),e.rows.add(di.pedidos).draw()},changeUser:function(e,t){n().request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/change-user",body:{impresion:e,usuario:t},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){alert(e.message),e.status&&window.location.reload()}).catch(function(e){alert(e)})},view:function(e){return di.loader?[n()(r,{oncreate:r.setPage(28)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Configuración de Etiquetas ")]),n()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==di.error.length?[n()(r,{oncreate:r.setPage(28)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),n()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:di.loader||0===di.pedidos.length?di.loader||0!=di.pedidos.length?[n()(r,{oncreate:r.setPage(28)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),n()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(r,{oncreate:r.setPage(28)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),n()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(r,{oncreate:r.setPage(28)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']"," Configuración de Etiquetas  ")]),n()("h1.df-title.mg-t-20.mg-b-10","Configuración de Etiquetas:  "),n()(ni)]))]}},si=di,li=Jn(360),ci={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.contabilidad.map(function(e,t,a){if(30==e.idModulo)return[li(li.route.Link,{href:"/"+e.href,class:ui.page==e.idModulo?"active":""},[e.label])]})]}},ui={page:"",setPage:function(e){ui.page=e},view:function(){return[li(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[li("div.sidebar-header",[li("a[href=''][id='mainMenuOpen']",li("i[data-feather='menu']")),li("h5","Menu"),li("a[href=''][id='sidebarMenuClose']",li("i[data-feather='x']"))]),li("div.sidebar-body",li("ul.sidebar-nav",[li("li.nav-label.mg-b-15","Contabilidad"),li("li.nav-item.show",[li(li.route.Link,{href:"/contabilidad",class:"nav-link with-sub"},[li("i[data-feather='layout']")," Contabilidad "]),li("nav.nav",[li(ci)])])]))])]}},mi=ui,pi=Jn(360),bi={view:function(){return[pi("div.content.content-components",pi("div.container",{style:{"max-width":"100%"}},[pi("ol.breadcrumb.df-breadcrumbs.mg-b-10",[pi("li.breadcrumb-item",pi(pi.route.Link,{href:"/"},["Metroplus"])),pi("li.breadcrumb-item.active[aria-current='page']","Contabilidad")]),pi("h1.df-title.mg-t-20.mg-b-10","Contabilidad:"),pi("div.row.tx-14",[d.isShow("contabilidad",30)?[pi("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){pi.route.set("/contabilidad/proceso/tarjeta-roja")}},[pi("div",{class:"media"},[pi("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},pi("i",{class:"fas fa-file-alt tx-30 tx-white"})),pi("div",{class:"media-body mg-l-15"},[pi("p",{class:"tx-18 mg-b-0"},"Tarjeta Roja"),pi("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Tarjeta Roja")])])])]:[]])]))]}},fi={oninit:function(){o.page="",mi.page="",d.isAuth()},oncreate:function(){document.title="Contabilidad | "+d.title},view:function(){return[pi(o,{oncreate:o.setPage("contabilidad")}),pi(mi),pi(bi)]}};var gi={searchField:"",data:[],loader:!1,loadPacientes:function(){$.fn.dataTable.ext.errMode="none";var e=$("#table-pacientes").DataTable({data:gi.data,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Asc"]],destroy:!0,columns:[{title:"N°:"},{title:"NHC:"},{title:"Paciente:"},{title:"Edad:"},{title:"Sexo:"},{title:"F. Nacimiento:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[2],width:"60%"},{mRender:function(e,t,a){return a.EDAD},visible:!0,aTargets:[3]},{mRender:function(e,t,a){return a.TP_SEXO},visible:!0,aTargets:[4]},{mRender:function(e,t,a){return a.DT_NASCIMENTO},visible:!0,aTargets:[5]},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[6]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){n().mount(e.anCells[6],{view:function(){return[n()("button.btn.btn-sm.btn-block.btn-primary[type='button']",{onclick:function(){k.nhc=e._aData.CD_PACIENTE,k.patientId=e._aData.CD_PACIENTE,k.paciente=e._aData.NM_PACIENTE,k.patientName=e._aData.NM_PACIENTE,k.phoneNumber="0998785402",k.sexType="MALE",k.dateBirth="1993-08-01",k.email="mchangcnt@gmail.com",E.buscarPacientes=!E.buscarPacientes}},"Seleccionar")]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),e},fetchSearch:function(){gi.loader=!0,gi.data=[],n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/pacientes",body:{searchField:gi.searchField},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){gi.loader=!1,gi.data=e.data,gi.loadPacientes()}).catch(function(e){})},view:function(){return[n()("div.mg-t-10.pd-10.wd-100p",{class:gi.loader?"":"d-none"},n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.mg-t-10.pd-10.wd-100p",{class:gi.loader?"d-none":""},n()("table.table.table-sm.tx-11[id='table-pacientes'][width='100%']"))]}},hi={searchField:"",data:[],loader:!1,loadMedicos:function(){$.fn.dataTable.ext.errMode="none";var e=$("#table-medicos").DataTable({data:hi.data,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Asc"]],destroy:!0,columns:[{title:"N°:"},{title:"Código:"},{title:"Médico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.CD_PRESTADOR},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.NM_PRESTADOR},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[3]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){n().mount(e.anCells[3],{view:function(){return[n()("button.btn.btn-sm.btn-block.btn-primary[type='button']",{onclick:function(){k.codMedico=e._aData.CD_PRESTADOR,k.prestador=e._aData.NM_PRESTADOR,E.buscarMedicos=!E.buscarMedicos}},"Seleccionar")]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),e},fetchSearch:function(){hi.loader=!0,hi.data=[],n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/medicos",body:{searchField:hi.searchField},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){hi.loader=!1,hi.data=e.data,hi.loadMedicos()}).catch(function(e){})},view:function(){return[n()("div.mg-t-10.pd-10.wd-100p",{class:hi.loader?"":"d-none"},n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.mg-t-10.pd-10.wd-100p",{class:hi.loader?"d-none":""},n()("table.table.table-sm.tx-11[id='table-medicos'][width='100%']"))]}},vi={searchField:"",data:[],loader:!1,loadItems:function(){$.fn.dataTable.ext.errMode="none";var e=$("#table-items").DataTable({data:vi.data,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[2,"Asc"]],destroy:!0,columns:[{title:"N°:"},{title:"Código:"},{title:"Item:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(e,t,a){return a.CD_ITEM_AGENDAMENTO},visible:!0,aTargets:[1]},{mRender:function(e,t,a){return a.DS_ITEM_AGENDAMENTO},visible:!0,aTargets:[2]},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[3]}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e){n().mount(e.anCells[3],{view:function(){return[n()("button.btn.btn-sm.btn-block.btn-primary[type='button']",{onclick:function(){k.codItem=e._aData.CD_ITEM_AGENDAMENTO,k.estudio=e._aData.DS_ITEM_AGENDAMENTO,E.buscarItems=!E.buscarItems}},"Seleccionar")]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),e},fetchSearch:function(){vi.loader=!0,vi.data=[],n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/items",body:{searchField:vi.searchField},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){vi.loader=!1,vi.data=e.data,vi.loadItems()}).catch(function(e){})},view:function(){return[n()("div.mg-t-10.pd-10.wd-100p",{class:vi.loader?"":"d-none"},n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div.mg-t-10.pd-10.wd-100p",{class:vi.loader?"d-none":""},n()("table.table.table-sm.tx-11[id='table-items'][width='100%']"))]}},k={},E={citasDisponibles:[],citasAgendadas:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,loadDetalle:!1,nuevaCita:!1,error:"",buscarPacientes:!1,buscarMedicos:!1,buscarItems:!1,oninit:function(e){E.loader=!0,E.citasDisponibles=[],E.citasAgendadas=[],setTimeout(function(){E.fetchAgendaImagen()},1500)},setSidebar:function(){try{$("#calendarInline").datepicker({showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:function(e){return[!0,e.getDate()<10?"zero":""]},dateFormat:"yy-mm-dd",onSelect:function(e){$("#calendar").fullCalendar("gotoDate",this.value)}}),setTimeout(function(){new PerfectScrollbar("#calendarSidebarBody",{suppressScrollX:!0})},100),$("#calendarSidebarShow").on("click",function(e){e.preventDefault(),$("body").toggleClass("calendar-sidebar-show"),$(this).addClass("d-none"),$("#mainMenuOpen").removeClass("d-none")}),$(document).on("click touchstart",function(e){e.stopPropagation(),$(e.target).closest(".burger-menu").length||$(e.target).closest(".calendar-sidebar").length||($("body").removeClass("calendar-sidebar-show"),$("#mainMenuOpen").addClass("d-none"),$("#calendarSidebarShow").removeClass("d-none"))}),$("#accordion").accordion({heightStyle:"content",collapsible:!0})}catch(e){E.setSidebar()}},setCalendar:function(){try{$("#calendar").fullCalendar({height:"parent",header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,listWeek"},navLinks:!0,selectable:!0,selectLongPressDelay:100,editable:!0,nowIndicator:!0,defaultView:"listMonth",minTime:"06:00:00",maxTime:"21:00:00",slotDuration:"00:15:00",slotLabelInterval:15,slotLabelFormat:"HH:mma",slotMinutes:15,timeFormat:"HH:mma",views:{agenda:{columnHeaderHtml:function(e){return"<span>"+e.format("ddd")+"</span><span>"+e.format("DD")+"</span>"}},day:{columnHeader:!1},listMonth:{listDayFormat:"ddd DD",listDayAltFormat:!1},listWeek:{listDayFormat:"ddd DD",listDayAltFormat:!1},agendaThreeDay:{type:"agenda",duration:{days:3},titleFormat:"MMMM YYYY"}},eventSources:[E.citasAgendadas],eventAfterAllRender:function(e){"listMonth"!==e.name&&"listWeek"!==e.name||e.el.find(".fc-list-heading-main").each(function(){var e=$(this).text().split(" "),t=moment().format("DD");$(this).html(e[0]+"<span>"+e[1]+"</span>"),t===e[1]&&$(this).addClass("now")}),console.log(e.el)},eventRender:function(e,t){e.description&&(t.find(".fc-list-item-title").append('<span class="fc-desc">'+e.description+"</span>"),t.find(".fc-content").append('<span class="fc-desc">'+e.description+"</span>"));e=e.source.borderColor||e.borderColor;t.find(".fc-list-item-time").css({color:e,borderColor:e}),t.find(".fc-list-item-title").css({borderColor:e}),t.css("borderLeftColor",e)},eventDrop:function(e){console.log(2,e),console.log(2.1,moment(e.start).format("LLL")),console.log(2.2,moment(e.end).format("LLL")),k.id=e.id,k.start=e.start.format("dddd, DD-MM-YYYY HH:mm"),k.end=e.end.format("dddd, DD-MM-YYYY HH:mm"),k.paciente=e.paciente,k.prestador=e.prestador,k.nhc=e.nhc,k.codMedico=e.codMedico,k.codItem=e.codItem,k.estudio=e.estudio,k.comentarios=e.description,k.ubicacion=e.ubicacion,k.tipoCita=1;var t=$("#modalUpdateEvent");t.modal("show"),t.find(".modal-header").css("backgroundColor",e.source.borderColor||e.borderColor),n().redraw()},eventResize:function(e){k.id=e.id,k.start=e.start.format("dddd, DD-MM-YYYY HH:mm"),k.end=e.end.format("dddd, DD-MM-YYYY HH:mm"),k.paciente=e.paciente,k.prestador=e.prestador,k.nhc=e.nhc,k.codMedico=e.codMedico,k.codItem=e.codItem,k.estudio=e.estudio,k.comentarios=e.description,k.ubicacion=e.ubicacion,k.tipoCita=e.tipoCita;var t=$("#modalUpdateEvent");t.modal("show"),t.find(".modal-header").css("backgroundColor",e.source.borderColor||e.borderColor),n().redraw()}});var t=$("#calendar").fullCalendar("getCalendar");window.matchMedia("(min-width: 576px)").matches&&t.changeView("agendaWeek"),window.matchMedia("(min-width: 992px)").matches&&t.changeView("month"),t.option("windowResize",function(e){"listWeek"===e.name&&(window.matchMedia("(min-width: 992px)").matches?t.changeView("month"):t.changeView("listWeek"))}),t.on("eventClick",function(e,t,a){k.id=e.id,k.start=e.start,k.end=e.end,k.paciente=e.title;var o=$("#modalCalendarEvent");o.modal("show"),o.find(".event-title").text(k.paciente),o.find(".event-start-date").text(moment(e.start).format("LLL")),o.find(".event-end-date").text(moment(e.end).format("LLL")),o.find(".modal-header").css("backgroundColor",e.source.borderColor||e.borderColor)}),t.getDate();t.option("select",function(e,t){k.hashCita=e.format("YYYY-MM-DD HH:mm")+"."+t.format("YYYY-MM-DD HH:mm"),k.start=e.format("dddd, DD-MM-YYYY HH:mm"),k.end=t.format("dddd, DD-MM-YYYY HH:mm"),k.tipoCita=1,$("#modalCreateEvent").modal("show"),n().redraw()}),$(".select2-modal").select2({minimumResultsForSearch:1/0,dropdownCssClass:"select2-dropdown-modal"}),$(".calendar-add").on("click",function(e){e.preventDefault(),$("#modalCreateEvent").modal("show")})}catch(e){location.reload()}},oncreate:function(e){$('[data-toggle="tooltip"]').tooltip(),document.body.classList.add("app-calendar"),Te.suscribirCanal("MetroPlus-Imagen-Agenda")},reloadFetchAgendaImagen:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/v2/date/citas/agendadas",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){E.loader=!1,E.citasAgendadas=e.citasAgendadas,$("#calendar").fullCalendar("removeEvents"),$("#calendar").fullCalendar("addEventSource",E.citasAgendadas),$("#calendar").fullCalendar("rerenderEvents")}).catch(function(e){})},fetchAgendaImagen:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/v2/date/citas/agendadas",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){E.loader=!1,E.citasAgendadas=e.citasAgendadas,setTimeout(function(){E.setCalendar()},80),setTimeout(function(){E.setSidebar()},160)}).catch(function(e){setTimeout(function(){E.fetchAgendaImagen()},1e3)})},agendarCita:function(){k.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/date/citas/nueva",body:k,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){k.loader=!1,console.log(e),e||alert(e)}).catch(function(e){})},view:function(e){return E.loader?[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header"),n()("div.calendar-sidebar-body")]),n()("div.calendar-content.pd-t-20.pd-l-100.pd-r-100",[n()("div.calendar-content-body.tx-center.mg-t-50",["Procesando... por favor espere.",n()("br"),n()("div.progress",n()(".progress-bar.bg-primary.progress-bar-striped.progress-bar-animated.wd-70p[role='progressbar'][aria-valuenow='75'][aria-valuemin='0'][aria-valuemax='100']")),"ApiDate Beta v1.0"])])])]:0!==E.error.length?[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header"),n()("div.calendar-sidebar-body")]),n()("div.calendar-content",[n()("div.calendar-content-body[id='calendar']")])])]:E.loader||0===E.citasAgendadas.length?(E.loader||E.citasAgendadas.length,[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header"),n()("div.calendar-sidebar-body")]),n()("div.calendar-content",[n()("div.calendar-content-body[id='calendar']")])])]):[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header",[n()("i[data-feather='search']"),n()("div.search-form",[n()("input.form-control[type='search'][placeholder='Buscar por Apellidos y Nombres']")]),n()("a.btn btn-sm btn-primary btn-icon calendar-add",[n()("div[data-toggle='tooltip']",[n()("i.tx-white[data-feather='plus']")])])]),n()("div.calendar-sidebar-body[id='calendarSidebarBody']",[n()("div.calendar-inline",[n()("div[id='calendarInline']")]),n()("div.pd-0[id='accordion']",[n()("h6.bg-white","Áreas/Salas"),n()("div",[n()("div",[n()("nav.calendar-nav.pd-0",[n()("a.discover.show[href='']",[n()("span"),"  Sala 1 "]),n()("a.meetup.show[href='']",[n()("span")," Sala 2"])])])]),n()("h6.bg-white","Médicos/Prestadores"),n()("div","..."),n()("h6.bg-white","Configuración"),n()("div",n()("div",[n()("nav.calendar-nav.pd-0",[n()("a.calendar.show[href='/imagen/agendamiento/configuracion'][target='_blank']",[n()("span")," Ir a Configuración "])])])),n()("h6.bg-white","ApiDate Beta v1.0"),n()("div","Dirección de Sistemas")])])]),n()("div.calendar-content",[n()("div.calendar-content-body[id='calendar']")])]),n()(".modal.calendar-modal-create[id='modalCreateEvent'][role='dialog'][aria-hidden='true']",n()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",n()("div.modal-content",[n()("div.modal-header.tx-white.mg-0",{style:{"background-color":"rgb(50, 90, 152)"}},[n()(".d-inline.tx-semibold.tx-18.event-title.tx-white.mg-0","Nueva Cita"),n()("nav.nav.nav-modal-event",[n()(".tx-14.d-inline.mg-0.tx-white","ApiDate Beta v1.0")])]),n()("div.modal-body.pd-20.pd-sm-30",[n()("div.mg-t-10.pd-10.wd-100p",{class:k.loader?"":"d-none"},n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div",{class:k.loader?"d-none":""},[n()("div",{class:E.buscarPacientes?"":"d-none"},[n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Pacientes:"),n()("div.form-group",n()("form",{onsubmit:function(e){e.preventDefault(),0!==gi.searchField.length?gi.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},[n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Apellidos y Nombres']",{oninput:function(e){gi.searchField=e.target.value}}),n()("div.input-group-append",n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==gi.searchField.length?gi.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},"Buscar"),n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){E.buscarPacientes=!E.buscarPacientes}},n()("i.fas.fa-times-circle")))])]),n()("div.row",[n()("div.col-12",n()(gi))]))]),n()("div",{class:E.buscarMedicos?"":"d-none"},[n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Médicos:"),n()("div.form-group",n()("form",{onsubmit:function(e){e.preventDefault(),0!==hi.searchField.length?hi.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},[n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Apellidos y Nombres']",{oninput:function(e){hi.searchField=e.target.value}}),n()("div.input-group-append",n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==hi.searchField.length?hi.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},"Buscar"),n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){E.buscarMedicos=!E.buscarMedicos}},n()("i.fas.fa-times-circle")))])]),n()("div.row",[n()("div.col-12",n()(hi))]))]),n()("div",{class:E.buscarItems?"":"d-none"},[n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Items:"),n()("div.form-group",n()("form",{onsubmit:function(e){e.preventDefault(),0!==vi.searchField.length?vi.fetchSearch():alert("Ingrese algún valor para continuar.")}},[n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Buscar Items']",{oninput:function(e){vi.searchField=e.target.value}}),n()("div.input-group-append",n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==vi.searchField.length?vi.fetchSearch():alert("Ingrese algún valor para continuar.")}},"Buscar"),n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){E.buscarItems=!E.buscarItems}},n()("i.fas.fa-times-circle")))])]),n()("div.row",[n()("div.col-12",n()(vi))]))]),n()("div",{class:E.buscarPacientes||E.buscarMedicos||E.buscarItems?"d-none":""},[n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Tipo:"),n()("div.input-group",[n()("div.custom-control.custom-radio",[n()("input.custom-control-input[type='radio'][id='tipoCita1'][name='tipoCita']",{onclick:function(e){k.tipoCita=1},oncreate:function(e){e.dom.checked=!0}}),n()("label.custom-control-label[for='tipoCita1']","Cita Médica")]),n()("div.custom-control.custom-radio.mg-l-20",[n()("input.custom-control-input[type='radio'][id='tipoCita2'][name='tipoCita']",{onclick:function(e){k.tipoCita=2}}),n()("label.custom-control-label[for='tipoCita2']","Evento")])])),n()("div.form-group",[n()("div.row.row-xs",[n()("div.col-6",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha y Hora de Inicio:"),n()("input.form-control[id='eventStartDate'][type='text'][disabled='disabled']",{value:k.start})),n()("div.col-6",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha y Hora de Fin"),n()("input.form-control[type='text'][value=''][disabled='disabled']",{value:k.end}))])]),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Ubicación:"),n()("div.input-group",[n()("select.tx-semibold",{onchange:function(e){k.ubicacion=e.target.value},class:"custom-select"},n()("option","Seleccione..."),["SALA 1","SALA 2"].map(function(e){return n()("option",e)}))])),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Historia Clínica Paciente:"),n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Numero de Historia Clínica'][autofocus]",{value:void 0!==k.paciente?k.nhc+" - "+k.paciente:"",oninput:function(e){e.preventDefault()},disabled:void 0!==k.paciente?"disabled":""}),n()("div.input-group-append",n()("button.btn.btn-primary[type='button']",{onclick:function(e){E.buscarPacientes=!E.buscarPacientes}},[n()("i.fas.fa-search.mg-r-2")," Buscar Pacientes "]))])),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Médico:"),n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Prestador']",{value:void 0!==k.prestador?k.codMedico+" - "+k.prestador:"",oninput:function(e){e.preventDefault()},disabled:void 0!==k.prestador?"disabled":""}),n()("div.input-group-append",n()("button.btn.btn-primary[type='button']",{onclick:function(e){E.buscarMedicos=!E.buscarMedicos}},[n()("i.fas.fa-search.mg-r-2")," Buscar Médicos "]))])),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Estudio:"),n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Items/Estudio']",{value:void 0!==k.codItem?k.codItem+" - "+k.estudio:"",oninput:function(e){e.preventDefault()},disabled:void 0!==k.codItem?"disabled":""}),n()("div.input-group-append",n()("button.btn.btn-primary[type='button']",{onclick:function(e){E.buscarItems=!E.buscarItems}},[n()("i.fas.fa-search.mg-r-2")," Buscar Estudios"]))])),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Comentarios:"),n()("textarea.form-control[rows='2'][placeholder='Comentarios']",{oninput:function(e){k.comentarios=e.target.value}}))])])]),n()("div.modal-footer",[n()("button.btn.btn-primary.mg-r-5",{onclick:function(){E.agendarCita()}},"Agendar Cita"),n()("a.btn.btn-secondary[href=''][data-dismiss='modal']","Cerrar")])]))),n()(".modal.calendar-modal-create[id='modalUpdateEvent'][role='dialog'][aria-hidden='true']",n()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",n()("div.modal-content",[n()("div.modal-header.tx-white",{style:{"background-color":"rgb(50, 90, 152)"}},[n()("h5.event-title.tx-white","Reagendar Cita")]),n()("div.modal-body.pd-20.pd-sm-30",[n()("div.mg-t-10.pd-10.wd-100p",{class:k.loader?"":"d-none"},n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])),n()("div",{class:k.loader?"d-none":""},[n()("div",{class:E.buscarPacientes?"":"d-none"},[n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Pacientes:"),n()("div.form-group",n()("form",{onsubmit:function(e){e.preventDefault(),0!==gi.searchField.length?gi.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},[n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Apellidos y Nombres']",{oninput:function(e){gi.searchField=e.target.value}}),n()("div.input-group-append",n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==gi.searchField.length?gi.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},"Buscar"),n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){E.buscarPacientes=!E.buscarPacientes}},n()("i.fas.fa-times-circle")))])]),n()("div.row",[n()("div.col-12",n()(gi))]))]),n()("div",{class:E.buscarMedicos?"":"d-none"},[n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Médicos:"),n()("div.form-group",n()("form",{onsubmit:function(e){e.preventDefault(),0!==hi.searchField.length?hi.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},[n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Apellidos y Nombres']",{oninput:function(e){hi.searchField=e.target.value}}),n()("div.input-group-append",n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==hi.searchField.length?hi.fetchSearch():alert("Ingrese Apellidos y Nombres para continuar.")}},"Buscar"),n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){E.buscarMedicos=!E.buscarMedicos}},n()("i.fas.fa-times-circle")))])]),n()("div.row",[n()("div.col-12",n()(hi))]))]),n()("div",{class:E.buscarItems?"":"d-none"},[n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Buscar Items:"),n()("div.form-group",n()("form",{onsubmit:function(e){e.preventDefault(),0!==vi.searchField.length?vi.fetchSearch():alert("Ingrese algún valor para continuar.")}},[n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Buscar Items']",{oninput:function(e){vi.searchField=e.target.value}}),n()("div.input-group-append",n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){0!==vi.searchField.length?vi.fetchSearch():alert("Ingrese algún valor para continuar.")}},"Buscar"),n()("button.btn.btn-outline-light[type='button']",{onclick:function(e){E.buscarItems=!E.buscarItems}},n()("i.fas.fa-times-circle")))])]),n()("div.row",[n()("div.col-12",n()(vi))]))]),n()("div",{class:E.buscarPacientes||E.buscarMedicos||E.buscarItems?"d-none":""},[n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Tipo:"),n()("div.input-group",[n()("div.custom-control.custom-radio",[n()("input.custom-control-input[type='radio'][id='tipoCitaUpdate1'][name='tipoCitaUpdate']",{onclick:function(e){k.tipoCita=1},onupdate:function(e){1==k.tipoCita&&(e.dom.checked=!0)}}),n()("label.custom-control-label[for='tipoCitaUpdate1']","Cita")]),n()("div.custom-control.custom-radio.mg-l-20",[n()("input.custom-control-input[type='radio'][id='tipoCitaUpdate2'][name='tipoCitaUpdate']",{onclick:function(e){k.tipoCita=2},onupdate:function(e){2==k.tipoCita&&(e.dom.checked=!0)}}),n()("label.custom-control-label[for='tipoCitaUpdate2']","Evento")])])),n()("div.form-group",[n()("div.row.row-xs",[n()("div.col-6",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha y Hora de Inicio:"),n()("input.form-control[id='eventStartDate'][type='text'][disabled='disabled']",{value:k.start})),n()("div.col-6",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Fecha y Hora de Fin"),n()("input.form-control[type='text'][value=''][disabled='disabled']",{value:k.end}))])]),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Ubicación:"),n()("div.input-group",[n()("select.tx-semibold",{value:k.ubicacion,class:"custom-select"},n()("option","Seleccione..."),["SALA 1","SALA 2"].map(function(e){return n()("option",e)}))])),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Historia Clínica Paciente:"),n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Numero de Historia Clínica'][autofocus]",{value:void 0!==k.paciente?k.nhc+" - "+k.paciente:"",oninput:function(e){e.preventDefault()},disabled:void 0!==k.paciente?"disabled":""}),n()("div.input-group-append",n()("button.btn.btn-primary[type='button']",{onclick:function(e){E.buscarPacientes=!E.buscarPacientes}},[n()("i.fas.fa-search.mg-r-2")," Buscar Pacientes "]))])),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Médico:"),n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Prestador']",{value:void 0!==k.prestador?k.codMedico+" - "+k.prestador:"",oninput:function(e){e.preventDefault()},disabled:void 0!==k.prestador?"disabled":""}),n()("div.input-group-append",n()("button.btn.btn-primary[type='button']",{onclick:function(e){E.buscarMedicos=!E.buscarMedicos}},[n()("i.fas.fa-search.mg-r-2")," Buscar Médicos "]))])),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Estudio:"),n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Items/Estudio']",{value:void 0!==k.codItem?k.codItem+" - "+k.estudio:"",oninput:function(e){e.preventDefault()},disabled:void 0!==k.codItem?"disabled":""}),n()("div.input-group-append",n()("button.btn.btn-primary[type='button']",{onclick:function(e){E.buscarItems=!E.buscarItems}},[n()("i.fas.fa-search.mg-r-2")," Buscar Estudios"]))])),n()("div.form-group",n()("label.tx-semibold.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1","Comentarios:"),n()("textarea.form-control[rows='2'][placeholder='Comentarios']",{value:k.comentarios,oninput:function(e){k.comentarios=e.target.value}}))])])]),n()("div.modal-footer",[n()("button.btn.btn-primary.mg-r-5",{onclick:function(){E.agendarCita()}},"Reagendar Cita"),n()("a.btn.btn-secondary[href=''][data-dismiss='modal']","Cerrar")])]))),n()(".modal.calendar-modal-event[id='modalCalendarEvent'][role='dialog'][aria-hidden='true']",n()(".modal-dialog.modal-dialog-centered.modal-xl[role='document']",n()("div.modal-content",[n()("div.modal-header",[n()("h6.event-title"),n()("nav.nav.nav-modal-event",[n()("a.nav-link[href='#']",n()("i[data-feather='external-link']")),n()("a.nav-link[href='#']",n()("i[data-feather='trash-2']")),n()("a.nav-link[href='#'][data-dismiss='modal']",n()("i[data-feather='x']"))])]),n()("div.modal-body",[n()("div.row.row-sm",[n()("div.col-sm-6",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Start Date"),n()("p.event-start-date")]),n()("div.col-sm-6",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","End Date"),n()("p.event-end-date")])]),n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Description"),n()("p.event-desc.tx-gray-900.mg-b-40"),n()("a.btn.btn-secondary.pd-x-20[href=''][data-dismiss='modal']","Close")])])))]}},xi=E,_i=Jn(360),yi={menu:[{idModulo:32,label:"Nueva Tarjeta Roja",href:"contabilidad/proceso/tarjeta-roja/nueva"},{idModulo:33,label:"Autorizaciones",href:"contabilidad/proceso/tarjeta-roja/autorizaciones"}],view:function(){if(0!==yi.menu.length)return[yi.menu.map(function(e,t,a){return[_i(_i.route.Link,{href:"/"+e.href,class:wi.page==e.idModulo?"active":""},[e.label])]})]}},wi={page:"",setPage:function(e){wi.page=e},view:function(){return[_i(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[_i("div.sidebar-header",[_i("a[href=''][id='mainMenuOpen']",_i("i[data-feather='menu']")),_i("h5","Menu"),_i("a[href=''][id='sidebarMenuClose']",_i("i[data-feather='x']"))]),_i("div.sidebar-body",_i("ul.sidebar-nav",[_i("li.nav-label.mg-b-15","Contabilidad por Procesos"),_i("li.nav-item.show",[_i(_i.route.Link,{href:"/contabilidad",class:"nav-link with-sub"},[_i("i[data-feather='layout']")," Tarjeta Roja "]),_i("nav.nav",[_i(yi)])])]))])]}},Mi=wi,Di=Jn(360),Pi={view:function(){return[Di("div.content.content-components",Di("div.TRojainer",{style:{"max-width":"100%"}},[Di("ol.breadcrumb.df-breadcrumbs.mg-b-10",[Di("li.breadcrumb-item",Di(Di.route.Link,{href:"/"},["Metroplus"])),Di("li.breadcrumb-item",Di(Di.route.Link,{href:"/contabilidad"},["Contabilidad"])),Di("li.breadcrumb-item.active[aria-current='page']","TARJETA ROJA")]),Di("h1.df-title.mg-t-20.mg-b-10","Tarjeta Roja:"),Di("div.row.tx-14",[d.isShow("contabilidad",32)?[Di("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Di.route.set("/contabilidad/proceso/tarjeta-roja/nueva")}},[Di("div",{class:"media"},[Di("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Di("i",{class:"fas fa-file tx-30 tx-white"})),Di("div",{class:"media-body mg-l-15"},[Di("p",{class:"tx-18 mg-b-0"},"Nueva Tarjeta Roja"),Di("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Nueva Tarjeta Roja")])])])]:[],d.isShow("contabilidad",32)?[Di("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){Di.route.set("/contabilidad/proceso/tarjeta-roja/autorizaciones")}},[Di("div",{class:"media"},[Di("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},Di("i",{class:"fas fa-user-edit tx-30 tx-white"})),Di("div",{class:"media-body mg-l-15"},[Di("p",{class:"tx-18 mg-b-0"},"Autorizaciones"),Di("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Autorizaciones")])])])]:[]])]))]}},ki={oninit:function(){o.page="",Mi.page="",d.isAuth()},oncreate:function(){document.title="Tarjeta Roja | "+d.title},view:function(){return[Di(o,{oncreate:o.setPage("contabilidad")}),Di(Mi),Di(Pi)]}},Ei={view:function(e){return"ALMACENAR"==e.attrs.destino_final?n()("input",{class:"form-control tx-semibold tx-15",type:"text",placeholder:"Destino Final",oninput:function(e){t.data.destino_final=e.target.value}}):"ENTR_NUEVA_AREA"==e.attrs.destino_final?n()("input",{class:"form-control tx-semibold tx-15",type:"text",placeholder:"Nueva Área",oninput:function(e){t.data.destino_final=e.target.value}}):"PRO_LEGAL"==e.attrs.destino_final?n()("h4.tx-semibold",{oncreate:function(){t.data.destino_final="PRO_LEGAL"}},"Legalización"):"RET_COLABORADOR"==e.attrs.destino_final?n()("h4.tx-semibold",{oncreate:function(){t.data.destino_final="RET_COLABORADOR"}},"Entrega Colaborador"):"ENV_GES_AMB"==e.attrs.destino_final?n()("h4.tx-semibold",{oncreate:function(){t.data.destino_final="ENV_GES_AMB"}},"Envío a Gestor Ambiental"):n()("select.tx-semibold",{onchange:function(e){t.data.destino_final=e.target.value},class:"custom-select"},n()("option","Seleccione..."),["SISTEMAS","MANTENIMIENTO","INGENIERIA CLINICA"].map(function(e){return n()("option",e)}))}},t={id:null,data:[],activos:[],examenes:[],error:"",numeroNuevaTRoja:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,user:"",pass:"",loaderFirma:!1,oninit:function(){t.fetch(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")})},fetch:function(){t.activos=[],t.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(t.loader=!1,t.activos=e.data):t.error=e.message}).catch(function(e){t.fetch()})},sendDataTR:function(){if(null==t.data.accion_sugerida||0==t.data.accion_sugerida.length)throw alert("Todos los campos son obligatorios (accion_sugerida)."),"Todos los campos son obligatorios (accion_sugerida).";if(null==t.data.categoria||0==t.data.categoria.length)throw alert("Todos los campos son obligatorios (categoria)."),"Todos los campos son obligatorios (categoria).";if(null==t.data.marca||0==t.data.marca.length)throw alert("Todos los campos son obligatorios (marca)."),"Todos los campos son obligatorios (marca).";if(null==t.data.modelo||0==t.data.modelo.length)throw alert("Todos los campos son obligatorios (modelo)."),"Todos los campos son obligatorios (modelo).";if(null==t.data.motivo_baja||0==t.data.motivo_baja.length)throw alert("Todos los campos son obligatorios (motivo_baja)."),"Todos los campos son obligatorios (motivo_baja).";if(null==t.data.nombre||0==t.data.nombre.length)throw alert("Todos los campos son obligatorios (nombre)."),"Todos los campos son obligatorios (nombre).";if(null==t.data.serie||0==t.data.serie.length)throw alert("Todos los campos son obligatorios (serie)."),"Todos los campos son obligatorios (serie).";if(null==t.data.sub_categoria||0==t.data.sub_categoria.length)throw alert("Todos los campos son obligatorios (sub_categoria)."),"Todos los campos son obligatorios (sub_categoria).";if(null==t.data.destino_final||0==t.data.destino_final.length)throw alert("Todos los campos son obligatorios (destino_final)."),"Todos los campos son obligatorios (destino_final).";if(null==t.data.usuario||0==t.data.usuario.length)throw alert("No existe firma de responsabilidad."),"No existe firma de responsabilidad";t.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/nueva",body:{fecha:moment().format("DD-MM-YYYY"),accion_sugerida:t.data.accion_sugerida,categoria:t.data.categoria,marca:t.data.marca,modelo:t.data.modelo,motivo_baja:t.data.motivo_baja,nombre:t.data.nombre,serie:t.data.serie,sub_categoria:t.data.sub_categoria,usuario:t.data.usuario,email:t.data.email,destino_final:t.data.destino_final,centro_costo:t.data.centro_costo},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(alert("Proceso realizado con éxito"),alert("Tarjeta Roja N°: HM-"+e.idTR),t.id=e.idTR,n().route.set("/contabilidad/proceso/tarjeta-roja/status/?tr="+t.id+"&track=view")):t.error=e.message}).catch(function(e){t.fetch()})},firmarTR:function(){t.loaderFirma=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/login-user",body:{user:t.user,pass:t.pass},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){t.loaderFirma=!1,e.status&&0!==e.data.length?(alert("Usuario autenticado con éxito."),t.data.usuario=e.data.NOMBRE+" - "+e.data.CARGO+" - "+e.data.AREA+" - "+e.data.CENTRO_COSTO,t.data.email=e.data.EMAIL,t.data.centro_costo=e.data.CENTRO_COSTO):alert(e.message)}).catch(function(e){t.firmarTR()})},view:function(e){return[n()(Q),n()("div.content.content-components",{},n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("h1.df-title.mg-b-10","Nueva Tarjeta Roja: "),n()("div.row.animated.fadeInUp",[n()("div.col-12",[t.loader?[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]:[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"FOR TARJETA ROJA"),n()("div.table-responsive",[n()("form",{},[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS SOLICITUD:")])),n()("tbody",[n()("tr",[n()("th.tx-semibold.tx-14[colspan='4'][width='20%']",{style:{"background-color":"#a8bed6"}},"Fecha de Solicitud:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("input",{value:moment().format("dddd, DD-MM-Y"),class:"form-control tx-semibold tx-15 tx-danger",type:"text"}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Categoría:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("select.tx-semibold",{onchange:function(e){t.data.categoria=e.target.options[e.target.options.selectedIndex].value,t.data.id_categoria=e.target.options[e.target.options.selectedIndex].id},class:"custom-select"},n()("option","Seleccione..."),t.activos.activos.map(function(e){return n()("option",{id:e.cod_class,value:e.class},e.class)})))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Sub. Categoría:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("select.tx-semibold",{onchange:function(e){t.data.id_sub_categoria=e.target.options[e.target.options.selectedIndex].id,t.data.sub_categoria=e.target.options[e.target.options.selectedIndex].value,console.log("data => ",t.data)},class:"custom-select"},n()("option","Seleccione..."),t.activos.subActivos.map(function(e){return e.cod_class==t.data.id_categoria?[n()("option",{value:e.class,id:e.cod_class},e.class)]:[]})))])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS DEL EQUIPO:")])),n()("tbody",[n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Nombre:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Nombre",oninput:function(e){t.data.nombre=e.target.value}}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Marca:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Marca",oninput:function(e){t.data.marca=e.target.value}}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Modelo:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Modelo",oninput:function(e){t.data.modelo=e.target.value}}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Serie:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",placeholder:"Serie",oninput:function(e){t.data.serie=e.target.value}}))]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","MOTIVO DE BAJA:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Motivo de Baja:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[n()("select.tx-semibold",{onchange:function(e){t.data.id_motivo_baja=e.target.options[e.target.options.selectedIndex].id,t.data.motivo_baja=e.target.options[e.target.options.selectedIndex].value,console.log("data => ",t.data)},class:"custom-select"},n()("option","Seleccione..."),[{label:"NO SE UTILIZA",value:"NO_SE_UTILIZA"},{label:"RENOVACIÓN",value:"RENOVACION"},{label:"RENOVACIÓN EQUIPO DE COMPUTO",value:"RENOVACION_EQ_COMPUTO"},{label:"DAÑO",value:"DAÑO"},{label:"PERDIDA",value:"PERDIDA"}].map(function(e){return n()("option",{id:e.value,value:e.label},e.label)}))])]),n()("tr.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","ACCIÓN SUGERIDA:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Acción Sugerida:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[n()("select.tx-semibold",{onchange:function(e){t.data.accion_sugerida=e.target.value},class:"custom-select"},n()("option","Seleccione..."),t.activos.motivos.map(function(e){return e.motivo_baja==t.data.id_motivo_baja?[n()("option",{value:e.accion_sugerida},e.accion_sugerida.replace("_"," "))]:[]}))])]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","OBSERVACIÓN:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Observación:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},n()("div.tx-justify",{},t.activos.motivos.map(function(e){return e.motivo_baja==t.data.id_motivo_baja&&e.accion_sugerida==t.data.accion_sugerida?[n()("p.tx-15.tx-semibold.tx-danger",e.obs)]:[]})))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Destino Final:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},n()("div",{},t.activos.motivos.map(function(e){return e.motivo_baja==t.data.id_motivo_baja&&e.accion_sugerida==t.data.accion_sugerida?[n()(Ei,{destino_final:e.destino_final})]:[]})))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Responsable:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("p.mg-b-0","*Ingrese Usuario y Contraseña de Directorio Activo (AD), THConmigo etc."),void 0!==t.data.usuario?[n()("div.input-group",[n()("textarea[rows='3']",{class:"form-control tx-semibold tx-14",disabled:"disabled"},t.data.usuario)]),n()("div.input-group.mg-t-5",n()("button.btn.btn-primary.btn-block.tx-semibold[type='button']",{onclick:function(e){t.sendDataTR()}},"Enviar"))]:[n()("div",t.autorizado?[n()("div.pd-t-10",{class:t.loaderFirma?"":"d-none"},[n()("div.placeholder-paragraph.wd-100p.pd-5",[n()("div.line")])]),n()("div.input-group",{class:t.loaderFirma?"d-none":""},[n()("input.form-control[type='text'][placeholder='Usuario'][autofocus='true']",{oninput:function(e){t.user=e.target.value}}),n()("input.form-control[type='password'][placeholder='Contraseña']",{oninput:function(e){t.pass=e.target.value}}),n()("div.input-group.mg-t-5",n()("button.btn.btn-primary.btn-block[type='button']",{onclick:function(e){0!==t.user.length&&0!==t.pass.length?t.firmarTR():alert("Usuario y Contraseña son obligatorios.")}},"Validar"))])]:[n()("button.btn.btn-xs.btn-block.btn-outline-light[type='button']",{onclick:function(e){t.autorizado=!0}},n()("i.fas.fa-edit.pd-1.mg-r-2"),"Firma de Responsabilidad")])])]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","ADJUNTOS:")]),n()("tr.d-print-none",[n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos "))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()("p.tx-semibold","Una vez generada su información podrá adjuntar archivos a esta solicitud.")])]))]),n()("tr.d-print-none",[])])])])])])])]])])])),n()("div.section-nav",[n()("label.nav-label","Nueva Tarjeta Roja"),n()("div.mg-t-10.mg-b-10.bg-white",{},n()("a",{href:"/contabilidad/proceso/tarjeta-roja/consultar"},[n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Consultar Status")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n()("i.fas.fa-search.tx-40.tx-success")),n()("div",[n()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),n()("a",{href:"/contabilidad/proceso/tarjeta-roja/nueva"},[n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Nueva Tarjeta")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n()("i.fas.fa-file.tx-40.tx-primary")),n()("div",[n()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),n()("a",{href:"/contabilidad/proceso/tarjeta-roja/autorizaciones"},[n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Autorizaciones")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n()("i.fas.fa-check.tx-40.tx-primary")),n()("div",[n()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),n()("br"))])]}},Ti=t;var Ai={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(Ai.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Ai.start(e):Ai.stop(e),e.isPaused=!e.isPaused}},Si={oncreate:function(){T.loadNSSImagen(),0!==T.searchField.length&&$("#table-NSSImagen").DataTable().search(T.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Farmacia:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==T.idFiltro&&(e.dom.innerHTML="NSSImagen de Hoy"),2==T.idFiltro&&(e.dom.innerHTML="NSSImagen entre Fechas"),3==T.idFiltro&&(e.dom.innerHTML="NSSImagen de Emergencia"),4==T.idFiltro&&(e.dom.innerHTML="NSSImagen de Hospitalización"),5==T.idFiltro&&(e.dom.innerHTML="NSSImagen de PB"),6==T.idFiltro&&(e.dom.innerHTML="NSSImagen de H1"),7==T.idFiltro&&(e.dom.innerHTML="NSSImagen de H2"),8==T.idFiltro&&(e.dom.innerHTML="NSSImagen de C2")},onupdate:function(e){1==T.idFiltro&&(e.dom.innerHTML="NSSImagen de Hoy"),2==T.idFiltro&&(e.dom.innerHTML="NSSImagen entre Fechas"),3==T.idFiltro&&(e.dom.innerHTML="NSSImagen de Emergencia"),4==T.idFiltro&&(e.dom.innerHTML="NSSImagen de Hospitalización"),5==T.idFiltro&&(e.dom.innerHTML="NSSImagen de PB"),6==T.idFiltro&&(e.dom.innerHTML="NSSImagen de H1"),7==T.idFiltro&&(e.dom.innerHTML="NSSImagen de H2"),8==T.idFiltro&&(e.dom.innerHTML="NSSImagen de C2")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==T.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==T.idFiltro?moment(moment(T.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){T.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),T.loader=!0,T.pedidos=[],T.fetch(),n().route.set("/farmacia/NSSImagen/?idFiltro="+T.idFiltro+"&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==T.idFiltro?moment(moment(T.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){T.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),T.loader=!0,T.pedidos=[],T.fetch(),n().route.set("/farmacia/NSSImagen/?idFiltro="+T.idFiltro+"&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5.tx-primary")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=1"},["NSSImagen de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=2&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["NSSImagen entre Fechas"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=3&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["NSSImagen de Emergencia"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=4&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["NSSImagen de Hospitalización"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=5&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["NSSImagen de PB"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=6&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["NSSImagen de H1"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=7&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["NSSImagen de H2"]),n()(n().route.Link,{class:"dropdown-item",href:"/farmacia/NSSImagen/?idFiltro=8&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta},["NSSImagen de C2"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==T.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){T.searchField=e.target.value},value:T.searchField}))]),n()("table.table.table-sm.tx-11[id='table-NSSImagen'][width='100%']")])])])}},T={notificaciones:[],pedidos:[],pendientes:0,despachos:0,showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Po.page="",0==T.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),T.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),T.fechaHasta=moment().format("DD-MM-YYYY"),T.loader=!0,T.pedidos=[],T.fetch())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Farmacia")},loadNSSImagen:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-NSSImagen").DataTable({data:T.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:[{title:"Fecha Receta:"},{title:"Paciente:"},{title:"Status Despacho:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a){return a.FECHA_RECETA},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[3],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.tx-14",{style:{}},t.FECHA_RECETA),n()("td.wd-60p",{style:{}},[n()(".d-inline.tx-semibold.tx-14","NHC: "),n()(".d-inline.tx-14",t.CD_PACIENTE),n()("br"),n()(".d-inline.tx-semibold.tx-14","PTE: "),n()(".d-inline.tx-14",t.NM_PACIENTE),n()("br"),n()(".d-inline.tx-semibold.tx-14","N° ATENCIÓN: "),n()(".d-inline.tx-14",t.CD_ATENDIMENTO),n()(".d-inline.tx-semibold.tx-14"," UBICACIÓN: "),n()(".d-inline.tx-14",t.UBICACION+" - "+t.DS_UNID_INT)]),n()("td.tx-center.wd-10p.tx-white.tx-semibold",{style:{"background-color":0==t.STATUS_DESPACHO?"#fd7e14":"#0d9448"}},0==t.STATUS_DESPACHO?"Pendiente":"Despachado"),n()("td.tx-center.wd-10p.tx-semibold",{onclick:function(){n().route.set("/farmacia/receta/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.CD_ATENDIMENTO,numeroReceta:t.id,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver ",n()("br")," Receta ")]}})},drawCallback:function(e){T.loader=!1,T.despachos=0,T.pendientes=0,e.aoData.map(function(e,t){1==e._aData.STATUS_DESPACHO?T.despachos++:T.pendientes++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==T.idFiltro?"?idFiltro="+T.idFiltro:"?idFiltro="+T.idFiltro+"&fechaDesde="+T.fechaDesde+"&fechaHasta="+T.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/recetas"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){T.loader=!1,T.pedidos=e.data}).catch(function(e){setTimeout(function(){T.fetch()},2e3)})},reproesarMensajeXML:function(e,t){T.loader=!0,n().request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+e+"&idTimeRecord="+t,extract:function(e){return{status:e.status,body:e.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){200==e.status?(alert("Preceso realizado con éxito."),setTimeout(function(){window.location.reload()},300)):alert("Error en envío de este mensaje. Reintente nuevamente.")}).catch(function(e){alert("Error en envío de este mensaje. Reintente nuevamente.")})},reloadData:function(){var e=$("#table-NSSImagen").DataTable();e.clear(),e.rows.add(T.pedidos).draw()},view:function(e){return T.loader?[n()(Po,{oncreate:Po.setPage(35)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Imagen")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones de Imagen:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==T.error.length?[n()(Po,{oncreate:Po.setPage(35)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/farnacia"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Imagen")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones de Imagen:"),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:T.loader||0===T.pedidos.length?T.loader||0!=T.pedidos.length?[n()(Po,{oncreate:Po.setPage(35)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/laboratorio"},[" Laboratorio "])),n()("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),n()("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(Po,{oncreate:Po.setPage(35)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Imagen")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones de Imagen:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(Po,{oncreate:Po.setPage(35)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/imagen"},[" Imagen "])),n()("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Imagen")]),n()("h1.df-title.mg-t-20.mg-b-10","Notificaciones de Imagen:"),n()(Si)])),n()("div.section-nav",[n()("label.nav-label","Notificaciones de Imagen"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Notificaciones de Imagen:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",T.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Receta(s)")])])]),n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Pendientes:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",T.pendientes),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Receta(s)")])])]),n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Despachadas:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",T.despachos),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Receta(s)")])])])),n()("div.pd-20",n()(Ci)))])]}};function Ci(){var t={interval:null,seconds:100,isPaused:!1};return Ai.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Ai.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Ai.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Ai.stop(t)}}}var Ii=T,Fi=Jn(360),Ni={view:function(){var o=B.getDataUser();if(0!==o.length)return[Fi("li.nav-item",Fi(Fi.route.Link,{href:"/inicio",class:"nav-link"},[Fi("i[data-feather='layout']")," Inicio "])),Object.keys(o.modulesAccess).map(function(e,t,a){if(0!==o.modulesAccess[e].length)return"terapia-respiratoria"==e?[Fi("li.nav-item."+(Li.page===e?"active":""),Fi(Fi.route.Link,{href:"/terapia-respiratoria/pedidos",class:"nav-link"},[Fi("i[data-feather='layout']"),"Terapia Respiratoria"]))]:"bco-sangre"==e?[Fi("li.nav-item."+(Li.page===e?"active":""),Fi(Fi.route.Link,{href:"/bco-sangre/pedidos",class:"nav-link"},[Fi("i[data-feather='layout']"),"Bco. de Sangre"]))]:"neurofisiologia"==e?[Fi("li.nav-item."+(Li.page===e?"active":""),Fi(Fi.route.Link,{href:"/neurofisiologia/pedidos",class:"nav-link"},[Fi("i[data-feather='layout']"),"Neurofisiología"]))]:[Fi("li.nav-item."+(Li.page===e?"active":""),Fi(Fi.route.Link,{href:"/"+e,class:"nav-link"},[Fi("i[data-feather='layout']"),e.charAt(0).toUpperCase()+e.slice(1)]))]})]}},Li={page:"",setPage:function(e){Li.page=e},oncreate:function(){Ri()},onupdate:function(){Ri()},view:function(){return[Fi("header.navbar.navbar-header.navbar-header-fixed",[Fi("a.burger-menu.d-none[href=''][id='sidebarMenuOpen']",Fi("i[data-feather='arrow-left']")),Fi("a.burger-menu.d-lg-none[href=''][id='calendarSidebarShow']",Fi("i[data-feather='arrow-left']")),Fi("div.navbar-brand",Fi(Fi.route.Link,{href:"/",class:"df-logo"},["Metro",Fi("span","Plus+")])),Fi(".navbar-menu-wrapper[id='navbarMenu']",[Fi("div.navbar-menu-header",[Fi(Fi.route.Link,{href:"/",class:"df-logo"},["Metro",Fi("span","Plus+")]),Fi("a[id='mainMenuClose'][href='']",Fi("i[data-feather='x']"))]),Fi("ul.nav.navbar-menu",[Fi("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),Fi("div.d-lg-none",[Fi(Ni)])])]),Fi(Ce)])]}};function Ri(){var t;function e(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0}),e(),$(window).resize(function(){e()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(e){e.stopPropagation(),window.matchMedia("(min-width: 992px)").matches&&!$(e.target).closest(".navbar-menu .nav-item").length&&$(".navbar-header .show").removeClass("show")}),$("#mainMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(e){e.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(e){e.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(e){e.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length&&(t=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0}),$(".sidebar-nav .with-sub").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("show"),t.update()})),$("#mainMenuOpen").on("click touchstart",function(e){e.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(e){e.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(e){var t;e.stopPropagation(),$(e.target).closest(".burger-menu").length||(t=$(e.target).closest(".sidebar").length,e=$(e.target).closest(".navbar-menu-wrapper").length,t||e||($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show")))})}var Oi=Li;var Hi={id:"",cita:[],citasDisponibles:[],citasAgendadas:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,loadDetalle:!1,nuevaCita:!1,error:"",oninit:function(e){Hi.id=e.attrs.id,Hi.loader=!0,Hi.fetchDetalleCita(),document.body.classList.add("app-calendar"),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")})},setSidebar:function(){$("#calendarInline").datepicker({showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:function(e){e=e.getDate();return console.log(e),[!0,e<10?"zero":""]}}),setTimeout(function(){new PerfectScrollbar("#calendarSidebarBody",{suppressScrollX:!0})},100),$('[data-toggle="tooltip"]').tooltip()},oncreate:function(e){Te.suscribirCanal("MetroPlus-Imagen-Agenda")},fetchDetalleCita:function(){n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/v2/medicos/mi-agenda/cita?id="+Hi.id,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){Hi.loader=!1,Hi.cita=e.data,Hi.cita.horaInicio=moment(Hi.cita.start).format("dddd, DD-MM-YYYY HH:mm"),Hi.cita.horaFin=moment(Hi.cita.end).format("dddd, DD-MM-YYYY HH:mm"),console.log(1,Hi.cita),setTimeout(function(){Hi.setSidebar()},100)}).catch(function(e){setTimeout(function(){Hi.fetchDetalleCita()},2e3)})},agendarCita:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/medicos/agenda/crear-cita",body:{availableServiceId:0,covenantId:2,covenantPlanId:2,dateBirth:"1962-03-23",email:"mariobe7@hotmail.com",id:Hi.cita.id,isFitting:!0,markingTypeId:0,patientId:22706,patientName:"BERMEO CABEZAS MARIO GERMAN",phoneNumber:"0999721820",scheduleFormType:"PERSONALLY",schedulingItemId:428,sexType:"MALE",specialityId:66,statusScheduleType:"M"},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),e?(alert("Cita agendada con éxito."),window.location.reload()):alert(resul)}).catch(function(e){})},view:function(e){return Hi.loader?[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header"),n()("div.calendar-sidebar-body")]),n()("div.calendar-content",[n()("div.calendar-content-body.tx-center.mg-t-50","Procesando... por favor espere.")])])]:0!==Hi.error.length||Hi.loader||0===Hi.cita.length?[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header"),n()("div.calendar-sidebar-body")]),n()("div.calendar-content",[n()("div.calendar-content-body")])])]:[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header",[n()("i[data-feather='search']"),n()("div.search-form",[n()("input.form-control[type='search']")]),n()("a.btn btn-sm btn-primary btn-icon calendar-add",[n()("div[data-toggle='tooltip']",[n()("i.tx-white[data-feather='plus']")])])]),n()("div.calendar-sidebar-body[id='calendarSidebarBody']",[n()("div.calendar-inline",[n()("div[id='calendarInline']")])])]),n()("div.calendar-content",[n()("div.calendar-content-body.pd-5",n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th.tx-15.tx-semibold[scope='col'][colspan='12']",n()("small.pd-2.tx-15.tx-white ",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){n().route.set("/imagen/agendamiento/")}})),"DETALLE DE CITA:")])),n()("tbody",[n()("tr",[n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Id Cita:"),n()("td[colspan='2'].tx-13",{style:{"background-color":"#eaeff5"}},Hi.cita.id),n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Fecha Hora Inicio:"),n()("td.tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},Hi.cita.horaInicio),n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Fecha Hora Fin:"),n()("td.tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},Hi.cita.horaFin)]),n()("tr",[n()("th[colspan='3'].tx-13",{style:{"background-color":"#a8bed6"}},"Médico Prestador:"),n()("td[colspan='3'].tx-13",{style:{"background-color":"#eaeff5"}},Hi.cita.id),n()("th[colspan='3'].tx-13",{style:{"background-color":"#a8bed6"}},"Especialidad:"),n()("td[colspan='3'].tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},Hi.cita.horaFin)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th.tx-15.tx-semibold[scope='col'][colspan='12']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Hi.cita.title),n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Hi.cita.title)]),n()("tr",[]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th.tx-15.tx-semibold[scope='col'][colspan='10']","EXÁMENES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}})]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th.tx-15.tx-semibold[scope='col'][colspan='10']","OPCIONES DISPONIBLES:")]),n()("tr.d-print-none",[n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",{},[n()("li.nav-item",n()("a.nav-link[id='home-editar'][data-toggle='tab'][href='#editar'][role='tab'][aria-controls='editar']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," EDITAR ")),n()("li.nav-item",n()("a.nav-link[id='home-cancelacion'][data-toggle='tab'][href='#cancelacion'][role='tab'][aria-controls='cancelacion']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," CANCELAR ")),n()("li.nav-item",n()("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}}," COMENTARIOS "))]))]),n()("tr.d-print-none",[n()("td[colspan='10']",n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='editar'][role='tabpanel'][aria-labelledby='home-editar']",[[n()("div.form-group",[n()("label","Nuevo Horario"),n()("input.form-control[type='text'][placeholder='Nuevo Horario']"),n()("div.input-group-append",n()("button.btn.btn-outline-light.tx-semibold[type='button']","Nuevo Horario"))]),n()("div.form-group",[n()("label","Médico Prestador:"),n()("input.form-control[type='text'][placeholder='Médico Prestador']"),n()("div.input-group-append",n()("button.btn.btn-outline-light.tx-semibold[type='button']","Buscar"))]),n()("button.btn.btn-primary.tx-semibold","Editar Cita")]]),n()(".tab-pane.fade[id='cancelacion'][role='tabpanel'][aria-labelledby='home-cancelacion']",[n()("div.pd-5",[n()("div.form-group",n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='customCheck0']"),n()("label.custom-control-label.tx-semibold[for='customCheck0']","¿Esta seguro de cancelar esta Cita?")])),n()("div.form-group",n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='customCheckC']"),n()("label.custom-control-label.tx-semibold[for='customCheckC']","Enviar correo de notificación al paciente.")])),n()("button.btn.btn-danger.tx-semibold","Cancelar Cita")])]),n()(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){Hi.loadDetalle=!Hi.loadDetalle}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),n()("hr.wd-100p.mg-t-5.mg-b-5")]),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),n()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),n()("tr.d-print-none",[])])]))])]),n()(".modal.calendar-modal-create.fade.effect-scale[id='modalCreateEvent'][role='dialog'][aria-hidden='true']",n()(".modal-dialog.modal-dialog-centered[role='document']",n()("div.modal-content",[n()("div.modal-body.pd-20.pd-sm-30",[n()("button.close.pos-absolute.t-20.r-20[type='button'][data-dismiss='modal'][aria-label='Close']",n()("span[aria-hidden='true']",n()("i[data-feather='x']"))),n()("h5.tx-18.tx-sm-20.mg-b-20.mg-sm-b-30","Nueva Cita"),n()("div",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Historia Clínica Paciente:"),n()("div.form-group",n()("input.form-control[type='text'][placeholder='Historia Clínica']")),n()("div.d-none",[n()("div.custom-control.custom-radio",[n()("input.custom-control-input[type='radio'][id='customRadio1'][name='customRadio'][checked]"),n()("label.custom-control-label[for='customRadio1']","Evento")]),n()("div.custom-control.custom-radio.mg-l-20",[n()("input.custom-control-input[type='radio'][id='customRadio2'][name='customRadio'][checked]"),n()("label.custom-control-label[for='customRadio2']","Reminder")])]),n()("div.form-group.mg-t-30",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha y Hora de Inicio:"),n()("div.row.row-xs",[n()("div.col-7",n()("input.form-control[id='eventStartDate'][type='text'][value=''][placeholder='Select date'][disabled='disabled']")),n()("div.col-5.d-none",n()("select.custom-select",n()("option[selected]","Select Time")))])]),n()("div.form-group",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha y Hora de Fin"),n()("div.row.row-xs",[n()("div.col-7",n()("input.form-control[id='eventEndDate'][type='text'][value=''][placeholder='Select date'][disabled='disabled']")),n()("div.col-5.d-none",n()("select.custom-select",n()("option[selected]","Select Time")))])]),n()("div.form-group",n()("textarea.form-control[rows='2'][placeholder='Comentarios']"))])]),n()("div.modal-footer",[n()("button.btn.btn-primary.mg-r-5",{onclick:function(){Hi.agendarCita()}},"Agendar Cita"),n()("a.btn.btn-secondary[href=''][data-dismiss='modal']","Cerrar")])]))),n()(".modal.calendar-modal-event.fade.effect-scale[id='modalCalendarEvent'][role='dialog'][aria-hidden='true']",n()(".modal-dialog.modal-dialog-centered[role='document']",n()("div.modal-content",[n()("div.modal-header",[n()("h6.event-title"),n()("nav.nav.nav-modal-event",[n()("a.nav-link[href='#']",n()("i[data-feather='external-link']")),n()("a.nav-link[href='#']",n()("i[data-feather='trash-2']")),n()("a.nav-link[href='#'][data-dismiss='modal']",n()("i[data-feather='x']"))])]),n()("div.modal-body",[n()("div.row.row-sm",[n()("div.col-sm-6",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Start Date"),n()("p.event-start-date")]),n()("div.col-sm-6",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","End Date"),n()("p.event-end-date")])]),n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Description"),n()("p.event-desc.tx-gray-900.mg-b-40"),n()("a.btn.btn-secondary.pd-x-20[href=''][data-dismiss='modal']","Close")])])))]}},Yi=Hi;var ji={cita:[],citasDisponibles:[],citasAgendadas:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,loadDetalle:!1,nuevaCita:!1,error:"",oninit:function(e){0==xi.cita.length&&n().route.set("/imagen/agendamiento/"),ji.cita=xi.cita,console.log(1,ji.cita),document.body.classList.add("app-calendar"),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),setTimeout(function(){ji.setSidebar()},20)},setSidebar:function(){$("#calendarInline").datepicker({showOtherMonths:!0,selectOtherMonths:!0,beforeShowDay:function(e){e=e.getDate();return console.log(e),[!0,e<10?"zero":""]}}),setTimeout(function(){new PerfectScrollbar("#calendarSidebarBody",{suppressScrollX:!0})},100),$("#calendarSidebarShow").on("click",function(e){e.preventDefault(),$("body").toggleClass("calendar-sidebar-show"),$(this).addClass("d-none"),$("#mainMenuOpen").removeClass("d-none")}),$(document).on("click touchstart",function(e){e.stopPropagation(),$(e.target).closest(".burger-menu").length||$(e.target).closest(".calendar-sidebar").length||($("body").removeClass("calendar-sidebar-show"),$("#mainMenuOpen").addClass("d-none"),$("#calendarSidebarShow").removeClass("d-none"))}),$('[data-toggle="tooltip"]').tooltip()},oncreate:function(e){Te.suscribirCanal("MetroPlus-Imagen-Agenda")},agendarCita:function(){n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/v2/medicos/agenda/crear-cita",body:{availableServiceId:0,covenantId:2,covenantPlanId:2,dateBirth:"1962-03-23",email:"mariobe7@hotmail.com",id:ji.cita.id,isFitting:!0,markingTypeId:0,patientId:22706,patientName:"BERMEO CABEZAS MARIO GERMAN",phoneNumber:"0999721820",scheduleFormType:"PERSONALLY",schedulingItemId:428,sexType:"MALE",specialityId:66,statusScheduleType:"M"},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){console.log(e),e?(alert("Cita agendada con éxito."),window.location.reload()):alert(resul)}).catch(function(e){})},view:function(e){return ji.loader?[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header"),n()("div.calendar-sidebar-body")]),n()("div.calendar-content",[n()("div.calendar-content-body.tx-center.mg-t-50","Procesando... por favor espere.")])])]:0!==ji.error.length||ji.loader||0===ji.cita.length?[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header"),n()("div.calendar-sidebar-body")]),n()("div.calendar-content",[n()("div.calendar-content-body[id='calendar']")])])]:[n()("div.calendar-wrapper",[n()("div.calendar-sidebar",[n()("div.calendar-sidebar-header",[n()("i[data-feather='search']"),n()("div.search-form",[n()("input.form-control[type='search']")]),n()("a.btn btn-sm btn-primary btn-icon calendar-add",[n()("div[data-toggle='tooltip']",[n()("i.tx-white[data-feather='plus']")])])]),n()("div.calendar-sidebar-body[id='calendarSidebarBody']",[n()("div.calendar-inline",[n()("div[id='calendarInline']")])])]),n()("div.calendar-content",[n()("div.calendar-content-body.pd-5",n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th.tx-15.tx-semibold[scope='col'][colspan='12']",n()("small.pd-2.tx-15.tx-white ",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){n().route.set("/imagen/agendamiento/")}})),"NUEVA CITA:")])),n()("tbody",[n()("tr",[n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Fecha Hora Inicio:"),n()("td[colspan='4'].tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},ji.cita.horaInicio),n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Fecha Hora Fin:"),n()("td[colspan='4'].tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},ji.cita.horaFin)]),n()("tr",[n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Médico Prestador"),n()("td[colspan='10'].tx-13.tx-danger.tx-semibold",{style:{"background-color":"#eaeff5"}},n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Médico Prestador']"),n()("div.input-group-append",n()("button.btn.btn-outline-light.tx-semibold[type='button'][id='button-addon2']","Buscar"))]))])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th.tx-15.tx-semibold[scope='col'][colspan='12']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},n()("div.input-group",[n()("input.form-control[type='text'][placeholder='NHC']"),n()("div.input-group-append",n()("button.btn.btn-outline-light.tx-semibold[type='button'][id='button-addon2']","Buscar"))])),n()("th[colspan='2'].tx-13",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},ji.cita.title)]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th.tx-15.tx-semibold[scope='col'][colspan='10']","EXÁMENES:")]),n()("tr",[n()("th[colspan='2']",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},n()("div.input-group",[n()("input.form-control[type='text'][placeholder='Exámenes']"),n()("div.input-group-append",n()("button.btn.btn-outline-light.tx-semibold[type='button'][id='button-addon2']","Buscar Examen"))]))]),n()("tr",[n()("th[colspan='2']",{style:{"background-color":"#a8bed6"}}),n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}})]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th.tx-15.tx-semibold[scope='col'][colspan='10']","OPCIONES DISPONIBLES:")]),n()("tr.d-print-none",[n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",{},[n()("li.nav-item",n()("a.nav-link[id='home-confirmacion'][data-toggle='tab'][href='#confirmacion'][role='tab'][aria-controls='confirmacion']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," CONFIRMACIÓN ")),n()("li.nav-item",n()("a.nav-link[id='home-commentAgenda'][data-toggle='tab'][href='#commentAgenda'][role='tab'][aria-controls='commentAgenda']",{style:{color:"#476ba3"}}," COMENTARIOS "))]))]),n()("tr.d-print-none",[n()("td[colspan='10']",n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='confirmacion'][role='tabpanel'][aria-labelledby='home-confirmacion']",[[n()("div.pd-5",[n()("div.form-group",n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='customCheck1']"),n()("label.custom-control-label.tx-semibold[for='customCheck1']","¿Esta seguro de agendar esta Cita?")])),n()("div.form-group",n()("div.custom-control.custom-checkbox",[n()("input.custom-control-input[type='checkbox'][id='customCheck2']"),n()("label.custom-control-label.tx-semibold[for='customCheck2']","Enviar correo de notificación al paciente.")])),n()("button.btn.btn-primary.tx-semibold","Agendar Cita")])]]),n()(".tab-pane.fade[id='commentAgenda'][role='tabpanel'][aria-labelledby='home-commentAgenda']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Observaciones"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{},[n()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),n()("hr.wd-100p.mg-t-5.mg-b-5")]),n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),n()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),n()("tr.d-print-none",[])])]))])]),n()(".modal.calendar-modal-create.fade.effect-scale[id='modalCreateEvent'][role='dialog'][aria-hidden='true']",n()(".modal-dialog.modal-dialog-centered[role='document']",n()("div.modal-content",[n()("div.modal-body.pd-20.pd-sm-30",[n()("button.close.pos-absolute.t-20.r-20[type='button'][data-dismiss='modal'][aria-label='Close']",n()("span[aria-hidden='true']",n()("i[data-feather='x']"))),n()("h5.tx-18.tx-sm-20.mg-b-20.mg-sm-b-30","Nueva Cita"),n()("div",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Historia Clínica Paciente:"),n()("div.form-group",n()("input.form-control[type='text'][placeholder='Historia Clínica']")),n()("div.d-none",[n()("div.custom-control.custom-radio",[n()("input.custom-control-input[type='radio'][id='customRadio1'][name='customRadio'][checked]"),n()("label.custom-control-label[for='customRadio1']","Evento")]),n()("div.custom-control.custom-radio.mg-l-20",[n()("input.custom-control-input[type='radio'][id='customRadio2'][name='customRadio'][checked]"),n()("label.custom-control-label[for='customRadio2']","Reminder")])]),n()("div.form-group.mg-t-30",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha y Hora de Inicio:"),n()("div.row.row-xs",[n()("div.col-7",n()("input.form-control[id='eventStartDate'][type='text'][value=''][placeholder='Select date'][disabled='disabled']")),n()("div.col-5.d-none",n()("select.custom-select",n()("option[selected]","Select Time")))])]),n()("div.form-group",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Fecha y Hora de Fin"),n()("div.row.row-xs",[n()("div.col-7",n()("input.form-control[id='eventEndDate'][type='text'][value=''][placeholder='Select date'][disabled='disabled']")),n()("div.col-5.d-none",n()("select.custom-select",n()("option[selected]","Select Time")))])]),n()("div.form-group",n()("textarea.form-control[rows='2'][placeholder='Comentarios']"))])]),n()("div.modal-footer",[n()("button.btn.btn-primary.mg-r-5",{onclick:function(){ji.agendarCita()}},"Agendar Cita"),n()("a.btn.btn-secondary[href=''][data-dismiss='modal']","Cerrar")])]))),n()(".modal.calendar-modal-event.fade.effect-scale[id='modalCalendarEvent'][role='dialog'][aria-hidden='true']",n()(".modal-dialog.modal-dialog-centered[role='document']",n()("div.modal-content",[n()("div.modal-header",[n()("h6.event-title"),n()("nav.nav.nav-modal-event",[n()("a.nav-link[href='#']",n()("i[data-feather='external-link']")),n()("a.nav-link[href='#']",n()("i[data-feather='trash-2']")),n()("a.nav-link[href='#'][data-dismiss='modal']",n()("i[data-feather='x']"))])]),n()("div.modal-body",[n()("div.row.row-sm",[n()("div.col-sm-6",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Start Date"),n()("p.event-start-date")]),n()("div.col-sm-6",[n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","End Date"),n()("p.event-end-date")])]),n()("label.tx-uppercase.tx-sans.tx-11.tx-medium.tx-spacing-1.tx-color-03","Description"),n()("p.event-desc.tx-gray-900.mg-b-40"),n()("a.btn.btn-secondary.pd-x-20[href=''][data-dismiss='modal']","Close")])])))]}},Ui=ji,$i={files:[],detalle:[],error:"",showFor:"",uploadService:function(e){var t=new FormData($("#uploadForm")[0]);fetch("https://api.hospitalmetropolitano.org/t/v1/procesos/tr/uploads?idTR="+A.id,{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){console.log("data = ",e),alert("Proceso realizado con éxito.")}).catch(function(e){console.error(e)})},loadFile:function(e){Array.from(e.target.files).forEach(function(e){$i.files.push(e)})},view:function(){return[n()("div.mg-t-10.d-flex",{},[0==$i.files.length?[n()("p","No existe archivos.")]:0<$i.files.length?[$i.files.map(function(e,t,a){return[n()("div.col-6.col-sm-4.col-md-3.col-xl-3.mg-b-5.mg-t-5",n()("div.card.card-file",[n()("div.dropdown-file",[n()("a.dropdown-link[href=''][data-toggle='dropdown']",n()("svg.feather.feather-more-vertical[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[n()("circle[cx='12'][cy='12'][r='1']"),n()("circle[cx='12'][cy='5'][r='1']"),n()("circle[cx='12'][cy='19'][r='1']")])),n()("div.dropdown-menu.dropdown-menu-right",[n()("a.dropdown-item.download[href='"+e.url+"'][target='_blank']",[n()("svg.feather.feather-download[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[n()("path[d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4']"),n()("polyline[points='7 10 12 15 17 10']"),n()("line[x1='12'][y1='15'][x2='12'][y2='3']")]),"Descargar"])])]),n()("div.card-file-thumb.tx-danger",n()("i.far.fa-file-pdf")),n()("div.card-body",[n()(".d-inline.tx-5",e.name)])]))]})]:[]]),n()("form.mg-t-50",{enctype:"multipart/form-data",id:"uploadForm",onsubmit:function(e){e.preventDefault(),$i.uploadService()}},[n()("div.custom-file.mg-b-5",[n()("label.custom-file-label[for='uploadFiles']"," Subir Archivos "),n()("input.custom-file-input[autofocus][id='uploadFiles'][name='uploadFiles'][type='file'][multiple='true']",{onchange:function(e){$i.loadFile(e)}})]),n()("button.btn.btn-primary.btn-block[type='submit']","Subir Archivo")])]}},Bi={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return $.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:Bi.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],width:"1%",orderable:!0},{mRender:function(e,t,a,o){return""},visible:!0,width:"99%",aTargets:[1],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[1],{view:function(){return n()("div.demo-static-toast.wd-100p",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observación"),n()("small.tx-white",moment.unix(e._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),n()("div.toast-body.small",e._aData.log)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(Bi.data).draw()},fetch:function(){Bi.data=A.data.comments,Bi.loadObservaciones()}},A={id:"",status:0,data:[],activos:[],examenes:[],error:"",numeroAuthTR:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,oninit:function(e){A.id=e.attrs.tr,A.fetch()},fetch:function(){A.activos=[],A.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/id",body:{idTR:A.id},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(A.loader=!1,A.data=e.data,!1!==A.data.files&&($i.files=A.data.files),setTimeout(function(){Bi.fetch()},100)):A.error=e.message}).catch(function(e){A.fetch()})},updateStatus:function(){A.activos=[],A.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/id-up",body:{idTR:A.id,status:A.status,obs:Bi.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(alert("Proceso realizado con éxito."),window.location.reload()):A.error=e.message}).catch(function(e){A.fetch()})},view:function(e){return[n()(o,{oncreate:o.setPage("contabilidad")}),n()(Mi,{oncreate:Mi.setPage(32)}),n()("div.content.content-components",{style:{"margin-right":"0px"}},n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),n()("li.breadcrumb-item.active[aria-current='page']","Nueva Tarjeta Roja")]),n()("h1.df-title.mg-t-20.mg-b-10","Nueva Tarjeta Roja: "),n()("div.row.animated.fadeInUp",[n()("div.col-12",[0!==A.data.length?[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("span.pd-6.wd-100p.wd-md-20p.tx-15",{class:A.data.status<0?"badge badge-danger mg-b-2 mg-r-2":"badge badge-success mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],[1==A.data.status?"Ingresada":"",2==A.data.status?"Autorizado":"",-2==A.data.status?"Rechazada":"",3==A.data.status?"En Revisón Técnica":"",-3==A.data.status?"Rechazada":"",4==A.data.status?"En Revisón Contable":"",-4==A.data.status?"Rechazada":"",5==A.data.status?"Aprobada":"",-5==A.data.status?"Rechazada":"",5<=A.data.status?"Aprobada":""]),n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"FOR TARJETA ROJA"),n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS SOLICITUD:")])),n()("tbody",[n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6",width:"25%"}},"Fecha de Solicitud:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("input",{value:moment().format("dddd, DD-MM-Y"),class:"form-control tx-semibold tx-15 tx-danger",type:"text"}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Categoría:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.categoria}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Sub. Categoría:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.sub_categoria}))])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS DEL EQUIPO:")])),n()("tbody",[n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Nombre:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.nombre}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Marca:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.marca}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Modelo:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.modelo}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Serie:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.serie}))]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","MOTIVO DE BAJA:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Motivo de Baja:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.motivo_baja})])]),n()("tr.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","ACCIÓN SUGERIDA:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Acción Sugerida:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.accion_sugerida})])]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","OBSERVACIÓN:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Destino Final:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.destino_final}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Responsable:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:A.data.usuario}))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","ADJUNTOS:")]),n()("tr.d-print-none",[n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos ",0!==$i.files.length?[n()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",$i.files.length)]:[])),n()("li.nav-item",{},n()("a.nav-link[id='home-auth1'][data-toggle='tab'][href='#auth0'][role='tab'][aria-controls='auth0']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," Observaciones ",0!==A.data.comments.length?[n()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",A.data.comments.length)]:[])),n()("li.nav-item",{class:1==A.data.status?"":"d-none"},n()("a.nav-link[id='home-auth1'][data-toggle='tab'][href='#auth1'][role='tab'][aria-controls='auth1']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," Autorización ")),n()("li.nav-item",{class:2==A.data.status?"":"d-none"},n()("a.nav-link[id='home-auth2'][data-toggle='tab'][href='#auth2'][role='tab'][aria-controls='auth2']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," Revisión Técnica ")),n()("li.nav-item",{class:3==A.data.status?"":"d-none"},n()("a.nav-link[id='home-auth3'][data-toggle='tab'][href='#auth3'][role='tab'][aria-controls='auth3']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," Revisión Contable ")),n()("li.nav-item",{class:4==A.data.status?"":"d-none"},n()("a.nav-link[id='home-auth4'][data-toggle='tab'][href='#auth4'][role='tab'][aria-controls='auth4']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," Aprobación Gerencia Contable ")),n()("li.nav-item",{class:5<=A.data.status?"":"d-none"},n()("a.nav-link[id='home-auth5'][data-toggle='tab'][href='#auth5'][role='tab'][aria-controls='auth5']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," USSA "))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()($i)]),n()(".tab-pane.fade[id='auth0'][role='tabpanel'][aria-labelledby='home-auth0']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),n()("table.table.table-sm[id='table-observaciones'][width='100%']")])]),n()(".tab-pane.fade[id='auth1'][role='tabpanel'][aria-labelledby='home-auth1']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Autorización"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Bi.observaciones=e.target.value},value:Bi.observaciones}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=2,A.updateStatus()}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Autorizado"),n()("button.btn.btn-xs.btn-danger.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=-2,A.updateStatus()}},[],"Rechazar")]),n()("hr.wd-100p.mg-t-5.mg-b-5")])]),n()(".tab-pane.fade[id='auth2'][role='tabpanel'][aria-labelledby='home-auth2']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Autorización"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Bi.observaciones=e.target.value},value:Bi.observaciones}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=3,A.updateStatus()}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Autorizado"),n()("button.btn.btn-xs.btn-danger.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=-3,A.updateStatus()}},[],"Rechazar")]),n()("hr.wd-100p.mg-t-5.mg-b-5")])]),n()(".tab-pane.fade[id='auth3'][role='tabpanel'][aria-labelledby='home-auth3']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Revisión Contabilidad"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Bi.observaciones=e.target.value},value:Bi.observaciones}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=4,A.updateStatus()}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Aprobado"),n()("button.btn.btn-xs.btn-danger.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=-4,A.updateStatus()}},[],"Rechazado")]),n()("hr.wd-100p.mg-t-5.mg-b-5")])]),n()(".tab-pane.fade[id='auth4'][role='tabpanel'][aria-labelledby='home-auth4']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Aprobación Gerencia Contable"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Bi.observaciones=e.target.value},value:Bi.observaciones}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=5,A.updateStatus()}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Aprobado"),n()("button.btn.btn-xs.btn-danger.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=-5,A.updateStatus()}},[],"Rechazado")]),n()("hr.wd-100p.mg-t-5.mg-b-5")])]),n()(".tab-pane.fade[id='auth5'][role='tabpanel'][aria-labelledby='home-auth5']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","USSA"),n()("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(e){Bi.observaciones=e.target.value},value:Bi.observaciones}),n()("div.mg-0.mg-t-5.text-right",[n()("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){A.status=6,A.updateStatus()}},[n()("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),n()("hr.wd-100p.mg-t-5.mg-b-5")])])]))]),n()("tr.d-print-none",[])])])])])])]:[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]])])]))]}},Vi=A;var Ji={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(Ji.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Ji.start(e):Ji.stop(e),e.isPaused=!e.isPaused}};function zi(){var t={interval:null,seconds:100,isPaused:!1};return Ji.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Ji.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Ji.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Ji.stop(t)}}}var qi={oncreate:function(){S.loadAutorizacionesTR(),0!==S.searchField.length&&$("#table-AutorizacionesTR").DataTable().search(S.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Tarjeta Roja:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==S.idFiltro&&(e.dom.innerHTML="Autorizaciones de Hoy"),2==S.idFiltro&&(e.dom.innerHTML="Autorizaciones Pendientes"),3==S.idFiltro&&(e.dom.innerHTML="En Revisión Técnica"),4==S.idFiltro&&(e.dom.innerHTML="En Revisión CT"),5==S.idFiltro&&(e.dom.innerHTML="En Revisión GC")},onupdate:function(e){1==S.idFiltro&&(e.dom.innerHTML="Autorizaciones de Hoy"),2==S.idFiltro&&(e.dom.innerHTML="Autorizaciones Pendientes"),3==S.idFiltro&&(e.dom.innerHTML="En Revisión Técnica"),4==S.idFiltro&&(e.dom.innerHTML="En Revisión CT"),5==S.idFiltro&&(e.dom.innerHTML="En Revisión GC")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==S.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==S.idFiltro?moment(moment(S.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){S.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),S.loader=!0,S.pedidos=[],S.fetch(),n().route.set("/laboratorio/autorizaciones?idFiltro="+S.idFiltro+"&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==S.idFiltro?moment(moment(S.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){S.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),S.loader=!0,S.pedidos=[],S.fetch(),n().route.set("/laboratorio/AutorizacionesTR?idFiltro="+S.idFiltro+"&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=1"},["Autorizaciones de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=2&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta},["Autorizaciones Pendientes"]),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=3&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta},["En Revisión Técnica"]),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=4&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta},["En Revisión CT"]),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=4&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta},["En Revisión GC"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==S.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){S.searchField=e.target.value},value:S.searchField}))]),n()("table.table.table-sm.tx-11[id='table-AutorizacionesTR'][width='100%']")])])])}},S={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Mi.page="",0==S.pedidos.length&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),S.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),S.fechaHasta=moment().format("DD-MM-YYYY"),S.loader=!0,S.pedidos=[],S.fetch())},oncreate:function(e){Te.suscribirCanal("MetroPlus-TR")},loadAutorizacionesTR:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-AutorizacionesTR").DataTable({data:S.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"Motivo de Baja:"},{title:"Usuario:"},{title:"Status:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fecha},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.motivo_baja},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.usuario},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td",{class:"bg-danger"},[n()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1",o+1)]),n()("td",{style:{}},t.fecha),n()("td",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.motivo_baja)),n()("td",{style:{}},[t.usuario]),1==t.status?[n()("td.tx-white.tx-semibold.tx-center",{style:{"background-color":"#ffc107"}},"Pendiente")]:[n()("td.tx-white.tx-semibold.tx-center",{style:{"background-color":"#0d9448"}},"Gestionando")],n()("td.tx-center",{onclick:function(){n().route.set("/contabilidad/proceso/tarjeta-roja/id/",{tr:t.id.padStart(5,"0"),track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Detalle ")]}})},drawCallback:function(e){S.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==S.idFiltro?"?idFiltro="+S.idFiltro:"?idFiltro="+S.idFiltro+"&fechaDesde="+S.fechaDesde+"&fechaHasta="+S.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){S.loader=!1,S.pedidos=e.data}).catch(function(e){setTimeout(function(){S.fetch()},2e3)})},reloadData:function(){var e=$("#table-AutorizacionesTR").DataTable();e.clear(),e.rows.add(S.pedidos).draw()},view:function(e){return S.loader?[n()(Mi,{oncreate:Mi.setPage(33)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "]))]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==S.error.length?[n()(Mi,{oncreate:Mi.setPage(33)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "]))]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones;"),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:S.loader||0===S.pedidos.length?S.loader||0!=S.pedidos.length?[n()(Mi,{oncreate:Mi.setPage(33)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),n()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(Mi,{oncreate:Mi.setPage(33)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),n()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(Mi,{oncreate:Mi.setPage(33)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),n()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones:"),n()(qi)])),n()("div.section-nav",[n()("label.nav-label","Pedidos Ingresados"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Autorizaciones")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",S.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(zi)))])]}},Xi=S,Gi={files:[],detalle:[],error:"",showFor:"",uploadService:function(e){var t=new FormData($("#uploadForm")[0]);fetch("https://api.hospitalmetropolitano.org/t/v1/procesos/tr/uploads?idTR="+Ki.id,{method:"POST",body:t}).then(function(e){return e.json()}).then(function(e){console.log("data = ",e),alert("Proceso realizado con éxito.")}).catch(function(e){console.error(e)})},loadFile:function(e){Array.from(e.target.files).forEach(function(e){Gi.files.push(e)})},view:function(){return[n()("div.mg-t-10.d-flex",{},[0==Gi.files.length?[n()("p","No existe archivos.")]:0<Gi.files.length?[Gi.files.map(function(e,t,a){return[n()("div.col-6.col-sm-4.col-md-3.col-xl-3.mg-b-5.mg-t-5",n()("div.card.card-file",[n()("div.dropdown-file",[n()("a.dropdown-link[href=''][data-toggle='dropdown']",n()("svg.feather.feather-more-vertical[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[n()("circle[cx='12'][cy='12'][r='1']"),n()("circle[cx='12'][cy='5'][r='1']"),n()("circle[cx='12'][cy='19'][r='1']")])),n()("div.dropdown-menu.dropdown-menu-right",[n()("a.dropdown-item.download[href='"+e.url+"'][target='_blank']",[n()("svg.feather.feather-download[xmlns='http://www.w3.org/2000/svg'][width='24'][height='24'][viewBox='0 0 24 24'][fill='none'][stroke='currentColor'][stroke-width='2'][stroke-linecap='round'][stroke-linejoin='round']",[n()("path[d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4']"),n()("polyline[points='7 10 12 15 17 10']"),n()("line[x1='12'][y1='15'][x2='12'][y2='3']")]),"Descargar"])])]),n()("div.card-file-thumb.tx-danger",n()("i.far.fa-file-pdf")),n()("div.card-body",[n()(".d-inline.tx-5",e.name)])]))]})]:[]]),n()("form.mg-t-50",{enctype:"multipart/form-data",id:"uploadForm",onsubmit:function(e){e.preventDefault(),Gi.uploadService()}},[n()("div.custom-file.mg-b-5",[n()("label.custom-file-label[for='uploadFiles']"," Subir Archivos "),n()("input.custom-file-input[autofocus][id='uploadFiles'][name='uploadFiles'][type='file'][multiple='true']",{onchange:function(e){Gi.loadFile(e)}})]),n()("button.btn.btn-primary.btn-block[type='submit']","Subir Archivo")])]}},Zi={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:function(){return $.fn.dataTable.ext.errMode="none",$("#table-observaciones").DataTable({data:Zi.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(e,t,a,o){return""},visible:!0,width:"100%",aTargets:[1],orderable:!1}],fnRowCallback:function(e,t,a,o){},drawCallback:function(e){e.aoData.map(function(e,t){n().mount(e.anCells[1],{view:function(){return n()("div.demo-static-toast",n()(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[n()("div.toast-header.bg-primary",[n()("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observación"),n()("small.tx-white",moment.unix(e._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),n()("div.toast-body.tx-14",e._aData.log)]))}})})}})},reloadObservaciones:function(){var e=$("#table-observaciones").DataTable();e.clear(),e.rows.add(Zi.data).draw()},fetch:function(){Zi.data=Ki.data.comments,Zi.loadObservaciones()}},Ki={id:"",data:[],activos:[],examenes:[],error:"",numeroStatusTR:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,oninit:function(e){Ki.id=e.attrs.tr,Ki.fetch()},fetch:function(){Ki.activos=[],Ki.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/id",body:{idTR:Ki.id},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Ki.loader=!1,Ki.data=e.data,!1!==Ki.data.files&&(Gi.files=Ki.data.files),setTimeout(function(){Zi.fetch()},100)):Ki.error=e.message}).catch(function(e){Ki.fetch()})},view:function(e){return[n()(Q),n()("div.section-nav",[n()("label.nav-label","Nueva Tarjeta Roja"),n()("div.mg-t-10.mg-b-10.bg-white",{},n()("a",{href:"/contabilidad/proceso/tarjeta-roja/consultar"},[n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Consultar Status")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n()("i.fas.fa-search.tx-40.tx-success")),n()("div",[n()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),n()("a",{href:"/contabilidad/proceso/tarjeta-roja/nueva"},[n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Nueva Tarjeta")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n()("i.fas.fa-file.tx-40.tx-primary")),n()("div",[n()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),n()("a",{href:"/contabilidad/proceso/tarjeta-roja/autorizaciones"},[n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Autorizaciones")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",n()("i.fas.fa-check.tx-40.tx-primary")),n()("div",[n()("divv.lh-0.tx-gray-300","Tarjeta Roja")])])]))]),n()("br"))]),n()("div.content.content-components",{style:{"margin-left":"0px"}},n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("h1.df-title.mg-t-20.mg-b-10","Status Tarjeta Roja N°: HM-"+Ki.id),n()("div.row.animated.fadeInUp",[n()("div.col-12",[0!==Ki.data.length?[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("span.pd-6.wd-100p.wd-md-20p.tx-15",{class:Ki.data.status<0?"badge badge-danger mg-b-2 mg-r-2":"badge badge-success mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],[1==Ki.data.status?"Ingresada":"",2==Ki.data.status?"Autorizado":"",-2==Ki.data.status?"Rechazada":"",3==Ki.data.status?"En Revisón Técnica":"",-3==Ki.data.status?"Rechazada":"",4==Ki.data.status?"En Revisón Contable":"",-4==Ki.data.status?"Rechazada":"",5==Ki.data.status?"Aprobada":"",-5==Ki.data.status?"Rechazada":"",5<=Ki.data.status?"Aprobada":""]),n()("div.",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS SOLICITUD:")])),n()("tbody",[n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6",width:"25%"}},"Fecha de Solicitud:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("input",{value:moment().format("dddd, DD-MM-Y"),class:"form-control tx-semibold tx-15 tx-danger",type:"text"}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Categoría:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.categoria}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Sub. Categoría:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.sub_categoria}))])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","DATOS DEL EQUIPO:")])),n()("tbody",[n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Nombre:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.nombre}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Marca:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.marca}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Modelo:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.modelo}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='1']",{style:{"background-color":"#a8bed6"}},"Serie:"),n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.serie}))]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='10']","MOTIVO DE BAJA:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Motivo de Baja:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.motivo_baja})])]),n()("tr.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","ACCIÓN SUGERIDA:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Acción Sugerida:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},[n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.accion_sugerida})])]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","OBSERVACIÓN:")]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='3']",{style:{"background-color":"#a8bed6"}},"Destino Final:"),n()("td[colspan='7']",{style:{"background-color":"#eaeff5"}},n()("input",{class:"form-control tx-semibold tx-14",type:"text",disabled:"disabled",value:Ki.data.destino_final}))]),n()("tr",[n()("th.tx-semibold.tx-14[colspan='4']",{style:{"background-color":"#a8bed6"}},"Responsable:"),n()("td[colspan='6']",{style:{"background-color":"#eaeff5"}},n()("textarea[rows='3']",{class:"form-control tx-semibold tx-14",disabled:"disabled"},Ki.data.usuario))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='10']","ADJUNTOS:")]),n()("tr.d-print-none",[n()("td[colspan='10']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," Adjuntos ",0!==Gi.files.length?[n()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",Gi.files.length)]:[])),n()("li.nav-item",{},n()("a.nav-link[id='home-auth1'][data-toggle='tab'][href='#auth1'][role='tab'][aria-controls='auth1']",{style:{color:"#476ba3"}},n()("i.fas.fa-edit.pd-1.mg-r-2")," Observaciones ",0!==Ki.data.comments.length?[n()("span.mg-l-5.tx-14.tx-semibold.badge.badge-danger",Ki.data.comments.length)]:[]))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(Gi)]),n()(".tab-pane.fade[id='auth1'][role='tabpanel'][aria-labelledby='home-auth1']",[n()("p.mg-5",[n()("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),n()("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),n()("tr.d-print-none",[])])])])])])]:[n()("div.pd-t-10",[n()("div.placeholder-paragraph.wd-100p",[n()("div.line"),n()("div.line")])])]])])]))]}},Wi=Ki,Qi={id:null,data:[],activos:[],examenes:[],error:"",numeroInicioTR:"",numeroAtencion:"",numeroHistoriaClinica:"",autorizado:!1,oninit:function(){document.title="Nueva Tarjeta Roja - Inicio | "+d.title,Qi.fetch(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")})},fetch:function(){Qi.activos=[],Qi.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Qi.loader=!1,Qi.activos=e.data):Qi.error=e.message}).catch(function(e){Qi.fetch()})},sendDataTR:function(){Qi.loader=!0,console.log("dd => ",Qi.data),n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr/nueva",body:{fecha:moment().format("DD-MM-YYYY"),accion_sugerida:Qi.data.accion_sugerida,categoria:Qi.data.categoria,marca:Qi.data.marca,modelo:Qi.data.modelo,motivo_baja:Qi.data.motivo_baja,nombre:Qi.data.nombre,serie:Qi.data.serie,sub_categoria:Qi.data.sub_categoria,usuario:Qi.data.usuario,destino_final:Qi.data.destino_final},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(alert("Proceso realizado con éxito"),alert("Tarjeta Roja N°: "+e.idTR),Qi.id=e.idTR,n().route.set("/contabilidad/proceso/tarjeta-roja/status/?tr="+Qi.id+"&track=view")):Qi.error=e.message}).catch(function(e){Qi.fetch()})},view:function(e){return[n()(Q),n()("div.content.content-components",{},n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "])),n()("li.breadcrumb-item.active[aria-current='page']","Nueva Tarjeta Roja")]),n()("h1.df-title.mg-t-20.mg-b-10","Nueva Tarjeta Roja:"),n()("p.mg-t-20.mg-b-10","Inicio:"),n()("div",[n()("div.row.tx-14",[n()("div.col-sm-4",n()("div.bg-white.bd.pd-20.pd-lg-30.ht-sm-300.d-flex.flex-column.justify-content-end",[n()("div.mg-b-25",n()("i.fas.fa-search.tx-100.tx-success")),n()("h5.tx-inverse.mg-b-20","Consultar Status"),n()("p.mg-b-20","Nueva Tarjeta Roja Beta v1.0"),n()("a.tx-medium",{href:"/contabilidad/proceso/tarjeta-roja/consultar"},["Ir a Consultar Status",n()("i.icon.ion-md-arrow-forward.mg-l-5")])])),n()("div.col-sm-4",n()("div.bg-white.bd.pd-20.pd-lg-30.ht-sm-300.d-flex.flex-column.justify-content-end",[n()("div.mg-b-25",n()("i.fas.fa-file.tx-100.tx-primary")),n()("h5.tx-inverse.mg-b-20","Nueva Tarjeta"),n()("p.mg-b-20","Nueva Tarjeta Roja Beta v1.0"),n()("a.tx-medium",{href:"/contabilidad/proceso/tarjeta-roja/nueva"},["Ir a Nueva Tarjeta",n()("i.icon.ion-md-arrow-forward.mg-l-5")])])),n()("div.col-sm-4",n()("div.bg-white.bd.pd-20.pd-lg-30.ht-sm-300.d-flex.flex-column.justify-content-end",[n()("div.mg-b-25",n()("i.fas.fa-check.tx-100.tx-primary")),n()("h5.tx-inverse.mg-b-20","Autorizaciones"),n()("p.mg-b-20","Nueva Tarjeta Roja Beta v1.0"),n()("a.tx-medium",{href:"/contabilidad/proceso/tarjeta-roja/autorizaciones"},["Ir Autorizaciones",n()("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]),n()("h6.tx-light.mg-t-20.mg-b-10","MetroPlus Beta v1.0")]))]}},en=Qi;var tn={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(tn.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?tn.start(e):tn.stop(e),e.isPaused=!e.isPaused}};function an(){var t={interval:null,seconds:100,isPaused:!1};return tn.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){tn.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){tn.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){tn.stop(t)}}}var on={oncreate:function(){C.loadConsultarTr(),0!==C.searchField.length&&$("#table-ConsultarTr").DataTable().search(C.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Tarjeta Roja:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==C.idFiltro&&(e.dom.innerHTML="Autorizaciones de Hoy"),2==C.idFiltro&&(e.dom.innerHTML="Autorizaciones Pendientes"),3==C.idFiltro&&(e.dom.innerHTML="En Revisión Técnica"),4==C.idFiltro&&(e.dom.innerHTML="En Revisión CT"),5==C.idFiltro&&(e.dom.innerHTML="En Revisión GC")},onupdate:function(e){1==C.idFiltro&&(e.dom.innerHTML="Autorizaciones de Hoy"),2==C.idFiltro&&(e.dom.innerHTML="Autorizaciones Pendientes"),3==C.idFiltro&&(e.dom.innerHTML="En Revisión Técnica"),4==C.idFiltro&&(e.dom.innerHTML="En Revisión CT"),5==C.idFiltro&&(e.dom.innerHTML="En Revisión GC")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==C.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==C.idFiltro?moment(moment(C.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){C.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch(),n().route.set("/laboratorio/autorizaciones?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==C.idFiltro?moment(moment(C.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){C.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch(),n().route.set("/laboratorio/ConsultarTr?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=1"},["Autorizaciones de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=2&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Autorizaciones Pendientes"]),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=3&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["En Revisión Técnica"]),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=4&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["En Revisión CT"]),n()(n().route.Link,{class:"dropdown-item",href:"/contabilidad/proceso/tarjeta-roja/autorizaciones/?idFiltro=4&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["En Revisión GC"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==C.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){C.searchField=e.target.value},value:C.searchField}))]),n()("table.table.table-sm.tx-11[id='table-ConsultarTr'][width='100%']")])])])}},C={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Mi.page="",0==C.pedidos.length&&(C.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),C.fechaHasta=moment().format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch())},oncreate:function(e){Te.suscribirCanal("MetroPlus-TR")},loadConsultarTr:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-ConsultarTr").DataTable({data:C.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N°:"},{title:"Fecha:"},{title:"Motivo de Baja:"},{title:"Usuario:"},{title:"Status:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.fecha},visible:!0,aTargets:[1],orderable:!1},{mRender:function(e,t,a){return a.motivo_baja},visible:!0,aTargets:[2],orderable:!1},{mRender:function(e,t,a){return a.usuario},visible:!0,aTargets:[3],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[4],orderable:!1},{mRender:function(e,t,a){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td",{class:"bg-danger"},[n()("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1",o+1)]),n()("td",{style:{}},t.fecha),n()("td",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.motivo_baja)),n()("td",{style:{}},[t.usuario]),1==t.status?[n()("td.tx-white.tx-semibold.tx-center",{style:{"background-color":"#ffc107"}},"Pendiente")]:[n()("td.tx-white.tx-semibold.tx-center",{style:{"background-color":"#0d9448"}},"Gestionando")],n()("td.tx-center",{onclick:function(){n().route.set("/contabilidad/proceso/tarjeta-roja/status/",{tr:t.id.padStart(5,"0"),track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Detalle ")]}})},drawCallback:function(e){C.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetch:function(){var e="",e=1==C.idFiltro?"?idFiltro="+C.idFiltro:"?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/procesos/tr"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){C.loader=!1,C.pedidos=e.data}).catch(function(e){setTimeout(function(){C.fetch()},2e3)})},reloadData:function(){var e=$("#table-ConsultarTr").DataTable();e.clear(),e.rows.add(C.pedidos).draw()},view:function(e){return C.loader?[n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja"},[" Tarjeta Roja "]))]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==C.error.length?[n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja/inicio"},[" Tarjeta Roja "]))]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones;"),n()("div.row.animated.fadeInUp",[n()("p","No existe información.")])]))]:C.loader||0===C.pedidos.length?C.loader||0!=C.pedidos.length?[n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja/inicio"},[" Tarjeta Roja "])),n()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja/inicio"},[" Tarjeta Roja "])),n()("li.breadcrumb-item.active[aria-current='page']","Autorizaciones:")]),n()("h1.df-title.mg-t-20.mg-b-10","Autorizaciones"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad"},[" Contabilidad "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/contabilidad/proceso/tarjeta-roja/inicio"},[" Tarjeta Roja "])),n()("li.breadcrumb-item.active[aria-current='page']","Consultar Status:")]),n()("h1.df-title.mg-t-20.mg-b-10","Consultar Status:"),n()(on)])),n()("div.section-nav",[n()("label.nav-label","Tarjeta Roja"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","Autorizaciones")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",C.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Solicitud(es)")])])])),n()("div.pd-20",n()(an)))])]}},rn=C,nn=Jn(360),dn={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess["terapia-fisica"].map(function(e,t,a){return[nn(nn.route.Link,{href:"/"+e.href,class:sn.page==e.idModulo?"active":""},[e.label])]})]}},sn={page:"",setPage:function(e){sn.page=e},view:function(){return[nn(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[nn("div.sidebar-header",[nn("a[href=''][id='mainMenuOpen']",nn("i[data-feather='menu']")),nn("h5","Menu"),nn("a[href=''][id='sidebarMenuClose']",nn("i[data-feather='x']"))]),nn("div.sidebar-body",nn("ul.sidebar-nav",[nn("li.nav-label.mg-b-15","Terapia Física"),nn("li.nav-item.show",[nn(nn.route.Link,{href:"/terapia-fisica",class:"nav-link with-sub"},[nn("i[data-feather='layout']")," Terapia Física "]),nn("nav.nav",[nn(dn)])])]))])]}},ln=sn,cn=Jn(360),un={view:function(){return[cn("div.content.content-components",cn("div.container",{style:{"max-width":"100%"}},[cn("ol.breadcrumb.df-breadcrumbs.mg-b-10",[cn("li.breadcrumb-item",cn(cn.route.Link,{href:"/"},["MetroPlus"])),cn("li.breadcrumb-item.active[aria-current='page']","Terapia Física")]),cn("h1.df-title.mg-t-20.mg-b-10","Terapia Física:"),cn("div.row.tx-14",[d.isShow("terapia-fisica",41)?[cn("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){cn.route.set("/terapia-fisica/pedidos")}},[cn("div",{class:"media"},[cn("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},cn("i",{class:"fas fa-inbox tx-30 tx-white"})),cn("div",{class:"media-body mg-l-15"},[cn("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),cn("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},mn={oninit:function(){o.page="",ln.page="",d.isAuth()},oncreate:function(){document.title="Terapia Física | "+d.title},view:function(){return[cn(o,{oncreate:o.setPage("terapia-fisica")}),cn(ln),cn(un)]}},pn=Jn(360),bn={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess.cardiologia.map(function(e,t,a){return[pn(pn.route.Link,{href:"/"+e.href,class:fn.page==e.idModulo?"active":""},[e.label])]})]}},fn={page:"",setPage:function(e){fn.page=e},view:function(){return[pn(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[pn("div.sidebar-header",[pn("a[href=''][id='mainMenuOpen']",pn("i[data-feather='menu']")),pn("h5","Menu"),pn("a[href=''][id='sidebarMenuClose']",pn("i[data-feather='x']"))]),pn("div.sidebar-body",pn("ul.sidebar-nav",[pn("li.nav-label.mg-b-15","Cardiología"),pn("li.nav-item.show",[pn(pn.route.Link,{href:"/cardiologia",class:"nav-link with-sub"},[pn("i[data-feather='layout']")," Cardiología "]),pn("nav.nav",[pn(bn)])])]))])]}},gn=fn,hn=Jn(360),vn={view:function(){return[hn("div.content.content-components",hn("div.container",{style:{"max-width":"100%"}},[hn("ol.breadcrumb.df-breadcrumbs.mg-b-10",[hn("li.breadcrumb-item",hn(hn.route.Link,{href:"/"},["MetroPlus"])),hn("li.breadcrumb-item.active[aria-current='page']","Cardiología")]),hn("h1.df-title.mg-t-20.mg-b-10","Cardiología:"),hn("div.row.tx-14",[d.isShow("cardiologia",42)?[hn("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){hn.route.set("/cardiologia/pedidos")}},[hn("div",{class:"media"},[hn("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},hn("i",{class:"fas fa-inbox tx-30 tx-white"})),hn("div",{class:"media-body mg-l-15"},[hn("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),hn("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},xn={oninit:function(){o.page="",gn.page="",d.isAuth()},oncreate:function(){document.title="Cardiología | "+d.title},view:function(){return[hn(o,{oncreate:o.setPage("cardiologia")}),hn(gn),hn(vn)]}};var _n={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(_n.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?_n.start(e):_n.stop(e),e.isPaused=!e.isPaused}};function yn(){var t={interval:null,seconds:100,isPaused:!1};return _n.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){_n.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){_n.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){_n.stop(t)}}}var wn={oncreate:function(){I.loadPedidos(),0!==I.searchField.length&&$("#table-pedidos").DataTable().search(I.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Pedidos de Terapia Física:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==I.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==I.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==I.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==I.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==I.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==I.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==I.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==I.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==I.idFiltro?moment(moment(I.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){I.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),n().route.set("/terapia-respiratoria/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==I.idFiltro?moment(moment(I.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){I.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),n().route.set("/terapia-respiratoria/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos entre Fechas"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de C. Externa"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Hospitalización"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==I.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){I.searchField=e.target.value},value:I.searchField}))]),n()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},I={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){ln.page="",0==I.pedidos.length&&(I.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),I.fechaHasta=moment().format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Terapia-Fisica")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:I.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[1,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Prescripción N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!0},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.wd-5p",{class:"EMERGENCIA"==t.SECTOR?"bg-danger":"bg-primary",title:"EMERGENCIA"==t.SECTOR?"Emergencia":"Hospitalización"},["EMERGENCIA"==t.SECTOR?n()("span.badge.badge-pill.badge-danger.mg-b-1","U"):n()("span.badge.badge-pill.badge-primary.mg-b-1","H")]),n()("td.wd-15p",{style:{}},n()(".d-inline.mg-r-5",{},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO)),n()("td.tx-center",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.CD_PRE_MED)),n()("td",{style:{}},[n()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.SECTOR?"tx-danger":"tx-primary"},t.SECTOR),n()("br"),t.NM_PACIENTE]),n()("td",{style:{}},t.MED_MV),n()("td.tx-center",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},n()(n().route.Link,{href:"/terapia-fisica/pedido/",class:"tx-dark",target:"_blank",params:{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"}},[" Ver Pedido "]))]}})},drawCallback:function(e){I.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==I.idFiltro?"?idFiltro="+I.idFiltro:"?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/terapia-fisica/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){I.loader=!1,I.pedidos=e.data}).catch(function(e){setTimeout(function(){I.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(I.pedidos).draw()},view:function(e){return I.loader?[n()(ln,{oncreate:ln.setPage(41)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==I.error.length?[n()(ln,{oncreate:ln.setPage(41)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:I.loader||0===I.pedidos.length?I.loader||0!=I.pedidos.length?[n()(ln,{oncreate:ln.setPage(41)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(ln,{oncreate:ln.setPage(41)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(ln,{oncreate:ln.setPage(41)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-fisica"},[" Terapia Física "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()(wn)])),n()("div.section-nav",[n()("label.nav-label","RECEPCIÓN DE PEDIDOS"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","N° de Pedidos:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",I.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(yn)))])]}},Mn=I;var Dn={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(Dn.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Dn.start(e):Dn.stop(e),e.isPaused=!e.isPaused}};function Pn(){var t={interval:null,seconds:100,isPaused:!1};return Dn.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Dn.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Dn.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Dn.stop(t)}}}var kn={oncreate:function(){F.loadPedidos(),0!==F.searchField.length&&$("#table-pedidos").DataTable().search(F.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Pedidos de Cardiología:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==F.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==F.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==F.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==F.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==F.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==F.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==F.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==F.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==F.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==F.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==F.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==F.idFiltro?moment(moment(F.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){F.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),F.loader=!0,F.pedidos=[],F.fetchPedidos(),n().route.set("/terapia-respiratoria/pedidos?idFiltro="+F.idFiltro+"&fechaDesde="+F.fechaDesde+"&fechaHasta="+F.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==F.idFiltro?moment(moment(F.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){F.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),F.loader=!0,F.pedidos=[],F.fetchPedidos(),n().route.set("/terapia-respiratoria/pedidos?idFiltro="+F.idFiltro+"&fechaDesde="+F.fechaDesde+"&fechaHasta="+F.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+F.fechaDesde+"&fechaHasta="+F.fechaHasta},["Pedidos entre Fechas"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+F.fechaDesde+"&fechaHasta="+F.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+F.fechaDesde+"&fechaHasta="+F.fechaHasta},["Pedidos de C. Externa"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+F.fechaDesde+"&fechaHasta="+F.fechaHasta},["Pedidos de Hospitalización"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==F.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){F.searchField=e.target.value},value:F.searchField}))]),n()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},F={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){gn.page="",0==F.pedidos.length&&(F.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),F.fechaHasta=moment().format("DD-MM-YYYY"),F.loader=!0,F.pedidos=[],F.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Terapia-Fisica")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:F.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[1,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Prescripción N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PRE_MED},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!0},{mRender:function(e,t,a){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.wd-5p",{class:"EMERGENCIA"==t.SECTOR?"bg-danger":"bg-primary",title:"EMERGENCIA"==t.SECTOR?"Emergencia":"Hospitalización"},["EMERGENCIA"==t.SECTOR?n()("span.badge.badge-pill.badge-danger.mg-b-1","U"):n()("span.badge.badge-pill.badge-primary.mg-b-1","H")]),n()("td.wd-15p",{style:{}},n()(".d-inline.mg-r-5",{},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO)),n()("td.tx-center",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",t.CD_PRE_MED)),n()("td",{style:{}},[n()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.SECTOR?"tx-danger":"tx-primary"},t.SECTOR),n()("br"),t.NM_PACIENTE]),n()("td",{style:{}},t.MED_MV),n()("td.tx-center",{onclick:function(){n().route.set("/cardiologia/pedido/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]}})},drawCallback:function(e){F.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==F.idFiltro?"?idFiltro="+F.idFiltro:"?idFiltro="+F.idFiltro+"&fechaDesde="+F.fechaDesde+"&fechaHasta="+F.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/cardiologia/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){F.loader=!1,F.pedidos=e.data}).catch(function(e){setTimeout(function(){F.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(F.pedidos).draw()},view:function(e){return F.loader?[n()(gn,{oncreate:gn.setPage(42)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/cardiologia"},[" Cardiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==F.error.length?[n()(gn,{oncreate:gn.setPage(42)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/cardiologia"},[" Cardiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:F.loader||0===F.pedidos.length?F.loader||0!=F.pedidos.length?[n()(gn,{oncreate:gn.setPage(42)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/cardiologia"},[" Cardiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(gn,{oncreate:gn.setPage(42)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/cardiologia"},[" Cardiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(gn,{oncreate:gn.setPage(42)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/cardiologia"},[" Cardiología "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()(kn)])),n()("div.section-nav",[n()("label.nav-label","RECEPCIÓN DE PEDIDOS"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","N° de Pedidos:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",F.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(Pn)))])]}},En=F,Tn=Jn(360),An={view:function(){var e=B.getDataUser();if(0!==e.length)return[e.modulesAccess["bco-sangre"].map(function(e,t,a){return[Tn(Tn.route.Link,{href:"/"+e.href,class:Sn.page==e.idModulo?"active":""},[e.label])]})]}},Sn={page:"",setPage:function(e){Sn.page=e},view:function(){return[Tn(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[Tn("div.sidebar-header",[Tn("a[href=''][id='mainMenuOpen']",Tn("i[data-feather='menu']")),Tn("h5","Menu"),Tn("a[href=''][id='sidebarMenuClose']",Tn("i[data-feather='x']"))]),Tn("div.sidebar-body",Tn("ul.sidebar-nav",[Tn("li.nav-label.mg-b-15","Banco de Sangre "),Tn("li.nav-item.show",[Tn(Tn.route.Link,{href:"/bco-sangre",class:"nav-link with-sub"},[Tn("i[data-feather='layout']")," Banco de Sangre "]),Tn("nav.nav",[Tn(An)])])]))])]}},Cn=Sn,In=Jn(360),Fn={view:function(){return[In("div.content.content-components",In("div.container",{style:{"max-width":"100%"}},[In("ol.breadcrumb.df-breadcrumbs.mg-b-10",[In("li.breadcrumb-item",In(In.route.Link,{href:"/"},["MetroPlus"])),In("li.breadcrumb-item.active[aria-current='page']","Banco de Sangre")]),In("h1.df-title.mg-t-20.mg-b-10","Banco de Sangre:"),In("div.row.tx-14",[d.isShow("bco-sangre",19)?[In("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:function(){In.route.set("/bco-sangre/pedidos")}},[In("div",{class:"media"},[In("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},In("i",{class:"fas fa-inbox tx-30 tx-white"})),In("div",{class:"media-body mg-l-15"},[In("p",{class:"tx-18 mg-b-0"},"Recepción de Pedidos"),In("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepción de Pedidos")])])])]:[]])]))]}},Nn={oninit:function(){o.page="",Cn.page="",d.isAuth()},oncreate:function(){document.title="Banco de Sangre | "+d.title},view:function(){return[In(o,{oncreate:o.setPage("bco-sangre")}),In(Cn),In(Fn)]}};var Ln={showFilter:!0,showSearch:!0,show:!1,increment:function(e){e.seconds--,0==e.seconds&&window.location.reload(),n().redraw()},start:function(e){e.interval=setInterval(Ln.increment,1e3,e)},stop:function(e){e.interval=clearInterval(e.interval)},reset:function(e){e.seconds=100},toggle:function(e){e.isPaused?Ln.start(e):Ln.stop(e),e.isPaused=!e.isPaused}};function Rn(){var t={interval:null,seconds:100,isPaused:!1};return Ln.start(t),{view:function(){return[n()("div.mg-b-0",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-5",[n()("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualización en:")]),n()("div.d-flex.justify-content-between.mg-b-5",[n()("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),n()("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-15",t.isPaused?[n()("i.fas.fa-play.pd-2",{title:"Start",onclick:function(){Ln.toggle(t)},style:{cursor:"pointer"}})]:[n()("i.fas.fa-pause.pd-2",{title:"Pause",onclick:function(){Ln.toggle(t)},style:{cursor:"pointer"}})]))]),n()("div.progress.ht-4.mg-b-0.op-5",n()(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:function(e){e.dom.style.width="100%"},onupdate:function(e){e.dom.style.width=t.seconds+"%"}}))])]},onremove:function(){Ln.stop(t)}}}var On={oncreate:function(){N.loadPedidos(),0!==N.searchField.length&&$("#table-pedidos").DataTable().search(N.searchField).draw()},view:function(){return n()("div.row.animated.fadeInUp",{},[n()("div.col-12",[n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[n()("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[n()("h5.mg-b-0","Pedidos de Banco de Sangre:",n()("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:function(e){1==N.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==N.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==N.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==N.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==N.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")},onupdate:function(e){1==N.idFiltro&&(e.dom.innerHTML="Pedidos de Hoy"),2==N.idFiltro&&(e.dom.innerHTML="Pedidos entre Fechas"),3==N.idFiltro&&(e.dom.innerHTML="Pedidos de Emergencia"),4==N.idFiltro&&(e.dom.innerHTML="Pedidos de C. Externa"),5==N.idFiltro&&(e.dom.innerHTML="Pedidos de Hospitalización")}})),n()("div.d-flex.tx-14",[n()(".",{class:1==N.idFiltro?"d-none":"d-flex"},[n()("div.link-03",{title:"Desde"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Desde"},n()("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:function(e){e.dom.value=1!==N.idFiltro?moment(moment(N.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){N.fechaDesde=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetchPedidos(),n().route.set("/terapia-respiratoria/pedidos?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}})),n()("div.link-03",{title:"Hasta"},n()(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),n()("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},n()("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:function(e){e.dom.value=1!==N.idFiltro?moment(moment(N.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:function(e){N.fechaHasta=moment(moment(e.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetchPedidos(),n().route.set("/terapia-respiratoria/pedidos?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta)},style:{border:"transparent"}}))]),n()("div.dropdown.dropleft",[n()("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},n()("i.fas.fa-filter.tx-18.pd-5")),n()(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[n()("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),n()(n().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),n()(n().route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos entre Fechas"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de Emergencia"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de C. Externa"]),n()(n().route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta},["Pedidos de Hospitalización"])])])])]),n()("div.col-sm-12.filemgr-content-header",{class:1==N.idFiltro?"mg-t-35":"mg-t-40"},[n()("i[data-feather='search']"),n()("div.search-form",n()("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(e){N.searchField=e.target.value},value:N.searchField}))]),n()("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])}},N={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:function(e){Cn.page="",0==N.pedidos.length&&(N.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),N.fechaHasta=moment().format("DD-MM-YYYY"),N.loader=!0,N.pedidos=[],N.fetchPedidos())},oncreate:function(e){Te.suscribirCanal("MetroPlus-Bco-Sangre")},loadPedidos:function(){$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:N.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por página",sProcessing:"Procesando...",sZeroRecords:"Todavía no tienes resultados disponibles.",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[1,"Desc"]],destroy:!0,columns:[{title:"Tipo: "},{title:"Fecha y Hora: "},{title:"Atención N°: "},{title:"Paciente: "},{title:"Médico: "},{title:"Opciones: "}],aoColumnDefs:[{mRender:function(e,t,a,o){return o.row+o.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(e,t,a){return a.CD_PED_LAB},visible:!0,aTargets:[1],orderable:!0},{mRender:function(e,t,a){return a.CD_PACIENTE},visible:!0,aTargets:[2],orderable:!0},{mRender:function(e,t,a){return a.NM_PACIENTE},visible:!0,aTargets:[3],orderable:!0},{mRender:function(e,t,a){return a.MED_MV},visible:!0,aTargets:[4],orderable:!0},{mRender:function(e,t,a){return""},visible:!1,aTargets:[5],orderable:!1}],fnRowCallback:function(e,t,a,o){n().mount(e,{view:function(){return[n()("td.wd-5p",{class:"EMERGENCIA"==t.SECTOR?"bg-danger":"bg-primary",title:"EMERGENCIA"==t.SECTOR?"Emergencia":"Hospitalización"},["EMERGENCIA"==t.SECTOR?n()("span.badge.badge-pill.badge-danger.mg-b-1","U"):n()("span.badge.badge-pill.badge-primary.mg-b-1","H")]),n()("td.wd-15p",{style:{}},n()(".d-inline.mg-r-5",{},t.FECHA_PEDIDO+" "+t.HORA_PEDIDO)),n()("td.tx-center",{style:{}},n()("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1","N°: "+t.AT_MV)),n()("td.tx-14",{style:{}},[n()(".d-inline.mg-r-5",{class:"EMERGENCIA"==t.SECTOR?"tx-danger":"tx-primary"},t.SECTOR),n()("br"),"NHC: "+t.CD_PACIENTE,n()("br"),"PTE: "+t.NM_PACIENTE,n()("br"),n()("br"),"EXAMEN:",n()("br"),t.EXAMEN,n()("br"),null==t.OBS_EXAMEN?[]:[n()(".d-inline.mg-r-5",{class:"tx-danger"},"Observacion: ",n()("br"),t.OBS_EXAMEN)]]),n()("td",{style:{}},t.MED_MV),n()("td.tx-center.d-none",{onclick:function(){n().route.set("/cardiologia/pedido/",{numeroHistoriaClinica:t.CD_PACIENTE,numeroAtencion:t.AT_MV,numeroPedido:t.CD_PRE_MED,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]}})},drawCallback:function(e){N.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(e){t.search($("#searchField").val()).draw()}),t},fetchPedidos:function(){var e="",e=1==N.idFiltro?"?idFiltro="+N.idFiltro:"?idFiltro="+N.idFiltro+"&fechaDesde="+N.fechaDesde+"&fechaHasta="+N.fechaHasta;n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/bco-sangre/pedidos"+e,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){N.loader=!1,N.pedidos=e.data}).catch(function(e){setTimeout(function(){N.fetchPedidos()},2e3)})},reloadData:function(){var e=$("#table-pedidos").DataTable();e.clear(),e.rows.add(N.pedidos).draw()},view:function(e){return N.loader?[n()(Cn,{oncreate:Cn.setPage(19)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])])])])]))]:0!==N.error.length?[n()(Cn,{oncreate:Cn.setPage(19)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("p","No existe infrmac dd ncin")])]))]:N.loader||0===N.pedidos.length?N.loader||0!=N.pedidos.length?[n()(Cn,{oncreate:Cn.setPage(19)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("p"," Error interno.")])])]))]:[n()(Cn,{oncreate:Cn.setPage(19)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()(".alert.alert-danger[role='alert']","No existe información disponible.")])])]))]:[n()(Cn,{oncreate:Cn.setPage(19)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/bco-sangre"},[" Banco de Sangre "])),n()("li.breadcrumb-item.active[aria-current='page']","Recepción de Pedidos")]),n()("h1.df-title.mg-t-20.mg-b-10","Recepción de Pedidos:"),n()(On)])),n()("div.section-nav",[n()("label.nav-label","RECEPCIÓN DE PEDIDOS"),n()("div.mg-t-10.bg-white",{},n()("div.mg-t-10.bg-white",n()("div.card-header.pd-t-20.pd-b-0.bd-b-0",[n()("h6.lh-5.mg-b-5","N° de Pedidos:")]),n()("div.card-body.pd-0",[n()("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[n()("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",N.pedidos.length),n()("div.tx-18",[n()("divv.lh-0.tx-gray-300","Pedido(s)")])])])),n()("div.pd-20",n()(Rn)))])]}},Hn=N,Yn={secs:[],nombres:"",show:!1,view:function(){var o="",r="",i="";return 0==jn.num&&setTimeout(function(){jn.num=jn.data.length,jn.parseFetch(),n().redraw.sync()},2e3),0==Yn.secs.length?[n()("div.pd-10.wd-100p",n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Procesando "+jn.data.length+" formulario(s) encontrado(s)..."}}),n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]:[Yn.secs.map(function(e,t,a){if("prescripciones_texto"==e.name&&(r=e.answer),"evolucion_medica_texto"==e.name&&(o=e.answer),"cd_documento_clinico"==e.name&&(i="http://172.16.253.18/mvpep/api/clinical-documents/"+e.answer+".pdf?company=1&department=75"),"Logotipo_archivo"==e.name)return[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML=jn.data.length+" formulario(s) encontrado(s)."}}),n()("table.table.table-bordered.wd-100p",{style:{zoom:jn.zoom}},[n()("thead",[n()("tr",n()("th[colspan='12'][scope='col']",[n()("i.tx-light.fas.fa-file-alt.mg-r-2."),n()("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),n()("tr",[n()("th[colspan='10'][scope='col']",n()("div.m-0.p-0",n()("img",{width:"100rem",src:"data:image/png;base64,"+e.answer}))),n()("th.tx-right[colspan='2'][scope='col']",n()("a.tx-right.tx-semibold",{href:i,target:"_blank"},n()("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),n()("tbody",[n()("tr",[n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ESTABLECIMIENTO")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NOMBRE")),n()("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","APELLIDO")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","SEXO (M-F)")),n()("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","NHCL.")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.tx-bold.text-center.","ADM."))]),n()("tr",[n()("th.text-center[colspan='3'][scope='row']",n()("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",Yn.nombres)),n()("td.text-center[colspan='3']",n()("div.m-0.p-0.text-center",Yn.apellidos_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Yn.sexo)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Yn.nhcl)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Yn.numero_admision))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","EDAD")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","UBICACION")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),n()("tr",[n()("td.text-center[colspan='1'][scope='row']",n()("div.m-0.p-0.text-center",Yn.edad||Yn.edad_paciente)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Yn.identificacion)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Yn.fecha_admision)),n()("td.text-center[colspan='1']",n()("div.m-0.p-0.text-center",Yn.fecha_admision)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",Yn.ubicacion)),n()("td.text-center[colspan='4']",n()("div.m-0.p-0.text-center",Yn.medico_tratante))]),n()("tr",[n()("th[colspan='6'][scope='row'][width='50%']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCIÓN")),n()("th[colspan='5'][scope='row'][width='50%']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},n()("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",n()("br"),"CADA PRESCRIPCIÓN"]))]),n()("tr",[n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FECHA",n()("br"),"día/mes/año"])),n()("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","HORA")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCIÓN")),n()("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",n()("br"),"(PARA ENFERMERÍA Y OTRO PERSONAL)"])),n()("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},n()("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",n()("br"),"FÁRMACOS INSUMOS"]))]),n()("tr",[n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.tx-bold.text-justify",null!==o&&0!==o.length?n().trust(o.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),n()("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},n()("div.m-0.p-2.text-justify",null!==r&&0!==r.length?n().trust(r.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},jn={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:function(o){return Object.keys(o.data).map(function(e,t,a){Yn.secs.push(o.data[e])}),Yn.secs.map(function(e,t,a){"nombres"==e.name&&(Yn.nombres=e.answer),"apellidos_paciente"==e.name&&(Yn.apellidos_paciente=e.answer),"sexo de paciente"==e.name&&(Yn.sexo=e.answer),"nhcl"==e.name&&(Yn.nhcl=e.answer),"numero_admision"==e.name&&(Yn.numero_admision=e.answer),"edad"==e.name&&(Yn.edad=e.answer),"edad_paciente"==e.name&&(Yn.edad_paciente=e.answer),"identificacion_paciente"==e.name&&(Yn.identificacion=e.answer),"fecha_admision"==e.name&&(Yn.fecha_admision=e.answer),"ubicacion_atencion"==e.name&&(Yn.ubicacion=e.answer),"fecha_alta"==e.name&&(Yn.fecha_alta=null==e.answer?"":e.answer),"medico_tratante"==e.name&&(Yn.medico_tratante=e.answer)})},parseFetch:function(){return Yn.secs=[],jn.data.map(function(e,t,a){jn.parseDoc(jn.data[t])})},fetch:function(){jn.data=[],jn.error="",n().request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+jn.nhc+"&adm="+jn.adm,headers:{Authorization:localStorage.accessToken}}).then(function(e){0!==e.length?(jn.data=e,jn.num=0):jn.error="El documento solicitado no esta disponible."}).catch(function(e){setTimeout(function(){jn.fetch()},5e3)})},view:function(){return jn.error?[n()(".alert.alert-danger[role='alert']",jn.error)]:0!==jn.data.length?[n()(Yn)]:[n()("div.d-inline.tx-secondary.tx-12",{oncreate:function(e){e.dom.innerHTML="Buscando información..."}}),n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},Un={data:[],detalle:[],error:"",showFor:"",fetch:function(){Un.data=[],Un.error="",n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Bn.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(e){e.status?(Un.data=e.data,jn.adm=Un.data[0].ADM,jn.nhc=Un.data[0].NHCL,jn.fetch()):Un.error=e.message}).catch(function(e){setTimeout(function(){Un.fetch()},5e3)})},view:function(){return Un.error?[n()(".alert.alert-danger[role='alert']",Un.error)]:0!==Un.data.length?[n()(jn)]:[n()("div.pd-10.wd-100p",n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")]))]}},$n={view:function(){if(0!==Bn.examenes.length)return Bn.examenes.map(function(e,t,a){return[n()(".tx-14.tx-semibold.d-inline",e.EXAMEN),n()("br"),null!==e.OBS_EXAMEN?n()(".d-inline.tx-danger","Observaciones:"):"",null!==e.OBS_EXAMEN?n()("br"):"",null!==e.OBS_EXAMEN?n()(".d-inline",e.OBS_EXAMEN):""]})}},Bn={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:function(e){d.isAuth(),void 0!==e.attrs.numeroPedido&&(document.title="Detalle de Pedido N°: "+e.attrs.numeroPedido+" | "+d.title,(void 0!==Bn.data&&0==Bn.data.length||Bn.numeroPedido!==e.attrs.numeroPedido)&&(Bn.numeroPedido=e.attrs.numeroPedido,Bn.numeroAtencion=e.attrs.numeroAtencion,Bn.numeroHistoriaClinica=e.attrs.numeroHistoriaClinica,Bn.fetch()))},fetch:function(){Bn.data=[],Bn.loader=!0,n().request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-tf",body:{numeroPedido:Bn.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){e.status?(Bn.loader=!1,Bn.data=e.data,Bn.examenes=e.examenes,Un.fetch()):Bn.error=e.message}).catch(function(e){})},view:function(e){return[n()(o,{oncreate:o.setPage("imagen")}),n()(ln,{oncreate:ln.setPage(24)}),n()("div.content.content-components",n()("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[n()("ol.breadcrumb.df-breadcrumbs.mg-b-10",[n()("li.breadcrumb-item",n()(n().route.Link,{href:"/"},[" MetroPlus "])),n()("li.breadcrumb-item",n()(n().route.Link,{href:"/terapia-fisica"},["Terapia Física"])),n()("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),n()("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N°: "+Bn.numeroPedido),n()("div.row.animated.fadeInUp",[n()("div.col-12",[n()("div.table-loader.wd-100p",{oncreate:function(e){Bn.loader?e.dom.hidden=!1:e.dom.hidden=!0},onupdate:function(e){Bn.loader?e.dom.hidden=!1:e.dom.hidden=!0}},[n()("div.placeholder-paragraph",[n()("div.line"),n()("div.line")])]),n()("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:function(e){Bn.loader?e.dom.hidden=!0:e.dom.hidden=!1},onupdate:function(e){Bn.loader?e.dom.hidden=!0:e.dom.hidden=!1}},[n()("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[n()("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",n()("small.pd-2.tx-20",n()("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:function(){window.close()}}))),"N"==Bn.data.TIPO_PEDIDO?[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")]:[n()("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[n()("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")],n()("div.table-responsive",[n()("table.table.table-bordered.table-sm.tx-12",[n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° de PedidoTF:"),n()("td",{style:{"background-color":"#eaeff5"}},Bn.data.CD_PRE_MED),n()("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Bn.data.FECHA_PedidoTF+" "+Bn.data.HORA_PedidoTF),n()("th",{style:{"background-color":"#a8bed6"}},"Origen:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Bn.data.SECTOR)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Médico Solicitante:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Bn.data.MED_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),n()("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Bn.data.ESPECIALIDAD)])]),n()("thead",n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),n()("tbody",[n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Bn.data.NM_PACIENTE),n()("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),n()("td",{style:{"background-color":"#eaeff5"}},Bn.data.EDAD),n()("th",{style:{"background-color":"#a8bed6"}},"NHC:"),n()("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Bn.data.CD_PACIENTE)]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"N° Atención:"),n()("td",{style:{"background-color":"#eaeff5"}},Bn.data.AT_MV),n()("th",{style:{"background-color":"#a8bed6"}},"Peso:"),n()("td",{style:{"background-color":"#eaeff5"}},Bn.data.PESO),n()("th",{style:{"background-color":"#a8bed6"}},"Altura:"),n()("td",{style:{"background-color":"#eaeff5"}},Bn.data.ALTURA),n()("th",{style:{"background-color":"#a8bed6"}},"Ubicación:"),n()("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Bn.data.SECTOR+" "+Bn.data.UBICACION)]),n()("tr.bg-litecoin.op-9.tx-white",[n()("th[scope='col'][colspan='9']","EXÁMENES Y OBSERVACIONES:")]),n()("tr",[n()("th",{style:{"background-color":"#a8bed6"}},"Exámenes:"),n()("td[colspan='8']",{style:{"background-color":"#eaeff5"}},n()($n))]),n()("tr.d-print-none.bg-litecoin.op-9.tx-white.",[n()("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),n()("tr.d-print-none",[n()("td[colspan='9']",{style:{"background-color":"#eaeff5"}},n()("ul.nav.nav-tabs[id='myTab'][role='tablist']",[n()("li.nav-item",n()("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},n()("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),n()("tr.d-print-none",[n()("td[colspan='9']",{},n()(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[n()(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[n()(Un)])]))]),n()("tr.d-print-none",[])])])])])])])])]))]}},Vn=Bn,L=Jn(360),Ve=(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),{"/":d,"/subscribir/notificaciones":Ve,"/redir/mv/:idAtencion":R,"/inicio":Tt,"/laboratorio":je,"/laboratorio/lisa/pedidos/ingresados":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/laboratorio/lisa/pedidos/ingresados/",{idFiltro:1});ot.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==ot.idFiltro&&1!==ot.idFiltro&&void 0!==ot.fechaDesde?(ot.idFiltro=e.attrs.idFiltro,ot.fechaDesde=e.attrs.fechaDesde,ot.fechaHasta=e.attrs.fechaHasta,ot.loader=!0,ot.pedidos=[],ot.fetchPedidosIngresados()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),ot.idFiltro=e.attrs.idFiltro,ot.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),ot.fechaHasta=moment().format("DD-MM-YYYY"),0==ot.pedidos.length?(ot.loader=!0,ot.pedidos=[],ot.fetchPedidosIngresados()):ot.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("laboratorio")}),L(ot)]}},"/laboratorio/lisa/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido&&void 0!==e.idTimeRecord?mt:L.route.SKIP}},"/laboratorio/notificaciones":$e,"/laboratorio/notificaciones/filtros":qe,"/laboratorio/notificaciones/enviadas":Ge,"/laboratorio/notificaciones/pendientes":ao,"/laboratorio/notificaciones/error":ro,"/laboratorio/flebotomista":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/laboratorio/flebotomista/",{idFiltro:1});Qe.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Qe.idFiltro&&1!==Qe.idFiltro&&void 0!==Qe.fechaDesde?(Qe.idFiltro=e.attrs.idFiltro,Qe.fechaDesde=e.attrs.fechaDesde,Qe.fechaHasta=e.attrs.fechaHasta,Qe.loader=!0,Qe.pedidos=[],Qe.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Qe.idFiltro=e.attrs.idFiltro,Qe.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Qe.fechaHasta=moment().format("DD-MM-YYYY"),0==Qe.pedidos.length?(Qe.loader=!0,Qe.pedidos=[],Qe.fetchPedidos()):Qe.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("laboratorio")}),L(Qe)]}},"/laboratorio/flebotomista/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido&&void 0!==e.idTimeRecord?Ar:L.route.SKIP}},"/laboratorio/etiquetas":{oninit:function(e){d.isAuth("laboratorio",28),document.title="Configuración de Etiquetas | "+d.title},view:function(e){return[L(o,{oncreate:o.setPage("laboratorio")}),L(si)]}},"/laboratorio/formularios":gt,"/emergencia":Lt,"/emergencia/auxiliar/pedidos/laboratorio":Ot,"/emergencia/auxiliar/pedido/:idPedido":Jt,"/emergencia/enfermeria/pedidos/laboratorio":Xt,"/emergencia/enfermeria/pedido/:idPedido":oa,"/farmacia":ca,"/farmacia/recetas":{oninit:function(e){if(d.isAuth("farmacia",5),document.title="Recetas de Alta | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/farmacia/recetas/",{idFiltro:1});ti.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==ti.idFiltro&&1!==ti.idFiltro&&void 0!==ti.fechaDesde?(ti.idFiltro=e.attrs.idFiltro,ti.fechaDesde=e.attrs.fechaDesde,ti.fechaHasta=e.attrs.fechaHasta,ti.loader=!0,ti.pedidos=[],ti.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),ti.idFiltro=e.attrs.idFiltro,ti.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),ti.fechaHasta=moment().format("DD-MM-YYYY"),0==ti.pedidos.length?(ti.loader=!0,ti.pedidos=[],ti.fetch()):ti.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("laboratorio")}),L(ti)]}},"/farmacia/receta/":{onmatch:function(e){return void 0!==e.numeroReceta?ii:L.route.SKIP}},"/contabilidad":fi,"/contabilidad/proceso/tarjeta-roja":ki,"/contabilidad/proceso/tarjeta-roja/nueva":Ti,"/contabilidad/proceso/tarjeta-roja/id":Vi,"/contabilidad/proceso/tarjeta-roja/status":Wi,"/contabilidad/proceso/tarjeta-roja/inicio":en,"/contabilidad/proceso/tarjeta-roja/autorizaciones":{oninit:function(e){if(d.isAuth("contabilidad",33),document.title="Autorizaciones | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/contabilidad/proceso/tarjeta-roja/autorizaciones/",{idFiltro:1});Xi.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Xi.idFiltro&&1!==Xi.idFiltro&&void 0!==Xi.fechaDesde?(Xi.idFiltro=e.attrs.idFiltro,Xi.fechaDesde=e.attrs.fechaDesde,Xi.fechaHasta=e.attrs.fechaHasta,Xi.loader=!0,Xi.pedidos=[],Xi.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Xi.idFiltro=e.attrs.idFiltro,Xi.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Xi.fechaHasta=moment().format("DD-MM-YYYY"),0==Xi.pedidos.length?(Xi.loader=!0,Xi.pedidos=[],Xi.fetch()):Xi.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("contabilidad")}),L(Xi)]}},"/contabilidad/proceso/tarjeta-roja/consultar":{oninit:function(e){if(document.title="Consultar Status | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/contabilidad/proceso/tarjeta-roja/consultar/",{idFiltro:1});rn.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==rn.idFiltro&&1!==rn.idFiltro&&void 0!==rn.fechaDesde?(rn.idFiltro=e.attrs.idFiltro,rn.fechaDesde=e.attrs.fechaDesde,rn.fechaHasta=e.attrs.fechaHasta,rn.loader=!0,rn.pedidos=[],rn.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),rn.idFiltro=e.attrs.idFiltro,rn.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),rn.fechaHasta=moment().format("DD-MM-YYYY"),0==rn.pedidos.length?(rn.loader=!0,rn.pedidos=[],rn.fetch()):rn.loader=!1)},view:function(e){return[L(Q),L(rn)]}},"/admisiones":ha,"/admisiones/pre":wa,"/admisiones/etiquetas":{oninit:function(e){if(d.isAuth("admisiones",7),document.title="Impresión de Etiquetas | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/admisiones/etiquetas/",{idFiltro:1});Kr.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Kr.idFiltro&&1!==Kr.idFiltro&&void 0!==Kr.fechaDesde?(Kr.idFiltro=e.attrs.idFiltro,Kr.fechaDesde=e.attrs.fechaDesde,Kr.fechaHasta=e.attrs.fechaHasta,Kr.loader=!0,Kr.pedidos=[],Kr.fetchEtiquetas()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Kr.idFiltro=e.attrs.idFiltro,Kr.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Kr.fechaHasta=moment().format("DD-MM-YYYY"),0==Kr.pedidos.length?(Kr.loader=!0,Kr.pedidos=[],Kr.fetchEtiquetas()):Kr.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("admisiones")}),L(Kr)]}},"/mantenimiento":Sa,"/mantenimiento/higienizacion":Ia,"/hospitalizacion":Ya,"/hospitalizacion/pasaportes":Ua,"/hospitalizacion/control-camas":Qa,"/terapia-respiratoria/pedidos":{oninit:function(e){if(d.isAuth("terapia-respiratoria",18),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/terapia-respiratoria/pedidos/",{idFiltro:1});po.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==po.idFiltro&&1!==po.idFiltro&&void 0!==po.fechaDesde?(po.idFiltro=e.attrs.idFiltro,po.fechaDesde=e.attrs.fechaDesde,po.fechaHasta=e.attrs.fechaHasta,po.loader=!0,po.pedidos=[],po.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),po.idFiltro=e.attrs.idFiltro,po.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),po.fechaHasta=moment().format("DD-MM-YYYY"),0==po.pedidos.length?(po.loader=!0,po.pedidos=[],po.fetchPedidos()):po.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("terapia-respiratoria")}),L(po)]}},"/bco-sangre":Nn,"/bco-sangre/pedidos":{oninit:function(e){if(d.isAuth("bco-sangre",19),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/bco-sangre/pedidos/",{idFiltro:1});Hn.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Hn.idFiltro&&1!==Hn.idFiltro&&void 0!==Hn.fechaDesde?(Hn.idFiltro=e.attrs.idFiltro,Hn.fechaDesde=e.attrs.fechaDesde,Hn.fechaHasta=e.attrs.fechaHasta,Hn.loader=!0,Hn.pedidos=[],Hn.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Hn.idFiltro=e.attrs.idFiltro,Hn.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Hn.fechaHasta=moment().format("DD-MM-YYYY"),0==Hn.pedidos.length?(Hn.loader=!0,Hn.pedidos=[],Hn.fetchPedidos()):Hn.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("bco-sangre")}),L(Hn)]}},"/neurofisiologia":Uo,"/neurofisiologia/pedidos":{oninit:function(e){if(d.isAuth("neurofisiologia",20),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/neurofisiologia/pedidos/",{idFiltro:1});yo.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==yo.idFiltro&&1!==yo.idFiltro&&void 0!==yo.fechaDesde?(yo.idFiltro=e.attrs.idFiltro,yo.fechaDesde=e.attrs.fechaDesde,yo.fechaHasta=e.attrs.fechaHasta,yo.loader=!0,yo.pedidos=[],yo.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),yo.idFiltro=e.attrs.idFiltro,yo.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),yo.fechaHasta=moment().format("DD-MM-YYYY"),0==yo.pedidos.length?(yo.loader=!0,yo.pedidos=[],yo.fetchPedidos()):yo.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("neurofisiologia")}),L(yo)]}},"/neurofisiologia/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?qo:L.route.SKIP}},"/cardiologia":xn,"/cardiologia/pedidos":{oninit:function(e){if(d.isAuth("cardiologia",42),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/cardiologia/pedidos/",{idFiltro:1});En.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==En.idFiltro&&1!==En.idFiltro&&void 0!==En.fechaDesde?(En.idFiltro=e.attrs.idFiltro,En.fechaDesde=e.attrs.fechaDesde,En.fechaHasta=e.attrs.fechaHasta,En.loader=!0,En.pedidos=[],En.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),En.idFiltro=e.attrs.idFiltro,En.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),En.fechaHasta=moment().format("DD-MM-YYYY"),0==En.pedidos.length?(En.loader=!0,En.pedidos=[],En.fetchPedidos()):En.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("cardiologia")}),L(En)]}},"/terapia-fisica":mn,"/terapia-fisica/pedidos":{oninit:function(e){if(d.isAuth("terapia-fisica",41),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/terapia-fisica/pedidos/",{idFiltro:1});Mn.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Mn.idFiltro&&1!==Mn.idFiltro&&void 0!==Mn.fechaDesde?(Mn.idFiltro=e.attrs.idFiltro,Mn.fechaDesde=e.attrs.fechaDesde,Mn.fechaHasta=e.attrs.fechaHasta,Mn.loader=!0,Mn.pedidos=[],Mn.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Mn.idFiltro=e.attrs.idFiltro,Mn.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Mn.fechaHasta=moment().format("DD-MM-YYYY"),0==Mn.pedidos.length?(Mn.loader=!0,Mn.pedidos=[],Mn.fetchPedidos()):Mn.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("terapia-fisica")}),L(Mn)]}},"/terapia-fisica/pedido":{onmatch:function(e){return void 0!==e.numeroPedido?Vn:L.route.SKIP}},"/terapia-respiratoria":Zo,"/terapia-respiratoria/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?ar:L.route.SKIP}},"/imagen":Ho,"/imagen/agendamiento":{oninit:function(e){d.isAuth("imagen",31),document.title="Agendamiento de Imagen | "+d.title},onupdate:function(e){},view:function(e){return[L(Oi,{oncreate:Oi.setPage("imagen")}),L(xi)]}},"/imagen/agendamiento/cita":{oninit:function(e){d.isAuth("imagen",31),document.title="Detalle de Cita | "+d.title},view:function(e){return[L(Oi,{oncreate:Oi.setPage("imagen")}),L(Yi,{id:e.attrs.id})]}},"/imagen/agendamiento/nueva-cita":{oninit:function(e){d.isAuth("imagen",31),document.title="Agendamiento de Imagen | "+d.title},onupdate:function(e){},view:function(e){return[L(Oi,{oncreate:Oi.setPage("imagen")}),L(Ui)]}},"/imagen/notificaciones":{oninit:function(e){if(d.isAuth("imagen",35),document.title="Notificaciones de Imagen | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/imagen/notificaciones/",{idFiltro:1});Ii.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Ii.idFiltro&&1!==Ii.idFiltro&&void 0!==Ii.fechaDesde?(Ii.idFiltro=e.attrs.idFiltro,Ii.fechaDesde=e.attrs.fechaDesde,Ii.fechaHasta=e.attrs.fechaHasta,Ii.loader=!0,Ii.pedidos=[],Ii.fetch()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Ii.idFiltro=e.attrs.idFiltro,Ii.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Ii.fechaHasta=moment().format("DD-MM-YYYY"),0==Ii.pedidos.length?(Ii.loader=!0,Ii.pedidos=[],Ii.fetch()):Ii.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("imagen")}),L(Ii)]}},"/imagen/pedidos":{oninit:function(e){if(d.isAuth("laboratorio",16),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/imagen/pedidos/",{idFiltro:1});Ao.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==Ao.idFiltro&&1!==Ao.idFiltro&&void 0!==Ao.fechaDesde?(Ao.idFiltro=e.attrs.idFiltro,Ao.fechaDesde=e.attrs.fechaDesde,Ao.fechaHasta=e.attrs.fechaHasta,Ao.loader=!0,Ao.pedidos=[],Ao.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),Ao.idFiltro=e.attrs.idFiltro,Ao.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),Ao.fechaHasta=moment().format("DD-MM-YYYY"),0==Ao.pedidos.length?(Ao.loader=!0,Ao.pedidos=[],Ao.fetchPedidos()):Ao.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("imagen")}),L(Ao)]}},"/imagen/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?Lo:L.route.SKIP}},"/endoscopia":lr,"/endoscopia/pedidos":{oninit:function(e){if(d.isAuth("endoscopia",25),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/endoscopia/pedidos/",{idFiltro:1});pr.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==pr.idFiltro&&1!==pr.idFiltro&&void 0!==pr.fechaDesde?(pr.idFiltro=e.attrs.idFiltro,pr.fechaDesde=e.attrs.fechaDesde,pr.fechaHasta=e.attrs.fechaHasta,pr.loader=!0,pr.pedidos=[],pr.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),pr.idFiltro=e.attrs.idFiltro,pr.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),pr.fechaHasta=moment().format("DD-MM-YYYY"),0==pr.pedidos.length?(pr.loader=!0,pr.pedidos=[],pr.fetchPedidos()):pr.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("endoscopia")}),L(pr)]}},"/endoscopia/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?xr:L.route.SKIP}},"/patologia":Rr,"/patologia/pedidos":{oninit:function(e){if(d.isAuth("patologia",26),document.title="Recepción de Pedidos | "+d.title,null==e.attrs.idFiltro&&null==e.attrs.fechaDesde)return L.route.set("/patologia/pedidos/",{idFiltro:1});jr.idFiltro=e.attrs.idFiltro},onupdate:function(e){e.attrs.idFiltro!==jr.idFiltro&&1!==jr.idFiltro&&void 0!==jr.fechaDesde?(jr.idFiltro=e.attrs.idFiltro,jr.fechaDesde=e.attrs.fechaDesde,jr.fechaHasta=e.attrs.fechaHasta,jr.loader=!0,jr.pedidos=[],jr.fetchPedidos()):1==e.attrs.idFiltro&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),jr.idFiltro=e.attrs.idFiltro,jr.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),jr.fechaHasta=moment().format("DD-MM-YYYY"),0==jr.pedidos.length?(jr.loader=!0,jr.pedidos=[],jr.fetchPedidos()):jr.loader=!1)},view:function(e){return[L(o,{oncreate:o.setPage("patologia")}),L(jr)]}},"/patologia/pedido/":{onmatch:function(e){return void 0!==e.numeroPedido?zr:L.route.SKIP}},"/auth":ae,"/mi-perfil":wt,"/salir":K,"/notificaciones":bt,"/:404...":Dt}),R=Jn(360),Tt=(R.route.prefix="",document.body.querySelector("#app"));document.body.style.zoom="100%",R.route(Tt,"/",Ve)}()}();